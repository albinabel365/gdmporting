/*  Copyright (c) 2011-2014 NextGenGaming - All rights reserved */
/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*! jQuery v1.7.2 jquery.com | jquery.org/license */
/*!
 *  howler.js v1.1.25
 *  howlerjs.com
 *
 *  (c) 2013-2014, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*
 * Jukebox
 * http://github.com/zynga/jukebox
 *
 * Copyright 2011, Zynga Inc.
 * Developed by Christoph Martens (@martensms)
 *
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/jukebox/master/MIT-LICENSE.txt
 *
 */
(function(b, a) {
    function d(a) {
        return h.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1
    }
    function c(a) {
        if (!Kb[a]) {
            var b = u.body
              , d = h("<" + a + ">").appendTo(b)
              , c = d.css("display");
            d.remove();
            if ("none" === c || "" === c) {
                La || (La = u.createElement("iframe"),
                La.frameBorder = La.width = La.height = 0);
                b.appendChild(La);
                if (!gb || !La.createElement)
                    gb = (La.contentWindow || La.contentDocument).document,
                    gb.write((h.support.boxModel ? "<!doctype html>" : "") + "<html><body>"),
                    gb.close();
                d = gb.createElement(a);
                gb.body.appendChild(d);
                c = h.css(d, "display");
                b.removeChild(La)
            }
            Kb[a] = c
        }
        return Kb[a]
    }
    function e(a, b) {
        var d = {};
        h.each(Ab.concat.apply([], Ab.slice(0, b)), function() {
            d[this] = a
        });
        return d
    }
    function f() {
        Bb = a
    }
    function g() {
        setTimeout(f, 0);
        return Bb = h.now()
    }
    function k() {
        try {
            return new b.XMLHttpRequest
        } catch (a) {}
    }
    function p(a, b, d, c) {
        if (h.isArray(b))
            h.each(b, function(b, e) {
                d || pc.test(a) ? c(a, e) : p(a + "[" + ("object" == typeof e ? b : "") + "]", e, d, c)
            });
        else if (!d && "object" === h.type(b))
            for (var e in b)
                p(a + "[" + e + "]", b[e], d, c);
        else
            c(a, b)
    }
    function n(b, d) {
        var c, e, f = h.ajaxSettings.flatOptions || {};
        for (c in d)
            d[c] !== a && ((f[c] ? b : e || (e = {}))[c] = d[c]);
        e && h.extend(!0, b, e)
    }
    function q(b, d, c, e, h, f) {
        h = h || d.dataTypes[0];
        f = f || {};
        f[h] = !0;
        for (var h = b[h], j = 0, g = h ? h.length : 0, l = b === Lb, m; j < g && (l || !m); j++)
            m = h[j](d, c, e),
            "string" == typeof m && (!l || f[m] ? m = a : (d.dataTypes.unshift(m),
            m = q(b, d, c, e, m, f)));
        (l || !m) && !f["*"] && (m = q(b, d, c, e, "*", f));
        return m
    }
    function r(a) {
        return function(b, d) {
            "string" != typeof b && (d = b,
            b = "*");
            if (h.isFunction(d))
                for (var c = b.toLowerCase().split(Xb), e = 0, f = c.length, j, g; e < f; e++)
                    j = c[e],
                    (g = /^\+/.test(j)) && (j = j.substr(1) || "*"),
                    j = a[j] = a[j] || [],
                    j[g ? "unshift" : "push"](d)
        }
    }
    function l(a, b, d) {
        var c = "width" === b ? a.offsetWidth : a.offsetHeight
          , e = "width" === b ? 1 : 0;
        if (0 < c) {
            if ("border" !== d)
                for (; 4 > e; e += 2)
                    d || (c -= parseFloat(h.css(a, "padding" + ab[e])) || 0),
                    "margin" === d ? c += parseFloat(h.css(a, d + ab[e])) || 0 : c -= parseFloat(h.css(a, "border" + ab[e] + "Width")) || 0;
            return c + "px"
        }
        c = hb(a, b);
        if (0 > c || null == c)
            c = a.style[b];
        if (Mb.test(c))
            return c;
        c = parseFloat(c) || 0;
        if (d)
            for (; 4 > e; e += 2)
                c += parseFloat(h.css(a, "padding" + ab[e])) || 0,
                "padding" !== d && (c += parseFloat(h.css(a, "border" + ab[e] + "Width")) || 0),
                "margin" === d && (c += parseFloat(h.css(a, d + ab[e])) || 0);
        return c + "px"
    }
    function j(a) {
        var b = (a.nodeName || "").toLowerCase();
        "input" === b ? o(a) : "script" !== b && "undefined" != typeof a.getElementsByTagName && h.grep(a.getElementsByTagName("input"), o)
    }
    function o(a) {
        if ("checkbox" === a.type || "radio" === a.type)
            a.defaultChecked = a.checked
    }
    function s(a) {
        return "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName("*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll("*") : []
    }
    function y(a, b) {
        var d;
        1 === b.nodeType && (b.clearAttributes && b.clearAttributes(),
        b.mergeAttributes && b.mergeAttributes(a),
        d = b.nodeName.toLowerCase(),
        "object" === d ? b.outerHTML = a.outerHTML : "input" !== d || "checkbox" !== a.type && "radio" !== a.type ? "option" === d ? b.selected = a.defaultSelected : "input" === d || "textarea" === d ? b.defaultValue = a.defaultValue : "script" === d && b.text !== a.text && (b.text = a.text) : (a.checked && (b.defaultChecked = b.checked = a.checked),
        b.value !== a.value && (b.value = a.value)),
        b.removeAttribute(h.expando),
        b.removeAttribute("_submit_attached"),
        b.removeAttribute("_change_attached"))
    }
    function I(a, b) {
        if (1 === b.nodeType && h.hasData(a)) {
            var d, c, e;
            c = h._data(a);
            var f = h._data(b, c)
              , j = c.events;
            if (j)
                for (d in delete f.handle,
                f.events = {},
                j) {
                    c = 0;
                    for (e = j[d].length; c < e; c++)
                        h.event.add(b, d, j[d][c])
                }
            f.data && (f.data = h.extend({}, f.data))
        }
    }
    function x(a) {
        var b = Yb.split("|")
          , a = a.createDocumentFragment();
        if (a.createElement)
            for (; b.length; )
                a.createElement(b.pop());
        return a
    }
    function z(a, b, d) {
        b = b || 0;
        if (h.isFunction(b))
            return h.grep(a, function(a, c) {
                return !!b.call(a, c, a) === d
            });
        if (b.nodeType)
            return h.grep(a, function(a) {
                return a === b === d
            });
        if ("string" == typeof b) {
            var c = h.grep(a, function(a) {
                return 1 === a.nodeType
            });
            if (qc.test(b))
                return h.filter(b, c, !d);
            b = h.filter(b, c)
        }
        return h.grep(a, function(a) {
            return 0 <= h.inArray(a, b) === d
        })
    }
    function w() {
        return !0
    }
    function B() {
        return !1
    }
    function A(a, b, d) {
        var c = b + "defer"
          , e = b + "queue"
          , f = b + "mark"
          , j = h._data(a, c);
        j && ("queue" === d || !h._data(a, e)) && ("mark" === d || !h._data(a, f)) && setTimeout(function() {
            !h._data(a, e) && !h._data(a, f) && (h.removeData(a, c, !0),
            j.fire())
        }, 0)
    }
    function E(a) {
        for (var b in a)
            if (!("data" === b && h.isEmptyObject(a[b])) && "toJSON" !== b)
                return !1;
        return !0
    }
    function C(b, d, c) {
        if (c === a && 1 === b.nodeType)
            if (c = "data-" + d.replace(wb, "-$1").toLowerCase(),
            c = b.getAttribute(c),
            "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : h.isNumeric(c) ? +c : za.test(c) ? h.parseJSON(c) : c
                } catch (e) {}
                h.data(b, d, c)
            } else
                c = a;
        return c
    }
    var u = b.document, m = b.location, h, D = function() {
        if (!t.isReady) {
            try {
                u.documentElement.doScroll("left")
            } catch (a) {
                setTimeout(D, 1);
                return
            }
            t.ready()
        }
    }, t = function(a, b) {
        return new t.fn.init(a,b,G)
    }, K = b.jQuery, T = b.$, G, ha = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, W = /\S/, ea = /^\s+/, Aa = /\s+$/, va = /^<(\w+)\s*\/?>(?:<\/\1>)?$/, ta = /^[\],:{}\s]*$/, ia = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, ja = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, R = /(?:^|:|,)(?:\s*\[)+/g, Ca = /(webkit)[ \/]([\w.]+)/, na = /(opera)(?:.*version)?[ \/]([\w.]+)/, Y = /(msie) ([\w.]+)/, U = /(mozilla)(?:.*? rv:([\w.]+))?/, J = /-([a-z]|[0-9])/ig, V = /^-ms-/, Q = function(a, b) {
        return (b + "").toUpperCase()
    }, wa = b.navigator.userAgent, pa, Z, P, X = Object.prototype.toString, v = Object.prototype.hasOwnProperty, N = Array.prototype.push, F = Array.prototype.slice, fa = String.prototype.trim, ga = Array.prototype.indexOf, Ha = {};
    t.fn = t.prototype = {
        constructor: t,
        init: function(b, c, d) {
            var e, h;
            if (!b)
                return this;
            if (b.nodeType)
                return this.context = this[0] = b,
                this.length = 1,
                this;
            if ("body" === b && !c && u.body)
                return this.context = u,
                this[0] = u.body,
                this.selector = b,
                this.length = 1,
                this;
            if ("string" == typeof b) {
                "<" !== b.charAt(0) || ">" !== b.charAt(b.length - 1) || 3 > b.length ? e = ha.exec(b) : e = [null, b, null];
                if (e && (e[1] || !c)) {
                    if (e[1])
                        return h = (c = c instanceof t ? c[0] : c) ? c.ownerDocument || c : u,
                        (d = va.exec(b)) ? t.isPlainObject(c) ? (b = [u.createElement(d[1])],
                        t.fn.attr.call(b, c, !0)) : b = [h.createElement(d[1])] : (d = t.buildFragment([e[1]], [h]),
                        b = (d.cacheable ? t.clone(d.fragment) : d.fragment).childNodes),
                        t.merge(this, b);
                    if ((c = u.getElementById(e[2])) && c.parentNode) {
                        if (c.id !== e[2])
                            return d.find(b);
                        this.length = 1;
                        this[0] = c
                    }
                    this.context = u;
                    this.selector = b;
                    return this
                }
                return !c || c.jquery ? (c || d).find(b) : this.constructor(c).find(b)
            }
            if (t.isFunction(b))
                return d.ready(b);
            b.selector !== a && (this.selector = b.selector,
            this.context = b.context);
            return t.makeArray(b, this)
        },
        selector: "",
        jquery: "1.7.2",
        length: 0,
        size: function() {
            return this.length
        },
        toArray: function() {
            return F.call(this, 0)
        },
        get: function(a) {
            return null == a ? this.toArray() : 0 > a ? this[this.length + a] : this[a]
        },
        pushStack: function(a, b, c) {
            var d = this.constructor();
            t.isArray(a) ? N.apply(d, a) : t.merge(d, a);
            d.prevObject = this;
            d.context = this.context;
            "find" === b ? d.selector = this.selector + (this.selector ? " " : "") + c : b && (d.selector = this.selector + "." + b + "(" + c + ")");
            return d
        },
        each: function(a, b) {
            return t.each(this, a, b)
        },
        ready: function(a) {
            t.bindReady();
            Z.add(a);
            return this
        },
        eq: function(a) {
            a = +a;
            return -1 === a ? this.slice(a) : this.slice(a, a + 1)
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        slice: function() {
            return this.pushStack(F.apply(this, arguments), "slice", F.call(arguments).join(","))
        },
        map: function(a) {
            return this.pushStack(t.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: N,
        sort: [].sort,
        splice: [].splice
    };
    t.fn.init.prototype = t.fn;
    t.extend = t.fn.extend = function() {
        var b, c, d, e, h, f, j = arguments[0] || {}, g = 1, l = arguments.length, m = !1;
        "boolean" == typeof j && (m = j,
        j = arguments[1] || {},
        g = 2);
        "object" != typeof j && !t.isFunction(j) && (j = {});
        for (l === g && (j = this,
        --g); g < l; g++)
            if (null != (b = arguments[g]))
                for (c in b)
                    d = j[c],
                    e = b[c],
                    j !== e && (m && e && (t.isPlainObject(e) || (h = t.isArray(e))) ? (h ? (h = !1,
                    f = d && t.isArray(d) ? d : []) : f = d && t.isPlainObject(d) ? d : {},
                    j[c] = t.extend(m, f, e)) : e !== a && (j[c] = e));
        return j
    }
    ;
    t.extend({
        noConflict: function(a) {
            b.$ === t && (b.$ = T);
            a && b.jQuery === t && (b.jQuery = K);
            return t
        },
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? t.readyWait++ : t.ready(!0)
        },
        ready: function(a) {
            if (!0 === a && !--t.readyWait || !0 !== a && !t.isReady) {
                if (!u.body)
                    return setTimeout(t.ready, 1);
                t.isReady = !0;
                !0 !== a && 0 < --t.readyWait || (Z.fireWith(u, [t]),
                t.fn.trigger && t(u).trigger("ready").off("ready"))
            }
        },
        bindReady: function() {
            if (!Z) {
                Z = t.Callbacks("once memory");
                if ("complete" === u.readyState)
                    return setTimeout(t.ready, 1);
                if (u.addEventListener)
                    u.addEventListener("DOMContentLoaded", P, !1),
                    b.addEventListener("load", t.ready, !1);
                else if (u.attachEvent) {
                    u.attachEvent("onreadystatechange", P);
                    b.attachEvent("onload", t.ready);
                    var a = !1;
                    try {
                        a = null == b.frameElement
                    } catch (c) {}
                    u.documentElement.doScroll && a && D()
                }
            }
        },
        isFunction: function(a) {
            return "function" === t.type(a)
        },
        isArray: Array.isArray || function(a) {
            return "array" === t.type(a)
        }
        ,
        isWindow: function(a) {
            return null != a && a == a.window
        },
        isNumeric: function(a) {
            return !isNaN(parseFloat(a)) && isFinite(a)
        },
        type: function(a) {
            return null == a ? String(a) : Ha[X.call(a)] || "object"
        },
        isPlainObject: function(b) {
            if (!b || "object" !== t.type(b) || b.nodeType || t.isWindow(b))
                return !1;
            try {
                if (b.constructor && !v.call(b, "constructor") && !v.call(b.constructor.prototype, "isPrototypeOf"))
                    return !1
            } catch (c) {
                return !1
            }
            for (var d in b)
                ;
            return d === a || v.call(b, d)
        },
        isEmptyObject: function(a) {
            for (var b in a)
                return !1;
            return !0
        },
        error: function(a) {
            throw Error(a);
        },
        parseJSON: function(a) {
            if ("string" != typeof a || !a)
                return null;
            a = t.trim(a);
            if (b.JSON && b.JSON.parse)
                return b.JSON.parse(a);
            if (ta.test(a.replace(ia, "@").replace(ja, "]").replace(R, "")))
                return (new Function("return " + a))();
            t.error("Invalid JSON: " + a)
        },
        parseXML: function(c) {
            if ("string" != typeof c || !c)
                return null;
            var d, e;
            try {
                b.DOMParser ? (e = new DOMParser,
                d = e.parseFromString(c, "text/xml")) : (d = new ActiveXObject("Microsoft.XMLDOM"),
                d.async = "false",
                d.loadXML(c))
            } catch (h) {
                d = a
            }
            (!d || !d.documentElement || d.getElementsByTagName("parsererror").length) && t.error("Invalid XML: " + c);
            return d
        },
        noop: function() {},
        globalEval: function(a) {
            a && W.test(a) && (b.execScript || function(a) {
                b.eval.call(b, a)
            }
            )(a)
        },
        camelCase: function(a) {
            return a.replace(V, "ms-").replace(J, Q)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase()
        },
        each: function(b, c, d) {
            var e, h = 0, f = b.length, j = f === a || t.isFunction(b);
            if (d)
                if (j)
                    for (e in b) {
                        if (!1 === c.apply(b[e], d))
                            break
                    }
                else
                    for (; h < f && !1 !== c.apply(b[h++], d); )
                        ;
            else if (j)
                for (e in b) {
                    if (!1 === c.call(b[e], e, b[e]))
                        break
                }
            else
                for (; h < f && !1 !== c.call(b[h], h, b[h++]); )
                    ;
            return b
        },
        trim: fa ? function(a) {
            return null == a ? "" : fa.call(a)
        }
        : function(a) {
            return null == a ? "" : (a + "").replace(ea, "").replace(Aa, "")
        }
        ,
        makeArray: function(a, b) {
            var c = b || [];
            if (null != a) {
                var d = t.type(a);
                null == a.length || "string" === d || "function" === d || "regexp" === d || t.isWindow(a) ? N.call(c, a) : t.merge(c, a)
            }
            return c
        },
        inArray: function(a, b, c) {
            var d;
            if (b) {
                if (ga)
                    return ga.call(b, a, c);
                d = b.length;
                for (c = c ? 0 > c ? Math.max(0, d + c) : c : 0; c < d; c++)
                    if (c in b && b[c] === a)
                        return c
            }
            return -1
        },
        merge: function(b, c) {
            var d = b.length
              , e = 0;
            if ("number" == typeof c.length)
                for (var h = c.length; e < h; e++)
                    b[d++] = c[e];
            else
                for (; c[e] !== a; )
                    b[d++] = c[e++];
            b.length = d;
            return b
        },
        grep: function(a, b, c) {
            for (var d = [], e, c = !!c, h = 0, f = a.length; h < f; h++)
                e = !!b(a[h], h),
                c !== e && d.push(a[h]);
            return d
        },
        map: function(b, c, d) {
            var e, h, f = [], j = 0, g = b.length;
            if (b instanceof t || g !== a && "number" == typeof g && (0 < g && b[0] && b[g - 1] || 0 === g || t.isArray(b)))
                for (; j < g; j++)
                    e = c(b[j], j, d),
                    null != e && (f[f.length] = e);
            else
                for (h in b)
                    e = c(b[h], h, d),
                    null != e && (f[f.length] = e);
            return f.concat.apply([], f)
        },
        guid: 1,
        proxy: function(b, c) {
            if ("string" == typeof c)
                var d = b[c]
                  , c = b
                  , b = d;
            if (!t.isFunction(b))
                return a;
            var e = F.call(arguments, 2)
              , d = function() {
                return b.apply(c, e.concat(F.call(arguments)))
            };
            d.guid = b.guid = b.guid || d.guid || t.guid++;
            return d
        },
        access: function(b, c, d, e, h, f, j) {
            var g, l = null == d, m = 0, o = b.length;
            if (d && "object" == typeof d) {
                for (m in d)
                    t.access(b, c, m, d[m], 1, f, e);
                h = 1
            } else if (e !== a) {
                g = j === a && t.isFunction(e);
                l && (g ? (g = c,
                c = function(a, b, c) {
                    return g.call(t(a), c)
                }
                ) : (c.call(b, e),
                c = null));
                if (c)
                    for (; m < o; m++)
                        c(b[m], d, g ? e.call(b[m], m, c(b[m], d)) : e, j);
                h = 1
            }
            return h ? b : l ? c.call(b) : o ? c(b[0], d) : f
        },
        now: function() {
            return (new Date).getTime()
        },
        uaMatch: function(a) {
            a = a.toLowerCase();
            a = Ca.exec(a) || na.exec(a) || Y.exec(a) || 0 > a.indexOf("compatible") && U.exec(a) || [];
            return {
                browser: a[1] || "",
                version: a[2] || "0"
            }
        },
        sub: function() {
            function a(b, c) {
                return new a.fn.init(b,c)
            }
            t.extend(!0, a, this);
            a.superclass = this;
            a.fn = a.prototype = this();
            a.fn.constructor = a;
            a.sub = this.sub;
            a.fn.init = function(c, d) {
                d && d instanceof t && !(d instanceof a) && (d = a(d));
                return t.fn.init.call(this, c, d, b)
            }
            ;
            a.fn.init.prototype = a.fn;
            var b = a(u);
            return a
        },
        browser: {}
    });
    t.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(a, b) {
        Ha["[object " + b + "]"] = b.toLowerCase()
    });
    pa = t.uaMatch(wa);
    pa.browser && (t.browser[pa.browser] = !0,
    t.browser.version = pa.version);
    t.browser.webkit && (t.browser.safari = !0);
    W.test("\u00a0") && (ea = /^[\s\xA0]+/,
    Aa = /[\s\xA0]+$/);
    G = t(u);
    u.addEventListener ? P = function() {
        u.removeEventListener("DOMContentLoaded", P, !1);
        t.ready()
    }
    : u.attachEvent && (P = function() {
        "complete" === u.readyState && (u.detachEvent("onreadystatechange", P),
        t.ready())
    }
    );
    h = t;
    var xa = {};
    h.Callbacks = function(b) {
        var c;
        if (b) {
            if (!(c = xa[b])) {
                c = b;
                var d = xa[c] = {}, e, f;
                c = c.split(/\s+/);
                e = 0;
                for (f = c.length; e < f; e++)
                    d[c[e]] = !0;
                c = d
            }
        } else
            c = {};
        var b = c, j = [], g = [], m, l, o, s, H, k, v = function(a) {
            var c, d, e, f;
            c = 0;
            for (d = a.length; c < d; c++)
                e = a[c],
                f = h.type(e),
                "array" === f ? v(e) : "function" === f && (!b.unique || !t.has(e)) && j.push(e)
        }, ma = function(a, c) {
            c = c || [];
            m = !b.memory || [a, c];
            o = l = !0;
            k = s || 0;
            s = 0;
            for (H = j.length; j && k < H; k++)
                if (!1 === j[k].apply(a, c) && b.stopOnFalse) {
                    m = !0;
                    break
                }
            o = !1;
            j && (b.once ? !0 === m ? t.disable() : j = [] : g && g.length && (m = g.shift(),
            t.fireWith(m[0], m[1])))
        }, t = {
            add: function() {
                if (j) {
                    var a = j.length;
                    v(arguments);
                    o ? H = j.length : m && !0 !== m && (s = a,
                    ma(m[0], m[1]))
                }
                return this
            },
            remove: function() {
                if (j)
                    for (var a = arguments, c = 0, d = a.length; c < d; c++)
                        for (var e = 0; e < j.length && !(a[c] === j[e] && (o && e <= H && (H--,
                        e <= k && k--),
                        j.splice(e--, 1),
                        b.unique)); e++)
                            ;
                return this
            },
            has: function(a) {
                if (j)
                    for (var b = 0, c = j.length; b < c; b++)
                        if (a === j[b])
                            return !0;
                return !1
            },
            empty: function() {
                j = [];
                return this
            },
            disable: function() {
                j = g = m = a;
                return this
            },
            disabled: function() {
                return !j
            },
            lock: function() {
                g = a;
                (!m || !0 === m) && t.disable();
                return this
            },
            locked: function() {
                return !g
            },
            fireWith: function(a, c) {
                g && (o ? b.once || g.push([a, c]) : (!b.once || !m) && ma(a, c));
                return this
            },
            fire: function() {
                t.fireWith(this, arguments);
                return this
            },
            fired: function() {
                return !!l
            }
        };
        return t
    }
    ;
    var S = [].slice;
    h.extend({
        Deferred: function(a) {
            var b = h.Callbacks("once memory"), c = h.Callbacks("once memory"), d = h.Callbacks("memory"), e = "pending", f = {
                resolve: b,
                reject: c,
                notify: d
            }, j = {
                done: b.add,
                fail: c.add,
                progress: d.add,
                state: function() {
                    return e
                },
                isResolved: b.fired,
                isRejected: c.fired,
                then: function(a, b, c) {
                    g.done(a).fail(b).progress(c);
                    return this
                },
                always: function() {
                    g.done.apply(g, arguments).fail.apply(g, arguments);
                    return this
                },
                pipe: function(a, b, c) {
                    return h.Deferred(function(d) {
                        h.each({
                            done: [a, "resolve"],
                            fail: [b, "reject"],
                            progress: [c, "notify"]
                        }, function(a, b) {
                            var c = b[0], e = b[1], Ra;
                            h.isFunction(c) ? g[a](function() {
                                (Ra = c.apply(this, arguments)) && h.isFunction(Ra.promise) ? Ra.promise().then(d.resolve, d.reject, d.notify) : d[e + "With"](this === g ? d : this, [Ra])
                            }) : g[a](d[e])
                        })
                    }).promise()
                },
                promise: function(a) {
                    if (null == a)
                        a = j;
                    else
                        for (var b in j)
                            a[b] = j[b];
                    return a
                }
            }, g = j.promise({}), m;
            for (m in f)
                g[m] = f[m].fire,
                g[m + "With"] = f[m].fireWith;
            g.done(function() {
                e = "resolved"
            }, c.disable, d.lock).fail(function() {
                e = "rejected"
            }, b.disable, d.lock);
            a && a.call(g, g);
            return g
        },
        when: function(a) {
            function b(a) {
                return function(b) {
                    j[a] = 1 < arguments.length ? S.call(arguments, 0) : b;
                    m.notifyWith(l, j)
                }
            }
            function c(a) {
                return function(b) {
                    d[a] = 1 < arguments.length ? S.call(arguments, 0) : b;
                    --g || m.resolveWith(m, d)
                }
            }
            var d = S.call(arguments, 0)
              , e = 0
              , f = d.length
              , j = Array(f)
              , g = f
              , m = 1 >= f && a && h.isFunction(a.promise) ? a : h.Deferred()
              , l = m.promise();
            if (1 < f) {
                for (; e < f; e++)
                    d[e] && d[e].promise && h.isFunction(d[e].promise) ? d[e].promise().then(c(e), m.reject, b(e)) : --g;
                g || m.resolveWith(m, d)
            } else
                m !== a && m.resolveWith(m, f ? [a] : []);
            return l
        }
    });
    var aa = h, Ba;
    var ra, Sa, Ma, ib, jb, ka, Da, ua, Na, Ta, Ua, M = u.createElement("div");
    M.setAttribute("className", "t");
    M.innerHTML = "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
    Sa = M.getElementsByTagName("*");
    Ma = M.getElementsByTagName("a")[0];
    if (!Sa || !Sa.length || !Ma)
        Ba = {};
    else {
        ib = u.createElement("select");
        jb = ib.appendChild(u.createElement("option"));
        ka = M.getElementsByTagName("input")[0];
        ra = {
            leadingWhitespace: 3 === M.firstChild.nodeType,
            tbody: !M.getElementsByTagName("tbody").length,
            htmlSerialize: !!M.getElementsByTagName("link").length,
            style: /top/.test(Ma.getAttribute("style")),
            hrefNormalized: "/a" === Ma.getAttribute("href"),
            opacity: /^0.55/.test(Ma.style.opacity),
            cssFloat: !!Ma.style.cssFloat,
            checkOn: "on" === ka.value,
            optSelected: jb.selected,
            getSetAttribute: "t" !== M.className,
            enctype: !!u.createElement("form").enctype,
            html5Clone: "<:nav></:nav>" !== u.createElement("nav").cloneNode(!0).outerHTML,
            submitBubbles: !0,
            changeBubbles: !0,
            focusinBubbles: !1,
            deleteExpando: !0,
            noCloneEvent: !0,
            inlineBlockNeedsLayout: !1,
            shrinkWrapBlocks: !1,
            reliableMarginRight: !0,
            pixelMargin: !0
        };
        h.boxModel = ra.boxModel = "CSS1Compat" === u.compatMode;
        ka.checked = !0;
        ra.noCloneChecked = ka.cloneNode(!0).checked;
        ib.disabled = !0;
        ra.optDisabled = !jb.disabled;
        try {
            delete M.test
        } catch (Nb) {
            ra.deleteExpando = !1
        }
        !M.addEventListener && M.attachEvent && M.fireEvent && (M.attachEvent("onclick", function() {
            ra.noCloneEvent = !1
        }),
        M.cloneNode(!0).fireEvent("onclick"));
        ka = u.createElement("input");
        ka.value = "t";
        ka.setAttribute("type", "radio");
        ra.radioValue = "t" === ka.value;
        ka.setAttribute("checked", "checked");
        ka.setAttribute("name", "t");
        M.appendChild(ka);
        Da = u.createDocumentFragment();
        Da.appendChild(M.lastChild);
        ra.checkClone = Da.cloneNode(!0).cloneNode(!0).lastChild.checked;
        ra.appendChecked = ka.checked;
        Da.removeChild(ka);
        Da.appendChild(M);
        if (M.attachEvent)
            for (Ta in {
                submit: 1,
                change: 1,
                focusin: 1
            })
                Na = "on" + Ta,
                (Ua = Na in M) || (M.setAttribute(Na, "return;"),
                Ua = "function" == typeof M[Na]),
                ra[Ta + "Bubbles"] = Ua;
        Da.removeChild(M);
        Da = ib = jb = M = ka = null;
        h(function() {
            var a, c, d, e, f, j, g = u.getElementsByTagName("body")[0];
            !g || (a = u.createElement("div"),
            a.style.cssText = "padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
            g.insertBefore(a, g.firstChild),
            M = u.createElement("div"),
            a.appendChild(M),
            M.innerHTML = "<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",
            ua = M.getElementsByTagName("td"),
            Ua = 0 === ua[0].offsetHeight,
            ua[0].style.display = "",
            ua[1].style.display = "none",
            ra.reliableHiddenOffsets = Ua && 0 === ua[0].offsetHeight,
            b.getComputedStyle && (M.innerHTML = "",
            j = u.createElement("div"),
            j.style.width = "0",
            j.style.marginRight = "0",
            M.style.width = "2px",
            M.appendChild(j),
            ra.reliableMarginRight = 0 === (parseInt((b.getComputedStyle(j, null) || {
                marginRight: 0
            }).marginRight, 10) || 0)),
            "undefined" != typeof M.style.zoom && (M.innerHTML = "",
            M.style.width = M.style.padding = "1px",
            M.style.border = 0,
            M.style.overflow = "hidden",
            M.style.display = "inline",
            M.style.zoom = 1,
            ra.inlineBlockNeedsLayout = 3 === M.offsetWidth,
            M.style.display = "block",
            M.style.overflow = "visible",
            M.innerHTML = "<div style='width:5px;'></div>",
            ra.shrinkWrapBlocks = 3 !== M.offsetWidth),
            M.style.cssText = "position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
            M.innerHTML = "<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",
            c = M.firstChild,
            d = c.firstChild,
            e = c.nextSibling.firstChild.firstChild,
            f = {
                doesNotAddBorder: 5 !== d.offsetTop,
                doesAddBorderForTableAndCells: 5 === e.offsetTop
            },
            d.style.position = "fixed",
            d.style.top = "20px",
            f.fixedPosition = 20 === d.offsetTop || 15 === d.offsetTop,
            d.style.position = d.style.top = "",
            c.style.overflow = "hidden",
            c.style.position = "relative",
            f.subtractsBorderForOverflowNotVisible = -5 === d.offsetTop,
            f.doesNotIncludeMarginInBodyOffset = 1 !== g.offsetTop,
            b.getComputedStyle && (M.style.marginTop = "1%",
            ra.pixelMargin = "1%" !== (b.getComputedStyle(M, null) || {
                marginTop: 0
            }).marginTop),
            "undefined" != typeof a.style.zoom && (a.style.zoom = 1),
            g.removeChild(a),
            M = null,
            h.extend(ra, f))
        });
        Ba = ra
    }
    aa.support = Ba;
    var za = /^(?:\{.*\}|\[.*\])$/
      , wb = /([A-Z])/g;
    h.extend({
        cache: {},
        uuid: 0,
        expando: "jQuery" + (h.fn.jquery + Math.random()).replace(/\D/g, ""),
        noData: {
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: !0
        },
        hasData: function(a) {
            a = a.nodeType ? h.cache[a[h.expando]] : a[h.expando];
            return !!a && !E(a)
        },
        data: function(b, c, d, e) {
            if (h.acceptData(b)) {
                var f, j;
                f = h.expando;
                var g = "string" == typeof c
                  , m = b.nodeType
                  , l = m ? h.cache : b
                  , o = m ? b[f] : b[f] && f
                  , s = "events" === c;
                if (o && l[o] && (s || e || l[o].data) || !(g && d === a)) {
                    o || (m ? b[f] = o = ++h.uuid : o = f);
                    l[o] || (l[o] = {},
                    m || (l[o].toJSON = h.noop));
                    if ("object" == typeof c || "function" == typeof c)
                        e ? l[o] = h.extend(l[o], c) : l[o].data = h.extend(l[o].data, c);
                    b = f = l[o];
                    e || (f.data || (f.data = {}),
                    f = f.data);
                    d !== a && (f[h.camelCase(c)] = d);
                    if (s && !f[c])
                        return b.events;
                    g ? (j = f[c],
                    null == j && (j = f[h.camelCase(c)])) : j = f;
                    return j
                }
            }
        },
        removeData: function(a, b, c) {
            if (h.acceptData(a)) {
                var d, e, f, j = h.expando, g = a.nodeType, m = g ? h.cache : a, l = g ? a[j] : j;
                if (m[l]) {
                    if (b && (d = c ? m[l] : m[l].data)) {
                        h.isArray(b) || (b in d ? b = [b] : (b = h.camelCase(b),
                        b in d ? b = [b] : b = b.split(" ")));
                        e = 0;
                        for (f = b.length; e < f; e++)
                            delete d[b[e]];
                        if (!(c ? E : h.isEmptyObject)(d))
                            return
                    }
                    if (!c && (delete m[l].data,
                    !E(m[l])))
                        return;
                    h.support.deleteExpando || !m.setInterval ? delete m[l] : m[l] = null;
                    g && (h.support.deleteExpando ? delete a[j] : a.removeAttribute ? a.removeAttribute(j) : a[j] = null)
                }
            }
        },
        _data: function(a, b, c) {
            return h.data(a, b, c, !0)
        },
        acceptData: function(a) {
            if (a.nodeName) {
                var b = h.noData[a.nodeName.toLowerCase()];
                if (b)
                    return !0 !== b && a.getAttribute("classid") === b
            }
            return !0
        }
    });
    h.fn.extend({
        data: function(b, c) {
            var d, e, f, j, g, m = this[0], l = 0, o = null;
            if (b === a) {
                if (this.length && (o = h.data(m),
                1 === m.nodeType && !h._data(m, "parsedAttrs"))) {
                    f = m.attributes;
                    for (g = f.length; l < g; l++)
                        j = f[l].name,
                        0 === j.indexOf("data-") && (j = h.camelCase(j.substring(5)),
                        C(m, j, o[j]));
                    h._data(m, "parsedAttrs", !0)
                }
                return o
            }
            if ("object" == typeof b)
                return this.each(function() {
                    h.data(this, b)
                });
            d = b.split(".", 2);
            d[1] = d[1] ? "." + d[1] : "";
            e = d[1] + "!";
            return h.access(this, function(c) {
                if (c === a)
                    return o = this.triggerHandler("getData" + e, [d[0]]),
                    o === a && m && (o = h.data(m, b),
                    o = C(m, b, o)),
                    o === a && d[1] ? this.data(d[0]) : o;
                d[1] = c;
                this.each(function() {
                    var a = h(this);
                    a.triggerHandler("setData" + e, d);
                    h.data(this, b, c);
                    a.triggerHandler("changeData" + e, d)
                })
            }, null, c, 1 < arguments.length, null, !1)
        },
        removeData: function(a) {
            return this.each(function() {
                h.removeData(this, a)
            })
        }
    });
    h.extend({
        _mark: function(a, b) {
            a && (b = (b || "fx") + "mark",
            h._data(a, b, (h._data(a, b) || 0) + 1))
        },
        _unmark: function(a, b, c) {
            !0 !== a && (c = b,
            b = a,
            a = !1);
            if (b) {
                var c = c || "fx"
                  , d = c + "mark";
                (a = a ? 0 : (h._data(b, d) || 1) - 1) ? h._data(b, d, a) : (h.removeData(b, d, !0),
                A(b, c, "mark"))
            }
        },
        queue: function(a, b, c) {
            var d;
            if (a)
                return b = (b || "fx") + "queue",
                d = h._data(a, b),
                c && (!d || h.isArray(c) ? d = h._data(a, b, h.makeArray(c)) : d.push(c)),
                d || []
        },
        dequeue: function(a, b) {
            var b = b || "fx"
              , c = h.queue(a, b)
              , d = c.shift()
              , e = {};
            "inprogress" === d && (d = c.shift());
            d && ("fx" === b && c.unshift("inprogress"),
            h._data(a, b + ".run", e),
            d.call(a, function() {
                h.dequeue(a, b)
            }, e));
            c.length || (h.removeData(a, b + "queue " + b + ".run", !0),
            A(a, b, "queue"))
        }
    });
    h.fn.extend({
        queue: function(b, c) {
            var d = 2;
            "string" != typeof b && (c = b,
            b = "fx",
            d--);
            return arguments.length < d ? h.queue(this[0], b) : c === a ? this : this.each(function() {
                var a = h.queue(this, b, c);
                "fx" === b && "inprogress" !== a[0] && h.dequeue(this, b)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                h.dequeue(this, a)
            })
        },
        delay: function(a, b) {
            a = h.fx ? h.fx.speeds[a] || a : a;
            return this.queue(b || "fx", function(b, c) {
                var d = setTimeout(b, a);
                c.stop = function() {
                    clearTimeout(d)
                }
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(b, c) {
            function d() {
                --g || e.resolveWith(f, [f])
            }
            "string" != typeof b && (c = b,
            b = a);
            for (var b = b || "fx", e = h.Deferred(), f = this, j = f.length, g = 1, m = b + "defer", l = b + "queue", o = b + "mark", s; j--; )
                if (s = h.data(f[j], m, a, !0) || (h.data(f[j], l, a, !0) || h.data(f[j], o, a, !0)) && h.data(f[j], m, h.Callbacks("once memory"), !0))
                    g++,
                    s.add(d);
            d();
            return e.promise(c)
        }
    });
    var kb = /[\n\t\r]/g, Xa = /\s+/, qa = /\r/g, lb = /^(?:button|input)$/i, bb = /^(?:button|input|object|select|textarea)$/i, sa = /^a(?:rea)?$/i, xb = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, ba = h.support.getSetAttribute, Ka, Ia, yb;
    h.fn.extend({
        attr: function(a, b) {
            return h.access(this, h.attr, a, b, 1 < arguments.length)
        },
        removeAttr: function(a) {
            return this.each(function() {
                h.removeAttr(this, a)
            })
        },
        prop: function(a, b) {
            return h.access(this, h.prop, a, b, 1 < arguments.length)
        },
        removeProp: function(b) {
            b = h.propFix[b] || b;
            return this.each(function() {
                try {
                    this[b] = a,
                    delete this[b]
                } catch (c) {}
            })
        },
        addClass: function(a) {
            var b, c, d, e, f, j, g;
            if (h.isFunction(a))
                return this.each(function(b) {
                    h(this).addClass(a.call(this, b, this.className))
                });
            if (a && "string" == typeof a) {
                b = a.split(Xa);
                c = 0;
                for (d = this.length; c < d; c++)
                    if (e = this[c],
                    1 === e.nodeType)
                        if (!e.className && 1 === b.length)
                            e.className = a;
                        else {
                            f = " " + e.className + " ";
                            j = 0;
                            for (g = b.length; j < g; j++)
                                ~f.indexOf(" " + b[j] + " ") || (f += b[j] + " ");
                            e.className = h.trim(f)
                        }
            }
            return this
        },
        removeClass: function(b) {
            var c, d, e, f, j, g, m;
            if (h.isFunction(b))
                return this.each(function(a) {
                    h(this).removeClass(b.call(this, a, this.className))
                });
            if (b && "string" == typeof b || b === a) {
                c = (b || "").split(Xa);
                d = 0;
                for (e = this.length; d < e; d++)
                    if (f = this[d],
                    1 === f.nodeType && f.className)
                        if (b) {
                            j = (" " + f.className + " ").replace(kb, " ");
                            g = 0;
                            for (m = c.length; g < m; g++)
                                j = j.replace(" " + c[g] + " ", " ");
                            f.className = h.trim(j)
                        } else
                            f.className = ""
            }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a
              , d = "boolean" == typeof b;
            return h.isFunction(a) ? this.each(function(c) {
                h(this).toggleClass(a.call(this, c, this.className, b), b)
            }) : this.each(function() {
                if ("string" === c)
                    for (var e, f = 0, j = h(this), g = b, m = a.split(Xa); e = m[f++]; )
                        g = d ? g : !j.hasClass(e),
                        j[g ? "addClass" : "removeClass"](e);
                else if ("undefined" === c || "boolean" === c)
                    this.className && h._data(this, "__className__", this.className),
                    this.className = this.className || !1 === a ? "" : h._data(this, "__className__") || ""
            })
        },
        hasClass: function(a) {
            for (var a = " " + a + " ", b = 0, c = this.length; b < c; b++)
                if (1 === this[b].nodeType && -1 < (" " + this[b].className + " ").replace(kb, " ").indexOf(a))
                    return !0;
            return !1
        },
        val: function(b) {
            var c, d, e, f = this[0];
            if (arguments.length)
                return e = h.isFunction(b),
                this.each(function(d) {
                    var f = h(this), j;
                    if (1 === this.nodeType && (e ? j = b.call(this, d, f.val()) : j = b,
                    null == j ? j = "" : "number" == typeof j ? j += "" : h.isArray(j) && (j = h.map(j, function(a) {
                        return a == null ? "" : a + ""
                    })),
                    c = h.valHooks[this.type] || h.valHooks[this.nodeName.toLowerCase()],
                    !c || !("set"in c) || c.set(this, j, "value") === a))
                        this.value = j
                });
            if (f) {
                if ((c = h.valHooks[f.type] || h.valHooks[f.nodeName.toLowerCase()]) && "get"in c && (d = c.get(f, "value")) !== a)
                    return d;
                d = f.value;
                return "string" == typeof d ? d.replace(qa, "") : null == d ? "" : d
            }
        }
    });
    h.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = a.attributes.value;
                    return !b || b.specified ? a.value : a.text
                }
            },
            select: {
                get: function(a) {
                    var b, c, d = a.selectedIndex, e = [], f = a.options, j = "select-one" === a.type;
                    if (0 > d)
                        return null;
                    a = j ? d : 0;
                    for (c = j ? d + 1 : f.length; a < c; a++)
                        if (b = f[a],
                        b.selected && (h.support.optDisabled ? !b.disabled : null === b.getAttribute("disabled")) && (!b.parentNode.disabled || !h.nodeName(b.parentNode, "optgroup"))) {
                            b = h(b).val();
                            if (j)
                                return b;
                            e.push(b)
                        }
                    return j && !e.length && f.length ? h(f[d]).val() : e
                },
                set: function(a, b) {
                    var c = h.makeArray(b);
                    h(a).find("option").each(function() {
                        this.selected = 0 <= h.inArray(h(this).val(), c)
                    });
                    c.length || (a.selectedIndex = -1);
                    return c
                }
            }
        },
        attrFn: {
            val: !0,
            css: !0,
            html: !0,
            text: !0,
            data: !0,
            width: !0,
            height: !0,
            offset: !0
        },
        attr: function(b, c, d, e) {
            var f, j, g = b.nodeType;
            if (b && 3 !== g && 8 !== g && 2 !== g) {
                if (e && c in h.attrFn)
                    return h(b)[c](d);
                if ("undefined" == typeof b.getAttribute)
                    return h.prop(b, c, d);
                (e = 1 !== g || !h.isXMLDoc(b)) && (c = c.toLowerCase(),
                j = h.attrHooks[c] || (xb.test(c) ? Ia : Ka));
                if (d !== a) {
                    if (null === d) {
                        h.removeAttr(b, c);
                        return
                    }
                    if (j && "set"in j && e && (f = j.set(b, d, c)) !== a)
                        return f;
                    b.setAttribute(c, "" + d);
                    return d
                }
                if (j && "get"in j && e && null !== (f = j.get(b, c)))
                    return f;
                f = b.getAttribute(c);
                return null === f ? a : f
            }
        },
        removeAttr: function(a, b) {
            var c, d, e, f, j, g = 0;
            if (b && 1 === a.nodeType) {
                d = b.toLowerCase().split(Xa);
                for (f = d.length; g < f; g++)
                    (e = d[g]) && (c = h.propFix[e] || e,
                    j = xb.test(e),
                    j || h.attr(a, e, ""),
                    a.removeAttribute(ba ? e : c),
                    j && c in a && (a[c] = !1))
            }
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (lb.test(a.nodeName) && a.parentNode)
                        h.error("type property can't be changed");
                    else if (!h.support.radioValue && "radio" === b && h.nodeName(a, "input")) {
                        var c = a.value;
                        a.setAttribute("type", b);
                        c && (a.value = c);
                        return b
                    }
                }
            },
            value: {
                get: function(a, b) {
                    return Ka && h.nodeName(a, "button") ? Ka.get(a, b) : b in a ? a.value : null
                },
                set: function(a, b, c) {
                    if (Ka && h.nodeName(a, "button"))
                        return Ka.set(a, b, c);
                    a.value = b
                }
            }
        },
        propFix: {
            tabindex: "tabIndex",
            readonly: "readOnly",
            "for": "htmlFor",
            "class": "className",
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function(b, c, d) {
            var e, f, j;
            j = b.nodeType;
            if (b && 3 !== j && 8 !== j && 2 !== j)
                return (j = 1 !== j || !h.isXMLDoc(b)) && (c = h.propFix[c] || c,
                f = h.propHooks[c]),
                d !== a ? f && "set"in f && (e = f.set(b, d, c)) !== a ? e : b[c] = d : f && "get"in f && null !== (e = f.get(b, c)) ? e : b[c]
        },
        propHooks: {
            tabIndex: {
                get: function(b) {
                    var c = b.getAttributeNode("tabindex");
                    return c && c.specified ? parseInt(c.value, 10) : bb.test(b.nodeName) || sa.test(b.nodeName) && b.href ? 0 : a
                }
            }
        }
    });
    h.attrHooks.tabindex = h.propHooks.tabIndex;
    Ia = {
        get: function(b, c) {
            var d, e = h.prop(b, c);
            return !0 === e || "boolean" != typeof e && (d = b.getAttributeNode(c)) && !1 !== d.nodeValue ? c.toLowerCase() : a
        },
        set: function(a, b, c) {
            var d;
            !1 === b ? h.removeAttr(a, c) : (d = h.propFix[c] || c,
            d in a && (a[d] = !0),
            a.setAttribute(c, c.toLowerCase()));
            return c
        }
    };
    ba || (yb = {
        name: !0,
        id: !0,
        coords: !0
    },
    Ka = h.valHooks.button = {
        get: function(b, c) {
            var d;
            return (d = b.getAttributeNode(c)) && (yb[c] ? "" !== d.nodeValue : d.specified) ? d.nodeValue : a
        },
        set: function(a, b, c) {
            var d = a.getAttributeNode(c);
            d || (d = u.createAttribute(c),
            a.setAttributeNode(d));
            return d.nodeValue = b + ""
        }
    },
    h.attrHooks.tabindex.set = Ka.set,
    h.each(["width", "height"], function(a, b) {
        h.attrHooks[b] = h.extend(h.attrHooks[b], {
            set: function(a, c) {
                if ("" === c)
                    return a.setAttribute(b, "auto"),
                    c
            }
        })
    }),
    h.attrHooks.contenteditable = {
        get: Ka.get,
        set: function(a, b, c) {
            "" === b && (b = "false");
            Ka.set(a, b, c)
        }
    });
    h.support.hrefNormalized || h.each(["href", "src", "width", "height"], function(b, c) {
        h.attrHooks[c] = h.extend(h.attrHooks[c], {
            get: function(b) {
                b = b.getAttribute(c, 2);
                return null === b ? a : b
            }
        })
    });
    h.support.style || (h.attrHooks.style = {
        get: function(b) {
            return b.style.cssText.toLowerCase() || a
        },
        set: function(a, b) {
            return a.style.cssText = "" + b
        }
    });
    h.support.optSelected || (h.propHooks.selected = h.extend(h.propHooks.selected, {
        get: function(a) {
            a = a.parentNode;
            a && (a.selectedIndex,
            a.parentNode && a.parentNode.selectedIndex);
            return null
        }
    }));
    h.support.enctype || (h.propFix.enctype = "encoding");
    h.support.checkOn || h.each(["radio", "checkbox"], function() {
        h.valHooks[this] = {
            get: function(a) {
                return null === a.getAttribute("value") ? "on" : a.value
            }
        }
    });
    h.each(["radio", "checkbox"], function() {
        h.valHooks[this] = h.extend(h.valHooks[this], {
            set: function(a, b) {
                if (h.isArray(b))
                    return a.checked = 0 <= h.inArray(h(a).val(), b)
            }
        })
    });
    var la = /^(?:textarea|input|select)$/i
      , mb = /^([^\.]*)?(?:\.(.+))?$/
      , cb = /(?:^|\s)hover(\.\S+)?\b/
      , Ea = /^key/
      , nb = /^(?:mouse|contextmenu)|click/
      , Cb = /^(?:focusinfocus|focusoutblur)$/
      , Db = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/
      , ob = function(a) {
        (a = Db.exec(a)) && (a[1] = (a[1] || "").toLowerCase(),
        a[3] = a[3] && RegExp("(?:^|\\s)" + a[3] + "(?:\\s|$)"));
        return a
    }
      , zb = function(a) {
        return h.event.special.hover ? a : a.replace(cb, "mouseenter$1 mouseleave$1")
    };
    h.event = {
        add: function(b, c, d, e, f) {
            var j, g, m, l, o, s, H, k, v;
            if (!(3 === b.nodeType || 8 === b.nodeType || !c || !d || !(j = h._data(b)))) {
                d.handler && (H = d,
                d = H.handler,
                f = H.selector);
                d.guid || (d.guid = h.guid++);
                (m = j.events) || (j.events = m = {});
                (g = j.handle) || (j.handle = g = function(b) {
                    return "undefined" != typeof h && (!b || h.event.triggered !== b.type) ? h.event.dispatch.apply(g.elem, arguments) : a
                }
                ,
                g.elem = b);
                c = h.trim(zb(c)).split(" ");
                for (j = 0; j < c.length; j++) {
                    l = mb.exec(c[j]) || [];
                    o = l[1];
                    s = (l[2] || "").split(".").sort();
                    v = h.event.special[o] || {};
                    o = (f ? v.delegateType : v.bindType) || o;
                    v = h.event.special[o] || {};
                    l = h.extend({
                        type: o,
                        origType: l[1],
                        data: e,
                        handler: d,
                        guid: d.guid,
                        selector: f,
                        quick: f && ob(f),
                        namespace: s.join(".")
                    }, H);
                    k = m[o];
                    if (!k && (k = m[o] = [],
                    k.delegateCount = 0,
                    !v.setup || !1 === v.setup.call(b, e, s, g)))
                        b.addEventListener ? b.addEventListener(o, g, !1) : b.attachEvent && b.attachEvent("on" + o, g);
                    v.add && (v.add.call(b, l),
                    l.handler.guid || (l.handler.guid = d.guid));
                    f ? k.splice(k.delegateCount++, 0, l) : k.push(l);
                    h.event.global[o] = !0
                }
                b = null
            }
        },
        global: {},
        remove: function(a, b, c, d, e) {
            var f = h.hasData(a) && h._data(a), j, g, m, l, o, s, H, k, v, t, ma;
            if (f && (H = f.events)) {
                b = h.trim(zb(b || "")).split(" ");
                for (j = 0; j < b.length; j++)
                    if (g = mb.exec(b[j]) || [],
                    m = l = g[1],
                    g = g[2],
                    m) {
                        k = h.event.special[m] || {};
                        m = (d ? k.delegateType : k.bindType) || m;
                        t = H[m] || [];
                        o = t.length;
                        g = g ? RegExp("(^|\\.)" + g.split(".").sort().join("\\.(?:.*\\.)?") + "(\\.|$)") : null;
                        for (s = 0; s < t.length; s++)
                            ma = t[s],
                            (e || l === ma.origType) && (!c || c.guid === ma.guid) && (!g || g.test(ma.namespace)) && (!d || d === ma.selector || "**" === d && ma.selector) && (t.splice(s--, 1),
                            ma.selector && t.delegateCount--,
                            k.remove && k.remove.call(a, ma));
                        0 === t.length && o !== t.length && ((!k.teardown || !1 === k.teardown.call(a, g)) && h.removeEvent(a, m, f.handle),
                        delete H[m])
                    } else
                        for (m in H)
                            h.event.remove(a, m + b[j], c, d, !0);
                h.isEmptyObject(H) && (v = f.handle,
                v && (v.elem = null),
                h.removeData(a, ["events", "handle"], !0))
            }
        },
        customEvent: {
            getData: !0,
            setData: !0,
            changeData: !0
        },
        trigger: function(c, d, e, f) {
            if (!e || 3 !== e.nodeType && 8 !== e.nodeType) {
                var j = c.type || c, g = [], m, l, o, s, H, k;
                if (!Cb.test(j + h.event.triggered) && (0 <= j.indexOf("!") && (j = j.slice(0, -1),
                m = !0),
                0 <= j.indexOf(".") && (g = j.split("."),
                j = g.shift(),
                g.sort()),
                e && !h.event.customEvent[j] || h.event.global[j]))
                    if (c = "object" == typeof c ? c[h.expando] ? c : new h.Event(j,c) : new h.Event(j),
                    c.type = j,
                    c.isTrigger = !0,
                    c.exclusive = m,
                    c.namespace = g.join("."),
                    c.namespace_re = c.namespace ? RegExp("(^|\\.)" + g.join("\\.(?:.*\\.)?") + "(\\.|$)") : null,
                    m = 0 > j.indexOf(":") ? "on" + j : "",
                    e) {
                        if (c.result = a,
                        c.target || (c.target = e),
                        d = null != d ? h.makeArray(d) : [],
                        d.unshift(c),
                        s = h.event.special[j] || {},
                        !(s.trigger && !1 === s.trigger.apply(e, d))) {
                            k = [[e, s.bindType || j]];
                            if (!f && !s.noBubble && !h.isWindow(e)) {
                                l = s.delegateType || j;
                                g = Cb.test(l + j) ? e : e.parentNode;
                                for (o = null; g; g = g.parentNode)
                                    k.push([g, l]),
                                    o = g;
                                o && o === e.ownerDocument && k.push([o.defaultView || o.parentWindow || b, l])
                            }
                            for (l = 0; l < k.length && !c.isPropagationStopped(); l++)
                                g = k[l][0],
                                c.type = k[l][1],
                                (H = (h._data(g, "events") || {})[c.type] && h._data(g, "handle")) && H.apply(g, d),
                                (H = m && g[m]) && h.acceptData(g) && !1 === H.apply(g, d) && c.preventDefault();
                            c.type = j;
                            !f && !c.isDefaultPrevented() && (!s._default || !1 === s._default.apply(e.ownerDocument, d)) && ("click" !== j || !h.nodeName(e, "a")) && h.acceptData(e) && m && e[j] && ("focus" !== j && "blur" !== j || 0 !== c.target.offsetWidth) && !h.isWindow(e) && (o = e[m],
                            o && (e[m] = null),
                            h.event.triggered = j,
                            e[j](),
                            h.event.triggered = a,
                            o && (e[m] = o));
                            return c.result
                        }
                    } else
                        for (l in e = h.cache,
                        e)
                            e[l].events && e[l].events[j] && h.event.trigger(c, d, e[l].handle.elem, !0)
            }
        },
        dispatch: function(c) {
            var c = h.event.fix(c || b.event), d = (h._data(this, "events") || {})[c.type] || [], e = d.delegateCount, f = [].slice.call(arguments, 0), j = !c.exclusive && !c.namespace, g = h.event.special[c.type] || {}, m = [], l, o, s, H, k, v, t;
            f[0] = c;
            c.delegateTarget = this;
            if (!g.preDispatch || !1 !== g.preDispatch.call(this, c)) {
                if (e && (!c.button || "click" !== c.type)) {
                    s = h(this);
                    s.context = this.ownerDocument || this;
                    for (o = c.target; o != this; o = o.parentNode || this)
                        if (!0 !== o.disabled) {
                            k = {};
                            v = [];
                            s[0] = o;
                            for (l = 0; l < e; l++) {
                                H = d[l];
                                t = H.selector;
                                if (k[t] === a) {
                                    var ma = k, p = t, ca;
                                    if (H.quick) {
                                        ca = H.quick;
                                        var Wa = o.attributes || {};
                                        ca = (!ca[1] || o.nodeName.toLowerCase() === ca[1]) && (!ca[2] || (Wa.id || {}).value === ca[2]) && (!ca[3] || ca[3].test((Wa["class"] || {}).value))
                                    } else
                                        ca = s.is(t);
                                    ma[p] = ca
                                }
                                k[t] && v.push(H)
                            }
                            v.length && m.push({
                                elem: o,
                                matches: v
                            })
                        }
                }
                d.length > e && m.push({
                    elem: this,
                    matches: d.slice(e)
                });
                for (l = 0; l < m.length && !c.isPropagationStopped(); l++) {
                    e = m[l];
                    c.currentTarget = e.elem;
                    for (d = 0; d < e.matches.length && !c.isImmediatePropagationStopped(); d++)
                        if (H = e.matches[d],
                        j || !c.namespace && !H.namespace || c.namespace_re && c.namespace_re.test(H.namespace))
                            c.data = H.data,
                            c.handleObj = H,
                            H = ((h.event.special[H.origType] || {}).handle || H.handler).apply(e.elem, f),
                            H !== a && (c.result = H,
                            !1 === H && (c.preventDefault(),
                            c.stopPropagation()))
                }
                g.postDispatch && g.postDispatch.call(this, c);
                return c.result
            }
        },
        props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: ["char", "charCode", "key", "keyCode"],
            filter: function(a, b) {
                null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode);
                return a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(b, c) {
                var d, e, f, h = c.button, j = c.fromElement;
                null == b.pageX && null != c.clientX && (d = b.target.ownerDocument || u,
                e = d.documentElement,
                f = d.body,
                b.pageX = c.clientX + (e && e.scrollLeft || f && f.scrollLeft || 0) - (e && e.clientLeft || f && f.clientLeft || 0),
                b.pageY = c.clientY + (e && e.scrollTop || f && f.scrollTop || 0) - (e && e.clientTop || f && f.clientTop || 0));
                !b.relatedTarget && j && (b.relatedTarget = j === b.target ? c.toElement : j);
                !b.which && h !== a && (b.which = h & 1 ? 1 : h & 2 ? 3 : h & 4 ? 2 : 0);
                return b
            }
        },
        fix: function(b) {
            if (b[h.expando])
                return b;
            var c, d, e = b, f = h.event.fixHooks[b.type] || {}, j = f.props ? this.props.concat(f.props) : this.props, b = h.Event(e);
            for (c = j.length; c; )
                d = j[--c],
                b[d] = e[d];
            b.target || (b.target = e.srcElement || u);
            3 === b.target.nodeType && (b.target = b.target.parentNode);
            b.metaKey === a && (b.metaKey = b.ctrlKey);
            return f.filter ? f.filter(b, e) : b
        },
        special: {
            ready: {
                setup: h.bindReady
            },
            load: {
                noBubble: !0
            },
            focus: {
                delegateType: "focusin"
            },
            blur: {
                delegateType: "focusout"
            },
            beforeunload: {
                setup: function(a, b, c) {
                    h.isWindow(this) && (this.onbeforeunload = c)
                },
                teardown: function(a, b) {
                    this.onbeforeunload === b && (this.onbeforeunload = null)
                }
            }
        },
        simulate: function(a, b, c, d) {
            a = h.extend(new h.Event, c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? h.event.trigger(a, null, b) : h.event.dispatch.call(b, a);
            a.isDefaultPrevented() && c.preventDefault()
        }
    };
    h.event.handle = h.event.dispatch;
    h.removeEvent = u.removeEventListener ? function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }
    : function(a, b, c) {
        a.detachEvent && a.detachEvent("on" + b, c)
    }
    ;
    h.Event = function(a, b) {
        if (!(this instanceof h.Event))
            return new h.Event(a,b);
        a && a.type ? (this.originalEvent = a,
        this.type = a.type,
        this.isDefaultPrevented = a.defaultPrevented || !1 === a.returnValue || a.getPreventDefault && a.getPreventDefault() ? w : B) : this.type = a;
        b && h.extend(this, b);
        this.timeStamp = a && a.timeStamp || h.now();
        this[h.expando] = !0
    }
    ;
    h.Event.prototype = {
        preventDefault: function() {
            this.isDefaultPrevented = w;
            var a = this.originalEvent;
            !a || (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function() {
            this.isPropagationStopped = w;
            var a = this.originalEvent;
            !a || (a.stopPropagation && a.stopPropagation(),
            a.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = w;
            this.stopPropagation()
        },
        isDefaultPrevented: B,
        isPropagationStopped: B,
        isImmediatePropagationStopped: B
    };
    h.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(a, b) {
        h.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c = a.relatedTarget, d = a.handleObj, e;
                if (!c || c !== this && !h.contains(this, c))
                    a.type = d.origType,
                    e = d.handler.apply(this, arguments),
                    a.type = b;
                return e
            }
        }
    });
    h.support.submitBubbles || (h.event.special.submit = {
        setup: function() {
            if (h.nodeName(this, "form"))
                return !1;
            h.event.add(this, "click._submit keypress._submit", function(b) {
                b = b.target;
                (b = h.nodeName(b, "input") || h.nodeName(b, "button") ? b.form : a) && !b._submit_attached && (h.event.add(b, "submit._submit", function(a) {
                    a._submit_bubble = !0
                }),
                b._submit_attached = !0)
            })
        },
        postDispatch: function(a) {
            a._submit_bubble && (delete a._submit_bubble,
            this.parentNode && !a.isTrigger && h.event.simulate("submit", this.parentNode, a, !0))
        },
        teardown: function() {
            if (h.nodeName(this, "form"))
                return !1;
            h.event.remove(this, "._submit")
        }
    });
    h.support.changeBubbles || (h.event.special.change = {
        setup: function() {
            if (la.test(this.nodeName)) {
                if ("checkbox" === this.type || "radio" === this.type)
                    h.event.add(this, "propertychange._change", function(a) {
                        "checked" === a.originalEvent.propertyName && (this._just_changed = !0)
                    }),
                    h.event.add(this, "click._change", function(a) {
                        this._just_changed && !a.isTrigger && (this._just_changed = !1,
                        h.event.simulate("change", this, a, !0))
                    });
                return !1
            }
            h.event.add(this, "beforeactivate._change", function(a) {
                a = a.target;
                la.test(a.nodeName) && !a._change_attached && (h.event.add(a, "change._change", function(a) {
                    this.parentNode && !a.isSimulated && !a.isTrigger && h.event.simulate("change", this.parentNode, a, !0)
                }),
                a._change_attached = !0)
            })
        },
        handle: function(a) {
            var b = a.target;
            if (this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type)
                return a.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            h.event.remove(this, "._change");
            return la.test(this.nodeName)
        }
    });
    h.support.focusinBubbles || h.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = 0
          , d = function(a) {
            h.event.simulate(b, a.target, h.event.fix(a), !0)
        };
        h.event.special[b] = {
            setup: function() {
                0 === c++ && u.addEventListener(a, d, !0)
            },
            teardown: function() {
                0 === --c && u.removeEventListener(a, d, !0)
            }
        }
    });
    h.fn.extend({
        on: function(b, c, d, e, f) {
            var j, g;
            if ("object" == typeof b) {
                "string" != typeof c && (d = d || c,
                c = a);
                for (g in b)
                    this.on(g, c, d, b[g], f);
                return this
            }
            null == d && null == e ? (e = c,
            d = c = a) : null == e && ("string" == typeof c ? (e = d,
            d = a) : (e = d,
            d = c,
            c = a));
            if (!1 === e)
                e = B;
            else if (!e)
                return this;
            1 === f && (j = e,
            e = function(a) {
                h().off(a);
                return j.apply(this, arguments)
            }
            ,
            e.guid = j.guid || (j.guid = h.guid++));
            return this.each(function() {
                h.event.add(this, b, e, d, c)
            })
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function(b, c, d) {
            if (b && b.preventDefault && b.handleObj) {
                var e = b.handleObj;
                h(b.delegateTarget).off(e.namespace ? e.origType + "." + e.namespace : e.origType, e.selector, e.handler);
                return this
            }
            if ("object" == typeof b) {
                for (e in b)
                    this.off(e, c, b[e]);
                return this
            }
            if (!1 === c || "function" == typeof c)
                d = c,
                c = a;
            !1 === d && (d = B);
            return this.each(function() {
                h.event.remove(this, b, d, c)
            })
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        live: function(a, b, c) {
            h(this.context).on(a, this.selector, b, c);
            return this
        },
        die: function(a, b) {
            h(this.context).off(a, this.selector || "**", b);
            return this
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 == arguments.length ? this.off(a, "**") : this.off(b, a, c)
        },
        trigger: function(a, b) {
            return this.each(function() {
                h.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            if (this[0])
                return h.event.trigger(a, b, this[0], !0)
        },
        toggle: function(a) {
            var b = arguments
              , c = a.guid || h.guid++
              , d = 0
              , e = function(c) {
                var e = (h._data(this, "lastToggle" + a.guid) || 0) % d;
                h._data(this, "lastToggle" + a.guid, e + 1);
                c.preventDefault();
                return b[e].apply(this, arguments) || !1
            };
            for (e.guid = c; d < b.length; )
                b[d++].guid = c;
            return this.click(e)
        },
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }
    });
    h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        h.fn[b] = function(a, c) {
            c == null && (c = a,
            a = null);
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
        ;
        h.attrFn && (h.attrFn[b] = true);
        Ea.test(b) && (h.event.fixHooks[b] = h.event.keyHooks);
        nb.test(b) && (h.event.fixHooks[b] = h.event.mouseHooks)
    });
    var pb = function(a, b, c, d, e, f) {
        for (var e = 0, h = d.length; e < h; e++) {
            var j = d[e];
            if (j) {
                for (var g = !1, j = j[a]; j; ) {
                    if (j[Oa] === c) {
                        g = d[j.sizset];
                        break
                    }
                    if (1 === j.nodeType)
                        if (f || (j[Oa] = c,
                        j.sizset = e),
                        "string" != typeof b) {
                            if (j === b) {
                                g = !0;
                                break
                            }
                        } else if (0 < L.filter(b, [j]).length) {
                            g = j;
                            break
                        }
                    j = j[a]
                }
                d[e] = g
            }
        }
    }
      , Ya = function(a, b, c, d, e, f) {
        for (var e = 0, h = d.length; e < h; e++) {
            var j = d[e];
            if (j) {
                for (var g = !1, j = j[a]; j; ) {
                    if (j[Oa] === c) {
                        g = d[j.sizset];
                        break
                    }
                    1 === j.nodeType && !f && (j[Oa] = c,
                    j.sizset = e);
                    if (j.nodeName.toLowerCase() === b) {
                        g = j;
                        break
                    }
                    j = j[a]
                }
                d[e] = g
            }
        }
    }
      , qb = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g
      , Oa = "sizcache" + (Math.random() + "").replace(".", "")
      , db = 0
      , rb = Object.prototype.toString
      , Za = !1
      , sb = !0
      , Ja = /\\/g
      , Ob = /\r\n/g
      , tb = /\W/;
    [0, 0].sort(function() {
        sb = !1;
        return 0
    });
    var L = function(a, b, c, d) {
        var c = c || []
          , e = b = b || u;
        if (1 !== b.nodeType && 9 !== b.nodeType)
            return [];
        if (!a || "string" != typeof a)
            return c;
        var f, h, j, g, m, l, o = !0, s = L.isXML(b), k = [], v = a;
        do
            if (qb.exec(""),
            f = qb.exec(v))
                if (v = f[3],
                k.push(f[1]),
                f[2]) {
                    g = f[3];
                    break
                }
        while (f);if (1 < k.length && Eb.exec(a))
            if (2 === k.length && O.relative[k[0]])
                h = Zb(k[0] + k[1], b, d);
            else
                for (h = O.relative[k[0]] ? [b] : L(k.shift(), b); k.length; )
                    a = k.shift(),
                    O.relative[a] && (a += k.shift()),
                    h = Zb(a, h, d);
        else if (!d && 1 < k.length && 9 === b.nodeType && !s && O.match.ID.test(k[0]) && !O.match.ID.test(k[k.length - 1]) && (m = L.find(k.shift(), b, s),
        b = m.expr ? L.filter(m.expr, m.set)[0] : m.set[0]),
        b) {
            m = d ? {
                expr: k.pop(),
                set: H(d)
            } : L.find(k.pop(), 1 === k.length && ("~" === k[0] || "+" === k[0]) && b.parentNode ? b.parentNode : b, s);
            h = m.expr ? L.filter(m.expr, m.set) : m.set;
            for (0 < k.length ? j = H(h) : o = !1; k.length; )
                f = l = k.pop(),
                O.relative[l] ? f = k.pop() : l = "",
                null == f && (f = b),
                O.relative[l](j, f, s)
        } else
            j = [];
        j || (j = h);
        j || L.error(l || a);
        if ("[object Array]" === rb.call(j))
            if (o)
                if (b && 1 === b.nodeType)
                    for (a = 0; null != j[a]; a++)
                        j[a] && (!0 === j[a] || 1 === j[a].nodeType && L.contains(b, j[a])) && c.push(h[a]);
                else
                    for (a = 0; null != j[a]; a++)
                        j[a] && 1 === j[a].nodeType && c.push(h[a]);
            else
                c.push.apply(c, j);
        else
            H(j, c);
        g && (L(g, e, c, d),
        L.uniqueSort(c));
        return c
    };
    L.uniqueSort = function(a) {
        if (ca && (Za = sb,
        a.sort(ca),
        Za))
            for (var b = 1; b < a.length; b++)
                a[b] === a[b - 1] && a.splice(b--, 1);
        return a
    }
    ;
    L.matches = function(a, b) {
        return L(a, null, null, b)
    }
    ;
    L.matchesSelector = function(a, b) {
        return 0 < L(b, null, null, [a]).length
    }
    ;
    L.find = function(a, b, c) {
        var d, e, f, h, j, g;
        if (!a)
            return [];
        e = 0;
        for (f = O.order.length; e < f; e++)
            if (j = O.order[e],
            h = O.leftMatch[j].exec(a))
                if (g = h[1],
                h.splice(1, 1),
                "\\" !== g.substr(g.length - 1) && (h[1] = (h[1] || "").replace(Ja, ""),
                d = O.find[j](h, b, c),
                null != d)) {
                    a = a.replace(O.match[j], "");
                    break
                }
        d || (d = "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName("*") : []);
        return {
            set: d,
            expr: a
        }
    }
    ;
    L.filter = function(b, c, d, e) {
        for (var f, h, j, g, m, l, o, s, k = b, H = [], v = c, t = c && c[0] && L.isXML(c[0]); b && c.length; ) {
            for (j in O.filter)
                if (null != (f = O.leftMatch[j].exec(b)) && f[2])
                    if (l = O.filter[j],
                    m = f[1],
                    h = !1,
                    f.splice(1, 1),
                    "\\" !== m.substr(m.length - 1)) {
                        v === H && (H = []);
                        if (O.preFilter[j])
                            if (f = O.preFilter[j](f, v, d, H, e, t)) {
                                if (!0 === f)
                                    continue
                            } else
                                h = g = !0;
                        if (f)
                            for (o = 0; null != (m = v[o]); o++)
                                m && (g = l(m, f, o, v),
                                s = e ^ g,
                                d && null != g ? s ? h = !0 : v[o] = !1 : s && (H.push(m),
                                h = !0));
                        if (g !== a) {
                            d || (v = H);
                            b = b.replace(O.match[j], "");
                            if (!h)
                                return [];
                            break
                        }
                    }
            if (b === k)
                if (null == h)
                    L.error(b);
                else
                    break;
            k = b
        }
        return v
    }
    ;
    L.error = function(a) {
        throw Error("Syntax error, unrecognized expression: " + a);
    }
    ;
    var Va = L.getText = function(a) {
        var b, c;
        b = a.nodeType;
        var d = "";
        if (b)
            if (1 === b || 9 === b || 11 === b) {
                if ("string" == typeof a.textContent)
                    return a.textContent;
                if ("string" == typeof a.innerText)
                    return a.innerText.replace(Ob, "");
                for (a = a.firstChild; a; a = a.nextSibling)
                    d += Va(a)
            } else {
                if (3 === b || 4 === b)
                    return a.nodeValue
            }
        else
            for (b = 0; c = a[b]; b++)
                8 !== c.nodeType && (d += Va(c));
        return d
    }
    , O = L.selectors = {
        order: ["ID", "NAME", "TAG"],
        match: {
            ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
            CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
            NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
            ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
            TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,
            CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
            POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
            PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/
        },
        leftMatch: {},
        attrMap: {
            "class": "className",
            "for": "htmlFor"
        },
        attrHandle: {
            href: function(a) {
                return a.getAttribute("href")
            },
            type: function(a) {
                return a.getAttribute("type")
            }
        },
        relative: {
            "+": function(a, b) {
                var c = "string" == typeof b
                  , d = c && !tb.test(b)
                  , c = c && !d;
                d && (b = b.toLowerCase());
                for (var d = 0, e = a.length, f; d < e; d++)
                    if (f = a[d]) {
                        for (; (f = f.previousSibling) && 1 !== f.nodeType; )
                            ;
                        a[d] = c || f && f.nodeName.toLowerCase() === b ? f || !1 : f === b
                    }
                c && L.filter(b, a, !0)
            },
            ">": function(a, b) {
                var c, d = "string" == typeof b, e = 0, f = a.length;
                if (d && !tb.test(b))
                    for (b = b.toLowerCase(); e < f; e++) {
                        if (c = a[e])
                            c = c.parentNode,
                            a[e] = c.nodeName.toLowerCase() === b ? c : !1
                    }
                else {
                    for (; e < f; e++)
                        (c = a[e]) && (a[e] = d ? c.parentNode : c.parentNode === b);
                    d && L.filter(b, a, !0)
                }
            },
            "": function(a, b, c) {
                var d, e = db++, f = pb;
                "string" == typeof b && !tb.test(b) && (b = b.toLowerCase(),
                d = b,
                f = Ya);
                f("parentNode", b, e, a, d, c)
            },
            "~": function(a, b, c) {
                var d, e = db++, f = pb;
                "string" == typeof b && !tb.test(b) && (b = b.toLowerCase(),
                d = b,
                f = Ya);
                f("previousSibling", b, e, a, d, c)
            }
        },
        find: {
            ID: function(a, b, c) {
                if ("undefined" != typeof b.getElementById && !c)
                    return (a = b.getElementById(a[1])) && a.parentNode ? [a] : []
            },
            NAME: function(a, b) {
                if ("undefined" != typeof b.getElementsByName) {
                    for (var c = [], d = b.getElementsByName(a[1]), e = 0, f = d.length; e < f; e++)
                        d[e].getAttribute("name") === a[1] && c.push(d[e]);
                    return 0 === c.length ? null : c
                }
            },
            TAG: function(a, b) {
                if ("undefined" != typeof b.getElementsByTagName)
                    return b.getElementsByTagName(a[1])
            }
        },
        preFilter: {
            CLASS: function(a, b, c, d, e, f) {
                a = " " + a[1].replace(Ja, "") + " ";
                if (f)
                    return a;
                for (var f = 0, h; null != (h = b[f]); f++)
                    h && (e ^ (h.className && 0 <= (" " + h.className + " ").replace(/[\t\n\r]/g, " ").indexOf(a)) ? c || d.push(h) : c && (b[f] = !1));
                return !1
            },
            ID: function(a) {
                return a[1].replace(Ja, "")
            },
            TAG: function(a) {
                return a[1].replace(Ja, "").toLowerCase()
            },
            CHILD: function(a) {
                if ("nth" === a[1]) {
                    a[2] || L.error(a[0]);
                    a[2] = a[2].replace(/^\+|\s*/g, "");
                    var b = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even" === a[2] && "2n" || "odd" === a[2] && "2n+1" || !/\D/.test(a[2]) && "0n+" + a[2] || a[2]);
                    a[2] = b[1] + (b[2] || 1) - 0;
                    a[3] = b[3] - 0
                } else
                    a[2] && L.error(a[0]);
                a[0] = db++;
                return a
            },
            ATTR: function(a, b, c, d, e, f) {
                b = a[1] = a[1].replace(Ja, "");
                !f && O.attrMap[b] && (a[1] = O.attrMap[b]);
                a[4] = (a[4] || a[5] || "").replace(Ja, "");
                "~=" === a[2] && (a[4] = " " + a[4] + " ");
                return a
            },
            PSEUDO: function(a, b, c, d, e) {
                if ("not" === a[1])
                    if (1 < (qb.exec(a[3]) || "").length || /^\w/.test(a[3]))
                        a[3] = L(a[3], null, null, b);
                    else
                        return a = L.filter(a[3], b, c, 1 ^ e),
                        c || d.push.apply(d, a),
                        !1;
                else if (O.match.POS.test(a[0]) || O.match.CHILD.test(a[0]))
                    return !0;
                return a
            },
            POS: function(a) {
                a.unshift(!0);
                return a
            }
        },
        filters: {
            enabled: function(a) {
                return !1 === a.disabled && "hidden" !== a.type
            },
            disabled: function(a) {
                return !0 === a.disabled
            },
            checked: function(a) {
                return !0 === a.checked
            },
            selected: function(a) {
                a.parentNode && a.parentNode.selectedIndex;
                return !0 === a.selected
            },
            parent: function(a) {
                return !!a.firstChild
            },
            empty: function(a) {
                return !a.firstChild
            },
            has: function(a, b, c) {
                return !!L(c[3], a).length
            },
            header: function(a) {
                return /h\d/i.test(a.nodeName)
            },
            text: function(a) {
                var b = a.getAttribute("type")
                  , c = a.type;
                return "input" === a.nodeName.toLowerCase() && "text" === c && (b === c || null === b)
            },
            radio: function(a) {
                return "input" === a.nodeName.toLowerCase() && "radio" === a.type
            },
            checkbox: function(a) {
                return "input" === a.nodeName.toLowerCase() && "checkbox" === a.type
            },
            file: function(a) {
                return "input" === a.nodeName.toLowerCase() && "file" === a.type
            },
            password: function(a) {
                return "input" === a.nodeName.toLowerCase() && "password" === a.type
            },
            submit: function(a) {
                var b = a.nodeName.toLowerCase();
                return ("input" === b || "button" === b) && "submit" === a.type
            },
            image: function(a) {
                return "input" === a.nodeName.toLowerCase() && "image" === a.type
            },
            reset: function(a) {
                var b = a.nodeName.toLowerCase();
                return ("input" === b || "button" === b) && "reset" === a.type
            },
            button: function(a) {
                var b = a.nodeName.toLowerCase();
                return "input" === b && "button" === a.type || "button" === b
            },
            input: function(a) {
                return /input|select|textarea|button/i.test(a.nodeName)
            },
            focus: function(a) {
                return a === a.ownerDocument.activeElement
            }
        },
        setFilters: {
            first: function(a, b) {
                return 0 === b
            },
            last: function(a, b, c, d) {
                return b === d.length - 1
            },
            even: function(a, b) {
                return 0 === b % 2
            },
            odd: function(a, b) {
                return 1 === b % 2
            },
            lt: function(a, b, c) {
                return b < c[3] - 0
            },
            gt: function(a, b, c) {
                return b > c[3] - 0
            },
            nth: function(a, b, c) {
                return c[3] - 0 === b
            },
            eq: function(a, b, c) {
                return c[3] - 0 === b
            }
        },
        filter: {
            PSEUDO: function(a, b, c, d) {
                var e = b[1]
                  , f = O.filters[e];
                if (f)
                    return f(a, c, b, d);
                if ("contains" === e)
                    return 0 <= (a.textContent || a.innerText || Va([a]) || "").indexOf(b[3]);
                if ("not" === e) {
                    b = b[3];
                    c = 0;
                    for (d = b.length; c < d; c++)
                        if (b[c] === a)
                            return !1;
                    return !0
                }
                L.error(e)
            },
            CHILD: function(a, b) {
                var c, d, e, f, h, j;
                c = b[1];
                j = a;
                switch (c) {
                case "only":
                case "first":
                    for (; j = j.previousSibling; )
                        if (1 === j.nodeType)
                            return !1;
                    if ("first" === c)
                        return !0;
                    j = a;
                case "last":
                    for (; j = j.nextSibling; )
                        if (1 === j.nodeType)
                            return !1;
                    return !0;
                case "nth":
                    c = b[2];
                    d = b[3];
                    if (1 === c && 0 === d)
                        return !0;
                    e = b[0];
                    if ((f = a.parentNode) && (f[Oa] !== e || !a.nodeIndex)) {
                        h = 0;
                        for (j = f.firstChild; j; j = j.nextSibling)
                            1 === j.nodeType && (j.nodeIndex = ++h);
                        f[Oa] = e
                    }
                    j = a.nodeIndex - d;
                    return 0 === c ? 0 === j : 0 === j % c && 0 <= j / c
                }
            },
            ID: function(a, b) {
                return 1 === a.nodeType && a.getAttribute("id") === b
            },
            TAG: function(a, b) {
                return "*" === b && 1 === a.nodeType || !!a.nodeName && a.nodeName.toLowerCase() === b
            },
            CLASS: function(a, b) {
                return -1 < (" " + (a.className || a.getAttribute("class")) + " ").indexOf(b)
            },
            ATTR: function(a, b) {
                var c = b[1]
                  , c = L.attr ? L.attr(a, c) : O.attrHandle[c] ? O.attrHandle[c](a) : null != a[c] ? a[c] : a.getAttribute(c)
                  , d = c + ""
                  , e = b[2]
                  , f = b[4];
                return null == c ? "!=" === e : !e && L.attr ? null != c : "=" === e ? d === f : "*=" === e ? 0 <= d.indexOf(f) : "~=" === e ? 0 <= (" " + d + " ").indexOf(f) : f ? "!=" === e ? d !== f : "^=" === e ? 0 === d.indexOf(f) : "$=" === e ? d.substr(d.length - f.length) === f : "|=" === e ? d === f || d.substr(0, f.length + 1) === f + "-" : !1 : d && !1 !== c
            },
            POS: function(a, b, c, d) {
                var e = O.setFilters[b[2]];
                if (e)
                    return e(a, c, b, d)
            }
        }
    }, Eb = O.match.POS, Pb = function(a, b) {
        return "\\" + (b - 0 + 1)
    }, Pa;
    for (Pa in O.match)
        O.match[Pa] = RegExp(O.match[Pa].source + /(?![^\[]*\])(?![^\(]*\))/.source),
        O.leftMatch[Pa] = RegExp(/(^(?:.|\r|\n)*?)/.source + O.match[Pa].source.replace(/\\(\d+)/g, Pb));
    O.match.globalPOS = Eb;
    var H = function(a, b) {
        a = Array.prototype.slice.call(a, 0);
        return b ? (b.push.apply(b, a),
        b) : a
    };
    try {
        Array.prototype.slice.call(u.documentElement.childNodes, 0)[0].nodeType
    } catch (Wa) {
        H = function(a, b) {
            var c = 0
              , d = b || [];
            if ("[object Array]" === rb.call(a))
                Array.prototype.push.apply(d, a);
            else if ("number" == typeof a.length)
                for (var e = a.length; c < e; c++)
                    d.push(a[c]);
            else
                for (; a[c]; c++)
                    d.push(a[c]);
            return d
        }
    }
    var ca, ya;
    u.documentElement.compareDocumentPosition ? ca = function(a, b) {
        return a === b ? (Za = !0,
        0) : !a.compareDocumentPosition || !b.compareDocumentPosition ? a.compareDocumentPosition ? -1 : 1 : a.compareDocumentPosition(b) & 4 ? -1 : 1
    }
    : (ca = function(a, b) {
        if (a === b)
            return Za = !0,
            0;
        if (a.sourceIndex && b.sourceIndex)
            return a.sourceIndex - b.sourceIndex;
        var c, d, e = [], f = [];
        c = a.parentNode;
        d = b.parentNode;
        var h = c;
        if (c === d)
            return ya(a, b);
        if (!c)
            return -1;
        if (!d)
            return 1;
        for (; h; )
            e.unshift(h),
            h = h.parentNode;
        for (h = d; h; )
            f.unshift(h),
            h = h.parentNode;
        c = e.length;
        d = f.length;
        for (h = 0; h < c && h < d; h++)
            if (e[h] !== f[h])
                return ya(e[h], f[h]);
        return h === c ? ya(a, f[h], -1) : ya(e[h], b, 1)
    }
    ,
    ya = function(a, b, c) {
        if (a === b)
            return c;
        for (a = a.nextSibling; a; ) {
            if (a === b)
                return -1;
            a = a.nextSibling
        }
        return 1
    }
    );
    var ma = u.createElement("div")
      , $a = "script" + (new Date).getTime()
      , Fa = u.documentElement;
    ma.innerHTML = "<a name='" + $a + "'/>";
    Fa.insertBefore(ma, Fa.firstChild);
    u.getElementById($a) && (O.find.ID = function(b, c, d) {
        if ("undefined" != typeof c.getElementById && !d)
            return (c = c.getElementById(b[1])) ? c.id === b[1] || "undefined" != typeof c.getAttributeNode && c.getAttributeNode("id").nodeValue === b[1] ? [c] : a : []
    }
    ,
    O.filter.ID = function(a, b) {
        var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
        return 1 === a.nodeType && c && c.nodeValue === b
    }
    );
    Fa.removeChild(ma);
    var Fa = ma = null
      , da = u.createElement("div");
    da.appendChild(u.createComment(""));
    0 < da.getElementsByTagName("*").length && (O.find.TAG = function(a, b) {
        var c = b.getElementsByTagName(a[1]);
        if ("*" === a[1]) {
            for (var d = [], e = 0; c[e]; e++)
                1 === c[e].nodeType && d.push(c[e]);
            c = d
        }
        return c
    }
    );
    da.innerHTML = "<a href='#'></a>";
    da.firstChild && "undefined" != typeof da.firstChild.getAttribute && "#" !== da.firstChild.getAttribute("href") && (O.attrHandle.href = function(a) {
        return a.getAttribute("href", 2)
    }
    );
    da = null;
    if (u.querySelectorAll) {
        var Qa = L
          , Fb = u.createElement("div");
        Fb.innerHTML = "<p class='TEST'></p>";
        if (!Fb.querySelectorAll || 0 !== Fb.querySelectorAll(".TEST").length) {
            var L = function(a, b, c, d) {
                b = b || u;
                if (!d && !L.isXML(b)) {
                    var e = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);
                    if (e && (1 === b.nodeType || 9 === b.nodeType)) {
                        if (e[1])
                            return H(b.getElementsByTagName(a), c);
                        if (e[2] && O.find.CLASS && b.getElementsByClassName)
                            return H(b.getElementsByClassName(e[2]), c)
                    }
                    if (9 === b.nodeType) {
                        if ("body" === a && b.body)
                            return H([b.body], c);
                        if (e && e[3]) {
                            var f = b.getElementById(e[3]);
                            if (!f || !f.parentNode)
                                return H([], c);
                            if (f.id === e[3])
                                return H([f], c)
                        }
                        try {
                            return H(b.querySelectorAll(a), c)
                        } catch (h) {}
                    } else if (1 === b.nodeType && "object" !== b.nodeName.toLowerCase()) {
                        var e = b
                          , j = (f = b.getAttribute("id")) || "__sizzle__"
                          , g = b.parentNode
                          , m = /^\s*[+~]/.test(a);
                        f ? j = j.replace(/'/g, "\\$&") : b.setAttribute("id", j);
                        m && g && (b = b.parentNode);
                        try {
                            if (!m || g)
                                return H(b.querySelectorAll("[id='" + j + "'] " + a), c)
                        } catch (l) {} finally {
                            f || e.removeAttribute("id")
                        }
                    }
                }
                return Qa(a, b, c, d)
            }, Qb;
            for (Qb in Qa)
                L[Qb] = Qa[Qb];
            Fb = null
        }
    }
    var Gb = u.documentElement
      , Hb = Gb.matchesSelector || Gb.mozMatchesSelector || Gb.webkitMatchesSelector || Gb.msMatchesSelector;
    if (Hb) {
        var rc = !Hb.call(u.createElement("div"), "div")
          , $b = !1;
        try {
            Hb.call(u.documentElement, "[test!='']:sizzle")
        } catch (Xc) {
            $b = !0
        }
        L.matchesSelector = function(a, b) {
            b = b.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']");
            if (!L.isXML(a))
                try {
                    if ($b || !O.match.PSEUDO.test(b) && !/!=/.test(b)) {
                        var c = Hb.call(a, b);
                        if (c || !rc || a.document && 11 !== a.document.nodeType)
                            return c
                    }
                } catch (d) {}
            return 0 < L(b, null, null, [a]).length
        }
    }
    var ub = u.createElement("div");
    ub.innerHTML = "<div class='test e'></div><div class='test'></div>";
    ub.getElementsByClassName && 0 !== ub.getElementsByClassName("e").length && (ub.lastChild.className = "e",
    1 !== ub.getElementsByClassName("e").length && (O.order.splice(1, 0, "CLASS"),
    O.find.CLASS = function(a, b, c) {
        if ("undefined" != typeof b.getElementsByClassName && !c)
            return b.getElementsByClassName(a[1])
    }
    ,
    ub = null));
    u.documentElement.contains ? L.contains = function(a, b) {
        return a !== b && (a.contains ? a.contains(b) : true)
    }
    : u.documentElement.compareDocumentPosition ? L.contains = function(a, b) {
        return !!(a.compareDocumentPosition(b) & 16)
    }
    : L.contains = function() {
        return false
    }
    ;
    L.isXML = function(a) {
        return (a = (a ? a.ownerDocument || a : 0).documentElement) ? a.nodeName !== "HTML" : false
    }
    ;
    var Zb = function(a, b, c) {
        for (var d, e = [], f = "", b = b.nodeType ? [b] : b; d = O.match.PSEUDO.exec(a); ) {
            f = f + d[0];
            a = a.replace(O.match.PSEUDO, "")
        }
        a = O.relative[a] ? a + "*" : a;
        d = 0;
        for (var h = b.length; d < h; d++)
            L(a, b[d], e, c);
        return L.filter(f, e)
    };
    L.attr = h.attr;
    L.selectors.attrMap = {};
    h.find = L;
    h.expr = L.selectors;
    h.expr[":"] = h.expr.filters;
    h.unique = L.uniqueSort;
    h.text = L.getText;
    h.isXMLDoc = L.isXML;
    h.contains = L.contains;
    var sc = /Until$/
      , tc = /^(?:parents|prevUntil|prevAll)/
      , uc = /,/
      , qc = /^.[^:#\[\.,]*$/
      , vc = Array.prototype.slice
      , ac = h.expr.match.globalPOS
      , wc = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    h.fn.extend({
        find: function(a) {
            var b = this, c, d;
            if (typeof a != "string")
                return h(a).filter(function() {
                    c = 0;
                    for (d = b.length; c < d; c++)
                        if (h.contains(b[c], this))
                            return true
                });
            var e = this.pushStack("", "find", a), f, j, g;
            c = 0;
            for (d = this.length; c < d; c++) {
                f = e.length;
                h.find(a, this[c], e);
                if (c > 0)
                    for (j = f; j < e.length; j++)
                        for (g = 0; g < f; g++)
                            if (e[g] === e[j]) {
                                e.splice(j--, 1);
                                break
                            }
            }
            return e
        },
        has: function(a) {
            var b = h(a);
            return this.filter(function() {
                for (var a = 0, c = b.length; a < c; a++)
                    if (h.contains(this, b[a]))
                        return true
            })
        },
        not: function(a) {
            return this.pushStack(z(this, a, false), "not", a)
        },
        filter: function(a) {
            return this.pushStack(z(this, a, true), "filter", a)
        },
        is: function(a) {
            return !!a && (typeof a == "string" ? ac.test(a) ? h(a, this.context).index(this[0]) >= 0 : h.filter(a, this).length > 0 : this.filter(a).length > 0)
        },
        closest: function(a, b) {
            var c = [], d, e, f = this[0];
            if (h.isArray(a)) {
                for (e = 1; f && f.ownerDocument && f !== b; ) {
                    for (d = 0; d < a.length; d++)
                        h(f).is(a[d]) && c.push({
                            selector: a[d],
                            elem: f,
                            level: e
                        });
                    f = f.parentNode;
                    e++
                }
                return c
            }
            var j = ac.test(a) || typeof a != "string" ? h(a, b || this.context) : 0;
            d = 0;
            for (e = this.length; d < e; d++)
                for (f = this[d]; f; ) {
                    if (j ? j.index(f) > -1 : h.find.matchesSelector(f, a)) {
                        c.push(f);
                        break
                    }
                    f = f.parentNode;
                    if (!f || !f.ownerDocument || f === b || f.nodeType === 11)
                        break
                }
            c = c.length > 1 ? h.unique(c) : c;
            return this.pushStack(c, "closest", a)
        },
        index: function(a) {
            return !a ? this[0] && this[0].parentNode ? this.prevAll().length : -1 : typeof a == "string" ? h.inArray(this[0], h(a)) : h.inArray(a.jquery ? a[0] : a, this)
        },
        add: function(a, b) {
            var c = typeof a == "string" ? h(a, b) : h.makeArray(a && a.nodeType ? [a] : a)
              , d = h.merge(this.get(), c);
            return this.pushStack(!c[0] || !c[0].parentNode || c[0].parentNode.nodeType === 11 || !d[0] || !d[0].parentNode || d[0].parentNode.nodeType === 11 ? d : h.unique(d))
        },
        andSelf: function() {
            return this.add(this.prevObject)
        }
    });
    h.each({
        parent: function(a) {
            return (a = a.parentNode) && a.nodeType !== 11 ? a : null
        },
        parents: function(a) {
            return h.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return h.dir(a, "parentNode", c)
        },
        next: function(a) {
            return h.nth(a, 2, "nextSibling")
        },
        prev: function(a) {
            return h.nth(a, 2, "previousSibling")
        },
        nextAll: function(a) {
            return h.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return h.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return h.dir(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return h.dir(a, "previousSibling", c)
        },
        siblings: function(a) {
            return h.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return h.sibling(a.firstChild)
        },
        contents: function(a) {
            return h.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : h.makeArray(a.childNodes)
        }
    }, function(a, b) {
        h.fn[a] = function(c, d) {
            var e = h.map(this, b, c);
            sc.test(a) || (d = c);
            d && typeof d == "string" && (e = h.filter(d, e));
            e = this.length > 1 && !wc[a] ? h.unique(e) : e;
            (this.length > 1 || uc.test(d)) && tc.test(a) && (e = e.reverse());
            return this.pushStack(e, a, vc.call(arguments).join(","))
        }
    });
    h.extend({
        filter: function(a, b, c) {
            c && (a = ":not(" + a + ")");
            return b.length === 1 ? h.find.matchesSelector(b[0], a) ? [b[0]] : [] : h.find.matches(a, b)
        },
        dir: function(b, c, d) {
            for (var e = [], b = b[c]; b && b.nodeType !== 9 && (d === a || b.nodeType !== 1 || !h(b).is(d)); ) {
                b.nodeType === 1 && e.push(b);
                b = b[c]
            }
            return e
        },
        nth: function(a, b, c) {
            for (var b = b || 1, d = 0; a; a = a[c])
                if (a.nodeType === 1 && ++d === b)
                    break;
            return a
        },
        sibling: function(a, b) {
            for (var c = []; a; a = a.nextSibling)
                a.nodeType === 1 && a !== b && c.push(a);
            return c
        }
    });
    var Yb = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
      , xc = / jQuery\d+="(?:\d+|null)"/g
      , Rb = /^\s+/
      , bc = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig
      , cc = /<([\w:]+)/
      , yc = /<tbody/i
      , zc = /<|&#?\w+;/
      , Ac = /<(?:script|style)/i
      , Bc = /<(?:script|object|embed|option|style)/i
      , dc = RegExp("<(?:" + Yb + ")[\\s/>]", "i")
      , ec = /checked\s*(?:[^=]|=\s*.checked.)/i
      , fc = /\/(java|ecma)script/i
      , Cc = /^\s*<!(?:\[CDATA\[|\-\-)/
      , Ga = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        area: [1, "<map>", "</map>"],
        _default: [0, "", ""]
    }
      , Sb = x(u);
    Ga.optgroup = Ga.option;
    Ga.tbody = Ga.tfoot = Ga.colgroup = Ga.caption = Ga.thead;
    Ga.th = Ga.td;
    h.support.htmlSerialize || (Ga._default = [1, "div<div>", "</div>"]);
    h.fn.extend({
        text: function(b) {
            return h.access(this, function(b) {
                return b === a ? h.text(this) : this.empty().append((this[0] && this[0].ownerDocument || u).createTextNode(b))
            }, null, b, arguments.length)
        },
        wrapAll: function(a) {
            if (h.isFunction(a))
                return this.each(function(b) {
                    h(this).wrapAll(a.call(this, b))
                });
            if (this[0]) {
                var b = h(a, this[0].ownerDocument).eq(0).clone(true);
                this[0].parentNode && b.insertBefore(this[0]);
                b.map(function() {
                    for (var a = this; a.firstChild && a.firstChild.nodeType === 1; )
                        a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function(a) {
            return h.isFunction(a) ? this.each(function(b) {
                h(this).wrapInner(a.call(this, b))
            }) : this.each(function() {
                var b = h(this)
                  , c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = h.isFunction(a);
            return this.each(function(c) {
                h(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                h.nodeName(this, "body") || h(this).replaceWith(this.childNodes)
            }).end()
        },
        append: function() {
            return this.domManip(arguments, true, function(a) {
                this.nodeType === 1 && this.appendChild(a)
            })
        },
        prepend: function() {
            return this.domManip(arguments, true, function(a) {
                this.nodeType === 1 && this.insertBefore(a, this.firstChild)
            })
        },
        before: function() {
            if (this[0] && this[0].parentNode)
                return this.domManip(arguments, false, function(a) {
                    this.parentNode.insertBefore(a, this)
                });
            if (arguments.length) {
                var a = h.clean(arguments);
                a.push.apply(a, this.toArray());
                return this.pushStack(a, "before", arguments)
            }
        },
        after: function() {
            if (this[0] && this[0].parentNode)
                return this.domManip(arguments, false, function(a) {
                    this.parentNode.insertBefore(a, this.nextSibling)
                });
            if (arguments.length) {
                var a = this.pushStack(this, "after", arguments);
                a.push.apply(a, h.clean(arguments));
                return a
            }
        },
        remove: function(a, b) {
            for (var c = 0, d; (d = this[c]) != null; c++)
                if (!a || h.filter(a, [d]).length) {
                    !b && d.nodeType === 1 && (h.cleanData(d.getElementsByTagName("*")),
                    h.cleanData([d]));
                    d.parentNode && d.parentNode.removeChild(d)
                }
            return this
        },
        empty: function() {
            for (var a = 0, b; (b = this[a]) != null; a++)
                for (b.nodeType === 1 && h.cleanData(b.getElementsByTagName("*")); b.firstChild; )
                    b.removeChild(b.firstChild);
            return this
        },
        clone: function(a, b) {
            a = a == null ? false : a;
            b = b == null ? a : b;
            return this.map(function() {
                return h.clone(this, a, b)
            })
        },
        html: function(b) {
            return h.access(this, function(b) {
                var c = this[0] || {}
                  , d = 0
                  , e = this.length;
                if (b === a)
                    return c.nodeType === 1 ? c.innerHTML.replace(xc, "") : null;
                if (typeof b == "string" && !Ac.test(b) && (h.support.leadingWhitespace || !Rb.test(b)) && !Ga[(cc.exec(b) || ["", ""])[1].toLowerCase()]) {
                    b = b.replace(bc, "<$1></$2>");
                    try {
                        for (; d < e; d++) {
                            c = this[d] || {};
                            c.nodeType === 1 && (h.cleanData(c.getElementsByTagName("*")),
                            c.innerHTML = b)
                        }
                        c = 0
                    } catch (f) {}
                }
                c && this.empty().append(b)
            }, null, b, arguments.length)
        },
        replaceWith: function(a) {
            if (this[0] && this[0].parentNode) {
                if (h.isFunction(a))
                    return this.each(function(b) {
                        var c = h(this)
                          , d = c.html();
                        c.replaceWith(a.call(this, b, d))
                    });
                typeof a != "string" && (a = h(a).detach());
                return this.each(function() {
                    var b = this.nextSibling
                      , c = this.parentNode;
                    h(this).remove();
                    b ? h(b).before(a) : h(c).append(a)
                })
            }
            return this.length ? this.pushStack(h(h.isFunction(a) ? a() : a), "replaceWith", a) : this
        },
        detach: function(a) {
            return this.remove(a, true)
        },
        domManip: function(b, c, d) {
            var e, f, j, g = b[0], m = [];
            if (!h.support.checkClone && arguments.length === 3 && typeof g == "string" && ec.test(g))
                return this.each(function() {
                    h(this).domManip(b, c, d, true)
                });
            if (h.isFunction(g))
                return this.each(function(e) {
                    var f = h(this);
                    b[0] = g.call(this, e, c ? f.html() : a);
                    f.domManip(b, c, d)
                });
            if (this[0]) {
                j = g && g.parentNode;
                h.support.parentNode && j && j.nodeType === 11 && j.childNodes.length === this.length ? e = {
                    fragment: j
                } : e = h.buildFragment(b, this, m);
                j = e.fragment;
                j.childNodes.length === 1 ? f = j = j.firstChild : f = j.firstChild;
                if (f) {
                    c = c && h.nodeName(f, "tr");
                    f = 0;
                    for (var l = this.length, o = l - 1; f < l; f++)
                        d.call(c ? h.nodeName(this[f], "table") ? this[f].getElementsByTagName("tbody")[0] || this[f].appendChild(this[f].ownerDocument.createElement("tbody")) : this[f] : this[f], e.cacheable || l > 1 && f < o ? h.clone(j, true, true) : j)
                }
                m.length && h.each(m, function(a, b) {
                    b.src ? h.ajax({
                        type: "GET",
                        global: false,
                        url: b.src,
                        async: false,
                        dataType: "script"
                    }) : h.globalEval((b.text || b.textContent || b.innerHTML || "").replace(Cc, "/*$0*/"));
                    b.parentNode && b.parentNode.removeChild(b)
                })
            }
            return this
        }
    });
    h.buildFragment = function(a, b, c) {
        var d, e, f, j, g = a[0];
        b && b[0] && (j = b[0].ownerDocument || b[0]);
        j.createDocumentFragment || (j = u);
        a.length === 1 && typeof g == "string" && g.length < 512 && j === u && g.charAt(0) === "<" && !Bc.test(g) && (h.support.checkClone || !ec.test(g)) && (h.support.html5Clone || !dc.test(g)) && (e = true,
        f = h.fragments[g],
        f && f !== 1 && (d = f));
        d || (d = j.createDocumentFragment(),
        h.clean(a, j, d, c));
        e && (h.fragments[g] = f ? d : 1);
        return {
            fragment: d,
            cacheable: e
        }
    }
    ;
    h.fragments = {};
    h.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        h.fn[a] = function(c) {
            var d = []
              , c = h(c)
              , e = this.length === 1 && this[0].parentNode;
            if (e && e.nodeType === 11 && e.childNodes.length === 1 && c.length === 1) {
                c[b](this[0]);
                return this
            }
            for (var e = 0, f = c.length; e < f; e++) {
                var j = (e > 0 ? this.clone(true) : this).get();
                h(c[e])[b](j);
                d = d.concat(j)
            }
            return this.pushStack(d, a, c.selector)
        }
    });
    h.extend({
        clone: function(a, b, c) {
            var d, e, f;
            if (h.support.html5Clone || h.isXMLDoc(a) || !dc.test("<" + a.nodeName + ">"))
                d = a.cloneNode(true);
            else {
                d = u.createElement("div");
                Sb.appendChild(d);
                d.innerHTML = a.outerHTML;
                d = d.firstChild
            }
            var j = d;
            if ((!h.support.noCloneEvent || !h.support.noCloneChecked) && (a.nodeType === 1 || a.nodeType === 11) && !h.isXMLDoc(a)) {
                y(a, j);
                d = s(a);
                e = s(j);
                for (f = 0; d[f]; ++f)
                    e[f] && y(d[f], e[f])
            }
            if (b) {
                I(a, j);
                if (c) {
                    d = s(a);
                    e = s(j);
                    for (f = 0; d[f]; ++f)
                        I(d[f], e[f])
                }
            }
            return j
        },
        clean: function(a, b, c, d) {
            var e, f = [], b = b || u;
            typeof b.createElement == "undefined" && (b = b.ownerDocument || b[0] && b[0].ownerDocument || u);
            for (var g = 0, m; (m = a[g]) != null; g++) {
                typeof m == "number" && (m = m + "");
                if (m) {
                    if (typeof m == "string")
                        if (zc.test(m)) {
                            m = m.replace(bc, "<$1></$2>");
                            e = (cc.exec(m) || ["", ""])[1].toLowerCase();
                            var l = Ga[e] || Ga._default, o = l[0], s = b.createElement("div"), H = Sb.childNodes, k;
                            b === u ? Sb.appendChild(s) : x(b).appendChild(s);
                            for (s.innerHTML = l[1] + m + l[2]; o--; )
                                s = s.lastChild;
                            if (!h.support.tbody) {
                                o = yc.test(m);
                                l = e === "table" && !o ? s.firstChild && s.firstChild.childNodes : l[1] === "<table>" && !o ? s.childNodes : [];
                                for (e = l.length - 1; e >= 0; --e)
                                    h.nodeName(l[e], "tbody") && !l[e].childNodes.length && l[e].parentNode.removeChild(l[e])
                            }
                            !h.support.leadingWhitespace && Rb.test(m) && s.insertBefore(b.createTextNode(Rb.exec(m)[0]), s.firstChild);
                            m = s.childNodes;
                            s && (s.parentNode.removeChild(s),
                            H.length > 0 && (k = H[H.length - 1],
                            k && k.parentNode && k.parentNode.removeChild(k)))
                        } else
                            m = b.createTextNode(m);
                    var v;
                    if (!h.support.appendChecked)
                        if (m[0] && typeof (v = m.length) == "number")
                            for (e = 0; e < v; e++)
                                j(m[e]);
                        else
                            j(m);
                    m.nodeType ? f.push(m) : f = h.merge(f, m)
                }
            }
            if (c) {
                a = function(a) {
                    return !a.type || fc.test(a.type)
                }
                ;
                for (g = 0; f[g]; g++) {
                    b = f[g];
                    if (d && h.nodeName(b, "script") && (!b.type || fc.test(b.type)))
                        d.push(b.parentNode ? b.parentNode.removeChild(b) : b);
                    else {
                        if (b.nodeType === 1) {
                            m = h.grep(b.getElementsByTagName("script"), a);
                            f.splice.apply(f, [g + 1, 0].concat(m))
                        }
                        c.appendChild(b)
                    }
                }
            }
            return f
        },
        cleanData: function(a) {
            for (var b, c, d = h.cache, e = h.event.special, f = h.support.deleteExpando, j = 0, g; (g = a[j]) != null; j++)
                if (!g.nodeName || !h.noData[g.nodeName.toLowerCase()])
                    if (c = g[h.expando]) {
                        if ((b = d[c]) && b.events) {
                            for (var m in b.events)
                                e[m] ? h.event.remove(g, m) : h.removeEvent(g, m, b.handle);
                            b.handle && (b.handle.elem = null)
                        }
                        f ? delete g[h.expando] : g.removeAttribute && g.removeAttribute(h.expando);
                        delete d[c]
                    }
        }
    });
    var Tb = /alpha\([^)]*\)/i, Dc = /opacity=([^)]*)/, Ec = /([A-Z]|^ms)/g, Fc = /^[\-+]?(?:\d*\.)?\d+$/i, Mb = /^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i, Gc = /^([\-+])=([\-+.\de]+)/, Hc = /^margin/, Ic = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }, ab = ["Top", "Right", "Bottom", "Left"], hb, gc, hc;
    h.fn.css = function(b, c) {
        return h.access(this, function(b, c, d) {
            return d !== a ? h.style(b, c, d) : h.css(b, c)
        }, b, c, arguments.length > 1)
    }
    ;
    h.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = hb(a, "opacity");
                        return c === "" ? "1" : c
                    }
                    return a.style.opacity
                }
            }
        },
        cssNumber: {
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": h.support.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(b, c, d, e) {
            if (b && b.nodeType !== 3 && b.nodeType !== 8 && b.style) {
                var f, j = h.camelCase(c), g = b.style, m = h.cssHooks[j], c = h.cssProps[j] || j;
                if (d === a)
                    return m && "get"in m && (f = m.get(b, false, e)) !== a ? f : g[c];
                e = typeof d;
                e === "string" && (f = Gc.exec(d)) && (d = +(f[1] + 1) * +f[2] + parseFloat(h.css(b, c)),
                e = "number");
                if (!(d == null || e === "number" && isNaN(d))) {
                    e === "number" && !h.cssNumber[j] && (d = d + "px");
                    if (!m || !("set"in m) || (d = m.set(b, d)) !== a)
                        try {
                            g[c] = d
                        } catch (l) {}
                }
            }
        },
        css: function(b, c, d) {
            var e, f, c = h.camelCase(c);
            f = h.cssHooks[c];
            c = h.cssProps[c] || c;
            c === "cssFloat" && (c = "float");
            if (f && "get"in f && (e = f.get(b, true, d)) !== a)
                return e;
            if (hb)
                return hb(b, c)
        },
        swap: function(a, b, c) {
            var d = {}, e;
            for (e in b) {
                d[e] = a.style[e];
                a.style[e] = b[e]
            }
            c = c.call(a);
            for (e in b)
                a.style[e] = d[e];
            return c
        }
    });
    h.curCSS = h.css;
    u.defaultView && u.defaultView.getComputedStyle && (gc = function(a, b) {
        var c, d, e, f, j = a.style, b = b.replace(Ec, "-$1").toLowerCase();
        (d = a.ownerDocument.defaultView) && (e = d.getComputedStyle(a, null)) && (c = e.getPropertyValue(b),
        c === "" && !h.contains(a.ownerDocument.documentElement, a) && (c = h.style(a, b)));
        !h.support.pixelMargin && e && Hc.test(b) && Mb.test(c) && (f = j.width,
        j.width = c,
        c = e.width,
        j.width = f);
        return c
    }
    );
    u.documentElement.currentStyle && (hc = function(a, b) {
        var c, d, e, f = a.currentStyle && a.currentStyle[b], h = a.style;
        f == null && h && (e = h[b]) && (f = e);
        Mb.test(f) && (c = h.left,
        d = a.runtimeStyle && a.runtimeStyle.left,
        d && (a.runtimeStyle.left = a.currentStyle.left),
        h.left = b === "fontSize" ? "1em" : f,
        f = h.pixelLeft + "px",
        h.left = c,
        d && (a.runtimeStyle.left = d));
        return f === "" ? "auto" : f
    }
    );
    hb = gc || hc;
    h.each(["height", "width"], function(a, b) {
        h.cssHooks[b] = {
            get: function(a, c, d) {
                if (c)
                    return a.offsetWidth !== 0 ? l(a, b, d) : h.swap(a, Ic, function() {
                        return l(a, b, d)
                    })
            },
            set: function(a, b) {
                return Fc.test(b) ? b + "px" : b
            }
        }
    });
    h.support.opacity || (h.cssHooks.opacity = {
        get: function(a, b) {
            return Dc.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : b ? "1" : ""
        },
        set: function(a, b) {
            var c = a.style
              , d = a.currentStyle
              , e = h.isNumeric(b) ? "alpha(opacity=" + b * 100 + ")" : ""
              , f = d && d.filter || c.filter || "";
            c.zoom = 1;
            if (b >= 1 && h.trim(f.replace(Tb, "")) === "") {
                c.removeAttribute("filter");
                if (d && !d.filter)
                    return
            }
            c.filter = Tb.test(f) ? f.replace(Tb, e) : f + " " + e
        }
    });
    h(function() {
        h.support.reliableMarginRight || (h.cssHooks.marginRight = {
            get: function(a, b) {
                return h.swap(a, {
                    display: "inline-block"
                }, function() {
                    return b ? hb(a, "margin-right") : a.style.marginRight
                })
            }
        })
    });
    h.expr && h.expr.filters && (h.expr.filters.hidden = function(a) {
        var b = a.offsetHeight;
        return a.offsetWidth === 0 && b === 0 || !h.support.reliableHiddenOffsets && (a.style && a.style.display || h.css(a, "display")) === "none"
    }
    ,
    h.expr.filters.visible = function(a) {
        return !h.expr.filters.hidden(a)
    }
    );
    h.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        h.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = typeof c == "string" ? c.split(" ") : [c], e = {}, c = 0; c < 4; c++)
                    e[a + ab[c] + b] = d[c] || d[c - 2] || d[0];
                return e
            }
        }
    });
    var Jc = /%20/g, pc = /\[\]$/, ic = /\r?\n/g, Kc = /#.*$/, Lc = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, Mc = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, Nc = /^(?:GET|HEAD)$/, Oc = /^\/\//, jc = /\?/, Pc = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, Qc = /^(?:select|textarea)/i, Xb = /\s+/, Rc = /([?&])_=[^&]*/, kc = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/, lc = h.fn.load, Lb = {}, mc = {}, eb, fb, nc = ["*/"] + ["*"];
    try {
        eb = m.href
    } catch (Yc) {
        eb = u.createElement("a"),
        eb.href = "",
        eb = eb.href
    }
    fb = kc.exec(eb.toLowerCase()) || [];
    h.fn.extend({
        load: function(b, c, d) {
            if (typeof b != "string" && lc)
                return lc.apply(this, arguments);
            if (!this.length)
                return this;
            var e = b.indexOf(" ");
            if (e >= 0)
                var f = b.slice(e, b.length)
                  , b = b.slice(0, e);
            e = "GET";
            c && (h.isFunction(c) ? (d = c,
            c = a) : typeof c == "object" && (c = h.param(c, h.ajaxSettings.traditional),
            e = "POST"));
            var j = this;
            h.ajax({
                url: b,
                type: e,
                dataType: "html",
                data: c,
                complete: function(a, b, c) {
                    c = a.responseText;
                    a.isResolved() && (a.done(function(a) {
                        c = a
                    }),
                    j.html(f ? h("<div>").append(c.replace(Pc, "")).find(f) : c));
                    d && j.each(d, [c, b, a])
                }
            });
            return this
        },
        serialize: function() {
            return h.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                return this.elements ? h.makeArray(this.elements) : this
            }).filter(function() {
                return this.name && !this.disabled && (this.checked || Qc.test(this.nodeName) || Mc.test(this.type))
            }).map(function(a, b) {
                var c = h(this).val();
                return c == null ? null : h.isArray(c) ? h.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(ic, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(ic, "\r\n")
                }
            }).get()
        }
    });
    h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function(a, b) {
        h.fn[b] = function(a) {
            return this.on(b, a)
        }
    });
    h.each(["get", "post"], function(b, c) {
        h[c] = function(b, d, e, f) {
            h.isFunction(d) && (f = f || e,
            e = d,
            d = a);
            return h.ajax({
                type: c,
                url: b,
                data: d,
                success: e,
                dataType: f
            })
        }
    });
    h.extend({
        getScript: function(b, c) {
            return h.get(b, a, c, "script")
        },
        getJSON: function(a, b, c) {
            return h.get(a, b, c, "json")
        },
        ajaxSetup: function(a, b) {
            b ? n(a, h.ajaxSettings) : (b = a,
            a = h.ajaxSettings);
            n(a, b);
            return a
        },
        ajaxSettings: {
            url: eb,
            isLocal: /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(fb[1]),
            global: !0,
            type: "GET",
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            processData: !0,
            async: !0,
            accepts: {
                xml: "application/xml, text/xml",
                html: "text/html",
                text: "text/plain",
                json: "application/json, text/javascript",
                "*": nc
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText"
            },
            converters: {
                "* text": b.String,
                "text html": !0,
                "text json": h.parseJSON,
                "text xml": h.parseXML
            },
            flatOptions: {
                context: !0,
                url: !0
            }
        },
        ajaxPrefilter: r(Lb),
        ajaxTransport: r(mc),
        ajax: function(b, c) {
            function d(b, c, s, k) {
                if (ca !== 2) {
                    ca = 2;
                    ma && clearTimeout(ma);
                    t = a;
                    H = k || "";
                    r.readyState = b > 0 ? 4 : 0;
                    var v, p, ya, k = c;
                    if (s) {
                        var Fa = e, D = r, w = Fa.contents, y = Fa.dataTypes, u = Fa.responseFields, z, da, n, N;
                        for (da in u)
                            da in s && (D[u[da]] = s[da]);
                        for (; y[0] === "*"; ) {
                            y.shift();
                            z === a && (z = Fa.mimeType || D.getResponseHeader("content-type"))
                        }
                        if (z)
                            for (da in w)
                                if (w[da] && w[da].test(z)) {
                                    y.unshift(da);
                                    break
                                }
                        if (y[0]in s)
                            n = y[0];
                        else {
                            for (da in s) {
                                if (!y[0] || Fa.converters[da + " " + y[0]]) {
                                    n = da;
                                    break
                                }
                                N || (N = da)
                            }
                            n = n || N
                        }
                        if (n) {
                            n !== y[0] && y.unshift(n);
                            s = s[n]
                        } else
                            s = void 0
                    } else
                        s = a;
                    if (b >= 200 && b < 300 || b === 304) {
                        if (e.ifModified) {
                            if (z = r.getResponseHeader("Last-Modified"))
                                h.lastModified[o] = z;
                            if (z = r.getResponseHeader("Etag"))
                                h.etag[o] = z
                        }
                        if (b === 304) {
                            k = "notmodified";
                            v = true
                        } else
                            try {
                                z = e;
                                z.dataFilter && (s = z.dataFilter(s, z.dataType));
                                var F = z.dataTypes;
                                da = {};
                                var $a, B, x = F.length, Ra, q = F[0], I, fa, K, A, Qa;
                                for ($a = 1; $a < x; $a++) {
                                    if ($a === 1)
                                        for (B in z.converters)
                                            typeof B == "string" && (da[B.toLowerCase()] = z.converters[B]);
                                    I = q;
                                    q = F[$a];
                                    if (q === "*")
                                        q = I;
                                    else if (I !== "*" && I !== q) {
                                        fa = I + " " + q;
                                        K = da[fa] || da["* " + q];
                                        if (!K) {
                                            Qa = a;
                                            for (A in da) {
                                                Ra = A.split(" ");
                                                if (Ra[0] === I || Ra[0] === "*")
                                                    if (Qa = da[Ra[1] + " " + q]) {
                                                        A = da[A];
                                                        A === true ? K = Qa : Qa === true && (K = A);
                                                        break
                                                    }
                                            }
                                        }
                                        !K && !Qa && h.error("No conversion from " + fa.replace(" ", " to "));
                                        K !== true && (s = K ? K(s) : Qa(A(s)))
                                    }
                                }
                                p = s;
                                k = "success";
                                v = true
                            } catch (T) {
                                k = "parsererror";
                                ya = T
                            }
                    } else {
                        ya = k;
                        if (!k || b) {
                            k = "error";
                            b < 0 && (b = 0)
                        }
                    }
                    r.status = b;
                    r.statusText = "" + (c || k);
                    v ? g.resolveWith(f, [p, k, r]) : g.rejectWith(f, [r, k, ya]);
                    r.statusCode(l);
                    l = a;
                    Wa && j.trigger("ajax" + (v ? "Success" : "Error"), [r, e, v ? p : ya]);
                    m.fireWith(f, [r, k]);
                    Wa && (j.trigger("ajaxComplete", [r, e]),
                    --h.active || h.event.trigger("ajaxStop"))
                }
            }
            typeof b == "object" && (c = b,
            b = a);
            var c = c || {}, e = h.ajaxSetup({}, c), f = e.context || e, j = f !== e && (f.nodeType || f instanceof h) ? h(f) : h.event, g = h.Deferred(), m = h.Callbacks("once memory"), l = e.statusCode || {}, o, s = {}, k = {}, H, v, t, ma, p, ca = 0, Wa, ya, r = {
                readyState: 0,
                setRequestHeader: function(a, b) {
                    if (!ca) {
                        var c = a.toLowerCase()
                          , a = k[c] = k[c] || a;
                        s[a] = b
                    }
                    return this
                },
                getAllResponseHeaders: function() {
                    return ca === 2 ? H : null
                },
                getResponseHeader: function(b) {
                    var c;
                    if (ca === 2) {
                        if (!v)
                            for (v = {}; c = Lc.exec(H); )
                                v[c[1].toLowerCase()] = c[2];
                        c = v[b.toLowerCase()]
                    }
                    return c === a ? null : c
                },
                overrideMimeType: function(a) {
                    ca || (e.mimeType = a);
                    return this
                },
                abort: function(a) {
                    a = a || "abort";
                    t && t.abort(a);
                    d(0, a);
                    return this
                }
            };
            g.promise(r);
            r.success = r.done;
            r.error = r.fail;
            r.complete = m.add;
            r.statusCode = function(a) {
                if (a) {
                    var b;
                    if (ca < 2)
                        for (b in a)
                            l[b] = [l[b], a[b]];
                    else {
                        b = a[r.status];
                        r.then(b, b)
                    }
                }
                return this
            }
            ;
            e.url = ((b || e.url) + "").replace(Kc, "").replace(Oc, fb[1] + "//");
            e.dataTypes = h.trim(e.dataType || "*").toLowerCase().split(Xb);
            e.crossDomain == null && (p = kc.exec(e.url.toLowerCase()),
            e.crossDomain = !(!p || p[1] == fb[1] && p[2] == fb[2] && (p[3] || (p[1] === "http:" ? 80 : 443)) == (fb[3] || (fb[1] === "http:" ? 80 : 443))));
            e.data && e.processData && typeof e.data != "string" && (e.data = h.param(e.data, e.traditional));
            q(Lb, e, c, r);
            if (ca === 2)
                return false;
            Wa = e.global;
            e.type = e.type.toUpperCase();
            e.hasContent = !Nc.test(e.type);
            Wa && h.active++ === 0 && h.event.trigger("ajaxStart");
            if (!e.hasContent) {
                e.data && (e.url = e.url + ((jc.test(e.url) ? "&" : "?") + e.data),
                delete e.data);
                o = e.url;
                if (e.cache === false) {
                    p = h.now();
                    var Fa = e.url.replace(Rc, "$1_=" + p);
                    e.url = Fa + (Fa === e.url ? (jc.test(e.url) ? "&" : "?") + "_=" + p : "")
                }
            }
            (e.data && e.hasContent && e.contentType !== false || c.contentType) && r.setRequestHeader("Content-Type", e.contentType);
            e.ifModified && (o = o || e.url,
            h.lastModified[o] && r.setRequestHeader("If-Modified-Since", h.lastModified[o]),
            h.etag[o] && r.setRequestHeader("If-None-Match", h.etag[o]));
            r.setRequestHeader("Accept", e.dataTypes[0] && e.accepts[e.dataTypes[0]] ? e.accepts[e.dataTypes[0]] + (e.dataTypes[0] !== "*" ? ", " + nc + "; q=0.01" : "") : e.accepts["*"]);
            for (ya in e.headers)
                r.setRequestHeader(ya, e.headers[ya]);
            if (e.beforeSend && (e.beforeSend.call(f, r, e) === false || ca === 2)) {
                r.abort();
                return false
            }
            for (ya in {
                success: 1,
                error: 1,
                complete: 1
            })
                r[ya](e[ya]);
            if (t = q(mc, e, c, r)) {
                r.readyState = 1;
                Wa && j.trigger("ajaxSend", [r, e]);
                e.async && e.timeout > 0 && (ma = setTimeout(function() {
                    r.abort("timeout")
                }, e.timeout));
                try {
                    ca = 1;
                    t.send(s, d)
                } catch (D) {
                    if (ca < 2)
                        d(-1, D);
                    else
                        throw D;
                }
            } else
                d(-1, "No Transport");
            return r
        },
        param: function(b, c) {
            var d = []
              , e = function(a, b) {
                b = h.isFunction(b) ? b() : b;
                d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
            };
            c === a && (c = h.ajaxSettings.traditional);
            if (h.isArray(b) || b.jquery && !h.isPlainObject(b))
                h.each(b, function() {
                    e(this.name, this.value)
                });
            else
                for (var f in b)
                    p(f, b[f], c, e);
            return d.join("&").replace(Jc, "+")
        }
    });
    h.extend({
        active: 0,
        lastModified: {},
        etag: {}
    });
    var Sc = h.now()
      , Ib = /(\=)\?(&|$)|\?\?/i;
    h.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            return h.expando + "_" + Sc++
        }
    });
    h.ajaxPrefilter("json jsonp", function(a, c, d) {
        c = typeof a.data == "string" && /^application\/x\-www\-form\-urlencoded/.test(a.contentType);
        if (a.dataTypes[0] === "jsonp" || a.jsonp !== false && (Ib.test(a.url) || c && Ib.test(a.data))) {
            var e, f = a.jsonpCallback = h.isFunction(a.jsonpCallback) ? a.jsonpCallback() : a.jsonpCallback, j = b[f], g = a.url, m = a.data, l = "$1" + f + "$2";
            a.jsonp !== false && (g = g.replace(Ib, l),
            a.url === g && (c && (m = m.replace(Ib, l)),
            a.data === m && (g = g + ((/\?/.test(g) ? "&" : "?") + a.jsonp + "=" + f))));
            a.url = g;
            a.data = m;
            b[f] = function(a) {
                e = [a]
            }
            ;
            d.always(function() {
                b[f] = j;
                e && h.isFunction(j) && b[f](e[0])
            });
            a.converters["script json"] = function() {
                e || h.error(f + " was not called");
                return e[0]
            }
            ;
            a.dataTypes[0] = "json";
            return "script"
        }
    });
    h.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /javascript|ecmascript/
        },
        converters: {
            "text script": function(a) {
                h.globalEval(a);
                return a
            }
        }
    });
    h.ajaxPrefilter("script", function(b) {
        b.cache === a && (b.cache = false);
        b.crossDomain && (b.type = "GET",
        b.global = false)
    });
    h.ajaxTransport("script", function(b) {
        if (b.crossDomain) {
            var c, d = u.head || u.getElementsByTagName("head")[0] || u.documentElement;
            return {
                send: function(e, f) {
                    c = u.createElement("script");
                    c.async = "async";
                    b.scriptCharset && (c.charset = b.scriptCharset);
                    c.src = b.url;
                    c.onload = c.onreadystatechange = function(b, e) {
                        if (e || !c.readyState || /loaded|complete/.test(c.readyState)) {
                            c.onload = c.onreadystatechange = null;
                            d && c.parentNode && d.removeChild(c);
                            c = a;
                            e || f(200, "success")
                        }
                    }
                    ;
                    d.insertBefore(c, d.firstChild)
                },
                abort: function() {
                    c && c.onload(0, 1)
                }
            }
        }
    });
    var Ub = b.ActiveXObject ? function() {
        for (var a in vb)
            vb[a](0, 1)
    }
    : !1, Tc = 0, vb;
    h.ajaxSettings.xhr = b.ActiveXObject ? function() {
        var a;
        if (!(a = !this.isLocal && k()))
            a: {
                try {
                    a = new b.ActiveXObject("Microsoft.XMLHTTP");
                    break a
                } catch (c) {}
                a = void 0
            }
        return a
    }
    : k;
    var Vb = h.ajaxSettings.xhr();
    h.extend(h.support, {
        ajax: !!Vb,
        cors: !!Vb && "withCredentials"in Vb
    });
    h.support.ajax && h.ajaxTransport(function(c) {
        if (!c.crossDomain || h.support.cors) {
            var d;
            return {
                send: function(e, f) {
                    var j = c.xhr(), g, m;
                    c.username ? j.open(c.type, c.url, c.async, c.username, c.password) : j.open(c.type, c.url, c.async);
                    if (c.xhrFields)
                        for (m in c.xhrFields)
                            j[m] = c.xhrFields[m];
                    c.mimeType && j.overrideMimeType && j.overrideMimeType(c.mimeType);
                    !c.crossDomain && !e["X-Requested-With"] && (e["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (m in e)
                            j.setRequestHeader(m, e[m])
                    } catch (l) {}
                    j.send(c.hasContent && c.data || null);
                    d = function(b, e) {
                        var m, l, o, s, k;
                        try {
                            if (d && (e || j.readyState === 4)) {
                                d = a;
                                g && (j.onreadystatechange = h.noop,
                                Ub && delete vb[g]);
                                if (e)
                                    j.readyState !== 4 && j.abort();
                                else {
                                    m = j.status;
                                    o = j.getAllResponseHeaders();
                                    s = {};
                                    (k = j.responseXML) && k.documentElement && (s.xml = k);
                                    try {
                                        s.text = j.responseText
                                    } catch (H) {}
                                    try {
                                        l = j.statusText
                                    } catch (v) {
                                        l = ""
                                    }
                                    !m && c.isLocal && !c.crossDomain ? m = s.text ? 200 : 404 : m === 1223 && (m = 204)
                                }
                            }
                        } catch (t) {
                            e || f(-1, t)
                        }
                        s && f(m, l, s, o)
                    }
                    ;
                    !c.async || j.readyState === 4 ? d() : (g = ++Tc,
                    Ub && (vb || (vb = {},
                    h(b).unload(Ub)),
                    vb[g] = d),
                    j.onreadystatechange = d)
                },
                abort: function() {
                    d && d(0, 1)
                }
            }
        }
    });
    var Kb = {}, La, gb, Uc = /^(?:toggle|show|hide)$/, Vc = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i, Jb, Ab = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"], ["opacity"]], Bb;
    h.fn.extend({
        show: function(a, b, d) {
            var f;
            if (a || a === 0)
                return this.animate(e("show", 3), a, b, d);
            b = 0;
            for (d = this.length; b < d; b++) {
                a = this[b];
                a.style && (f = a.style.display,
                !h._data(a, "olddisplay") && f === "none" && (f = a.style.display = ""),
                (f === "" && h.css(a, "display") === "none" || !h.contains(a.ownerDocument.documentElement, a)) && h._data(a, "olddisplay", c(a.nodeName)))
            }
            for (b = 0; b < d; b++) {
                a = this[b];
                if (a.style) {
                    f = a.style.display;
                    if (f === "" || f === "none")
                        a.style.display = h._data(a, "olddisplay") || ""
                }
            }
            return this
        },
        hide: function(a, b, c) {
            if (a || a === 0)
                return this.animate(e("hide", 3), a, b, c);
            for (var d, b = 0, c = this.length; b < c; b++) {
                a = this[b];
                a.style && (d = h.css(a, "display"),
                d !== "none" && !h._data(a, "olddisplay") && h._data(a, "olddisplay", d))
            }
            for (b = 0; b < c; b++)
                this[b].style && (this[b].style.display = "none");
            return this
        },
        _toggle: h.fn.toggle,
        toggle: function(a, b, c) {
            var d = typeof a == "boolean";
            h.isFunction(a) && h.isFunction(b) ? this._toggle.apply(this, arguments) : a == null || d ? this.each(function() {
                var b = d ? a : h(this).is(":hidden");
                h(this)[b ? "show" : "hide"]()
            }) : this.animate(e("toggle", 3), a, b, c);
            return this
        },
        fadeTo: function(a, b, c, d) {
            return this.filter(":hidden").css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, d, e) {
            function f() {
                j.queue === false && h._mark(this);
                var b = h.extend({}, j), d = this.nodeType === 1, e = d && h(this).is(":hidden"), g, m, l, o, s, k, H, v, t;
                b.animatedProperties = {};
                for (l in a) {
                    g = h.camelCase(l);
                    l !== g && (a[g] = a[l],
                    delete a[l]);
                    if ((m = h.cssHooks[g]) && "expand"in m) {
                        o = m.expand(a[g]);
                        delete a[g];
                        for (l in o)
                            l in a || (a[l] = o[l])
                    }
                }
                for (g in a) {
                    m = a[g];
                    h.isArray(m) ? (b.animatedProperties[g] = m[1],
                    m = a[g] = m[0]) : b.animatedProperties[g] = b.specialEasing && b.specialEasing[g] || b.easing || "swing";
                    if (m === "hide" && e || m === "show" && !e)
                        return b.complete.call(this);
                    d && (g === "height" || g === "width") && (b.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY],
                    h.css(this, "display") === "inline" && h.css(this, "float") === "none" && (!h.support.inlineBlockNeedsLayout || c(this.nodeName) === "inline" ? this.style.display = "inline-block" : this.style.zoom = 1))
                }
                b.overflow != null && (this.style.overflow = "hidden");
                for (l in a) {
                    d = new h.fx(this,b,l);
                    m = a[l];
                    Uc.test(m) ? (t = h._data(this, "toggle" + l) || (m === "toggle" ? e ? "show" : "hide" : 0),
                    t ? (h._data(this, "toggle" + l, t === "show" ? "hide" : "show"),
                    d[t]()) : d[m]()) : (s = Vc.exec(m),
                    k = d.cur(),
                    s ? (H = parseFloat(s[2]),
                    v = s[3] || (h.cssNumber[l] ? "" : "px"),
                    v !== "px" && (h.style(this, l, (H || 1) + v),
                    k = (H || 1) / d.cur() * k,
                    h.style(this, l, k + v)),
                    s[1] && (H = (s[1] === "-=" ? -1 : 1) * H + k),
                    d.custom(k, H, v)) : d.custom(k, m, ""))
                }
                return true
            }
            var j = h.speed(b, d, e);
            if (h.isEmptyObject(a))
                return this.each(j.complete, [false]);
            a = h.extend({}, a);
            return j.queue === false ? this.each(f) : this.queue(j.queue, f)
        },
        stop: function(b, c, d) {
            typeof b != "string" && (d = c,
            c = b,
            b = a);
            c && b !== false && this.queue(b || "fx", []);
            return this.each(function() {
                var a, c = false, e = h.timers, f = h._data(this);
                d || h._unmark(true, this);
                if (b == null)
                    for (a in f) {
                        if (f[a] && f[a].stop && a.indexOf(".run") === a.length - 4) {
                            var j = f[a];
                            h.removeData(this, a, true);
                            j.stop(d)
                        }
                    }
                else if (f[a = b + ".run"] && f[a].stop) {
                    f = f[a];
                    h.removeData(this, a, true);
                    f.stop(d)
                }
                for (a = e.length; a--; )
                    e[a].elem === this && (b == null || e[a].queue === b) && (d ? e[a](true) : e[a].saveState(),
                    c = true,
                    e.splice(a, 1));
                (!d || !c) && h.dequeue(this, b)
            })
        }
    });
    h.each({
        slideDown: e("show", 1),
        slideUp: e("hide", 1),
        slideToggle: e("toggle", 1),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        h.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    });
    h.extend({
        speed: function(a, b, c) {
            var d = a && typeof a == "object" ? h.extend({}, a) : {
                complete: c || !c && b || h.isFunction(a) && a,
                duration: a,
                easing: c && b || b && !h.isFunction(b) && b
            };
            d.duration = h.fx.off ? 0 : typeof d.duration == "number" ? d.duration : d.duration in h.fx.speeds ? h.fx.speeds[d.duration] : h.fx.speeds._default;
            if (d.queue == null || d.queue === true)
                d.queue = "fx";
            d.old = d.complete;
            d.complete = function(a) {
                h.isFunction(d.old) && d.old.call(this);
                d.queue ? h.dequeue(this, d.queue) : a !== false && h._unmark(this)
            }
            ;
            return d
        },
        easing: {
            linear: function(a) {
                return a
            },
            swing: function(a) {
                return -Math.cos(a * Math.PI) / 2 + 0.5
            }
        },
        timers: [],
        fx: function(a, b, c) {
            this.options = b;
            this.elem = a;
            this.prop = c;
            b.orig = b.orig || {}
        }
    });
    h.fx.prototype = {
        update: function() {
            this.options.step && this.options.step.call(this.elem, this.now, this);
            (h.fx.step[this.prop] || h.fx.step._default)(this)
        },
        cur: function() {
            if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null))
                return this.elem[this.prop];
            var a, b = h.css(this.elem, this.prop);
            return isNaN(a = parseFloat(b)) ? !b || b === "auto" ? 0 : b : a
        },
        custom: function(b, c, d) {
            function e(a) {
                return f.step(a)
            }
            var f = this
              , j = h.fx;
            this.startTime = Bb || g();
            this.end = c;
            this.now = this.start = b;
            this.pos = this.state = 0;
            this.unit = d || this.unit || (h.cssNumber[this.prop] ? "" : "px");
            e.queue = this.options.queue;
            e.elem = this.elem;
            e.saveState = function() {
                h._data(f.elem, "fxshow" + f.prop) === a && (f.options.hide ? h._data(f.elem, "fxshow" + f.prop, f.start) : f.options.show && h._data(f.elem, "fxshow" + f.prop, f.end))
            }
            ;
            e() && h.timers.push(e) && !Jb && (Jb = setInterval(j.tick, j.interval))
        },
        show: function() {
            var b = h._data(this.elem, "fxshow" + this.prop);
            this.options.orig[this.prop] = b || h.style(this.elem, this.prop);
            this.options.show = true;
            b !== a ? this.custom(this.cur(), b) : this.custom(this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur());
            h(this.elem).show()
        },
        hide: function() {
            this.options.orig[this.prop] = h._data(this.elem, "fxshow" + this.prop) || h.style(this.elem, this.prop);
            this.options.hide = true;
            this.custom(this.cur(), 0)
        },
        step: function(a) {
            var b, c, d = Bb || g(), e = true, f = this.elem, j = this.options;
            if (a || d >= j.duration + this.startTime) {
                this.now = this.end;
                this.pos = this.state = 1;
                this.update();
                j.animatedProperties[this.prop] = true;
                for (b in j.animatedProperties)
                    j.animatedProperties[b] !== true && (e = false);
                if (e) {
                    j.overflow != null && !h.support.shrinkWrapBlocks && h.each(["", "X", "Y"], function(a, b) {
                        f.style["overflow" + b] = j.overflow[a]
                    });
                    j.hide && h(f).hide();
                    if (j.hide || j.show)
                        for (b in j.animatedProperties) {
                            h.style(f, b, j.orig[b]);
                            h.removeData(f, "fxshow" + b, true);
                            h.removeData(f, "toggle" + b, true)
                        }
                    (a = j.complete) && (j.complete = false,
                    a.call(f))
                }
                return false
            }
            j.duration == Infinity ? this.now = d : (c = d - this.startTime,
            this.state = c / j.duration,
            this.pos = h.easing[j.animatedProperties[this.prop]](this.state, c, 0, 1, j.duration),
            this.now = this.start + (this.end - this.start) * this.pos);
            this.update();
            return true
        }
    };
    h.extend(h.fx, {
        tick: function() {
            for (var a, b = h.timers, c = 0; c < b.length; c++) {
                a = b[c];
                !a() && b[c] === a && b.splice(c--, 1)
            }
            b.length || h.fx.stop()
        },
        interval: 13,
        stop: function() {
            clearInterval(Jb);
            Jb = null
        },
        speeds: {
            slow: 600,
            fast: 200,
            _default: 400
        },
        step: {
            opacity: function(a) {
                h.style(a.elem, "opacity", a.now)
            },
            _default: function(a) {
                a.elem.style && a.elem.style[a.prop] != null ? a.elem.style[a.prop] = a.now + a.unit : a.elem[a.prop] = a.now
            }
        }
    });
    h.each(Ab.concat.apply([], Ab), function(a, b) {
        b.indexOf("margin") && (h.fx.step[b] = function(a) {
            h.style(a.elem, b, Math.max(0, a.now) + a.unit)
        }
        )
    });
    h.expr && h.expr.filters && (h.expr.filters.animated = function(a) {
        return h.grep(h.timers, function(b) {
            return a === b.elem
        }).length
    }
    );
    var Wb, Wc = /^t(?:able|d|h)$/i, oc = /^(?:body|html)$/i;
    "getBoundingClientRect"in u.documentElement ? Wb = function(a, b, c, e) {
        try {
            e = a.getBoundingClientRect()
        } catch (f) {}
        if (!e || !h.contains(c, a))
            return e ? {
                top: e.top,
                left: e.left
            } : {
                top: 0,
                left: 0
            };
        a = b.body;
        b = d(b);
        return {
            top: e.top + (b.pageYOffset || h.support.boxModel && c.scrollTop || a.scrollTop) - (c.clientTop || a.clientTop || 0),
            left: e.left + (b.pageXOffset || h.support.boxModel && c.scrollLeft || a.scrollLeft) - (c.clientLeft || a.clientLeft || 0)
        }
    }
    : Wb = function(a, b, c) {
        var d, e = a.offsetParent, f = b.body;
        d = (b = b.defaultView) ? b.getComputedStyle(a, null) : a.currentStyle;
        for (var j = a.offsetTop, g = a.offsetLeft; (a = a.parentNode) && a !== f && a !== c; ) {
            if (h.support.fixedPosition && d.position === "fixed")
                break;
            d = b ? b.getComputedStyle(a, null) : a.currentStyle;
            j = j - a.scrollTop;
            g = g - a.scrollLeft;
            a === e && (j = j + a.offsetTop,
            g = g + a.offsetLeft,
            h.support.doesNotAddBorder && (!h.support.doesAddBorderForTableAndCells || !Wc.test(a.nodeName)) && (j = j + (parseFloat(d.borderTopWidth) || 0),
            g = g + (parseFloat(d.borderLeftWidth) || 0)),
            e = a.offsetParent);
            h.support.subtractsBorderForOverflowNotVisible && d.overflow !== "visible" && (j = j + (parseFloat(d.borderTopWidth) || 0),
            g = g + (parseFloat(d.borderLeftWidth) || 0))
        }
        if (d.position === "relative" || d.position === "static") {
            j = j + f.offsetTop;
            g = g + f.offsetLeft
        }
        h.support.fixedPosition && d.position === "fixed" && (j = j + Math.max(c.scrollTop, f.scrollTop),
        g = g + Math.max(c.scrollLeft, f.scrollLeft));
        return {
            top: j,
            left: g
        }
    }
    ;
    h.fn.offset = function(b) {
        if (arguments.length)
            return b === a ? this : this.each(function(a) {
                h.offset.setOffset(this, b, a)
            });
        var c = this[0]
          , d = c && c.ownerDocument;
        return !d ? null : c === d.body ? h.offset.bodyOffset(c) : Wb(c, d, d.documentElement)
    }
    ;
    h.offset = {
        bodyOffset: function(a) {
            var b = a.offsetTop
              , c = a.offsetLeft;
            h.support.doesNotIncludeMarginInBodyOffset && (b = b + (parseFloat(h.css(a, "marginTop")) || 0),
            c = c + (parseFloat(h.css(a, "marginLeft")) || 0));
            return {
                top: b,
                left: c
            }
        },
        setOffset: function(a, b, c) {
            var d = h.css(a, "position");
            d === "static" && (a.style.position = "relative");
            var e = h(a), f = e.offset(), j = h.css(a, "top"), g = h.css(a, "left"), m = {}, l = {}, o, s;
            (d === "absolute" || d === "fixed") && h.inArray("auto", [j, g]) > -1 ? (l = e.position(),
            o = l.top,
            s = l.left) : (o = parseFloat(j) || 0,
            s = parseFloat(g) || 0);
            h.isFunction(b) && (b = b.call(a, c, f));
            b.top != null && (m.top = b.top - f.top + o);
            b.left != null && (m.left = b.left - f.left + s);
            "using"in b ? b.using.call(a, m) : e.css(m)
        }
    };
    h.fn.extend({
        position: function() {
            if (!this[0])
                return null;
            var a = this[0]
              , b = this.offsetParent()
              , c = this.offset()
              , d = oc.test(b[0].nodeName) ? {
                top: 0,
                left: 0
            } : b.offset();
            c.top = c.top - (parseFloat(h.css(a, "marginTop")) || 0);
            c.left = c.left - (parseFloat(h.css(a, "marginLeft")) || 0);
            d.top = d.top + (parseFloat(h.css(b[0], "borderTopWidth")) || 0);
            d.left = d.left + (parseFloat(h.css(b[0], "borderLeftWidth")) || 0);
            return {
                top: c.top - d.top,
                left: c.left - d.left
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent || u.body; a && !oc.test(a.nodeName) && h.css(a, "position") === "static"; )
                    a = a.offsetParent;
                return a
            })
        }
    });
    h.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(b, c) {
        var e = /Y/.test(c);
        h.fn[b] = function(f) {
            return h.access(this, function(b, f, j) {
                var g = d(b);
                if (j === a)
                    return g ? c in g ? g[c] : h.support.boxModel && g.document.documentElement[f] || g.document.body[f] : b[f];
                g ? g.scrollTo(e ? h(g).scrollLeft() : j, e ? j : h(g).scrollTop()) : b[f] = j
            }, b, f, arguments.length, null)
        }
    });
    h.each({
        Height: "height",
        Width: "width"
    }, function(b, c) {
        var d = "client" + b
          , e = "scroll" + b
          , f = "offset" + b;
        h.fn["inner" + b] = function() {
            var a = this[0];
            return a ? a.style ? parseFloat(h.css(a, c, "padding")) : this[c]() : null
        }
        ;
        h.fn["outer" + b] = function(a) {
            var b = this[0];
            return b ? b.style ? parseFloat(h.css(b, c, a ? "margin" : "border")) : this[c]() : null
        }
        ;
        h.fn[c] = function(b) {
            return h.access(this, function(b, c, j) {
                if (h.isWindow(b)) {
                    c = b.document;
                    b = c.documentElement[d];
                    return h.support.boxModel && b || c.body && c.body[d] || b
                }
                if (b.nodeType === 9) {
                    c = b.documentElement;
                    return c[d] >= c[e] ? c[d] : Math.max(b.body[e], c[e], b.body[f], c[f])
                }
                if (j === a) {
                    b = h.css(b, c);
                    c = parseFloat(b);
                    return h.isNumeric(c) ? c : b
                }
                h(b).css(c, j)
            }, c, b, arguments.length, null)
        }
    });
    b.jQuery = b.$ = h;
    "function" == typeof define && define.amd && define.amd.jQuery && define("jquery", [], function() {
        return h
    })
}
)(window);
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
          , e = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
          , f = function(a, b, d) {
            c.call(this, a, b, d);
            this._cycle = 0;
            this._yoyo = !0 === this.vars.yoyo;
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._dirty = !0;
            this.render = f.prototype.render
        }
          , g = c._internals
          , k = g.isSelector
          , p = g.isArray
          , w = f.prototype = c.to({}, 0.1, {})
          , n = [];
        f.version = "1.18.5";
        w.constructor = f;
        w.kill()._gc = !1;
        f.killTweensOf = f.killDelayedCallsTo = c.killTweensOf;
        f.getTweensOf = c.getTweensOf;
        f.lagSmoothing = c.lagSmoothing;
        f.ticker = c.ticker;
        f.render = c.render;
        w.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            c.prototype.invalidate.call(this)
        }
        ;
        w.updateTo = function(a, b) {
            var d, e = this.ratio, f = this.vars.immediateRender || a.immediateRender;
            b && this._startTime < this._timeline._time && (this._startTime = this._timeline._time,
            this._uncache(!1),
            this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
            for (d in a)
                this.vars[d] = a[d];
            if (this._initted || f)
                if (b)
                    this._initted = !1,
                    f && this.render(0, !0, !0);
                else if (this._gc && this._enabled(!0, !1),
                this._notifyPluginsOfEnabled && this._firstPT && c._onPluginEvent("_onDisable", this),
                0.998 < this._time / this._duration)
                    d = this._totalTime,
                    this.render(0, !0, !1),
                    this._initted = !1,
                    this.render(d, !0, !1);
                else if (this._initted = !1,
                this._init(),
                0 < this._time || f) {
                    e = 1 / (1 - e);
                    for (f = this._firstPT; f; )
                        d = f.s + f.c,
                        f.c *= e,
                        f.s = d - f.c,
                        f = f._next
                }
            return this
        }
        ;
        w.render = function(a, b, c) {
            this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
            var d, e, f, j, l, o, s, k = this._dirty ? this.totalDuration() : this._totalDuration, p = this._time, r = this._totalTime, w = this._cycle, z = this._duration, y = this._rawPrevTime;
            if (a >= k - 1E-7 ? (this._totalTime = k,
            this._cycle = this._repeat,
            this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = z,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1),
            this._reversed || (d = !0,
            e = "onComplete",
            c = c || this._timeline.autoRemoveChildren),
            0 === z && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
            (0 > y || 0 >= a && -1E-7 <= a || 1E-10 === y && "isPause" !== this.data) && y !== a && (c = !0,
            1E-10 < y && (e = "onReverseComplete")),
            this._rawPrevTime = s = !b || a || y === a ? a : 1E-10)) : 1E-7 > a ? (this._totalTime = this._time = this._cycle = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
            (0 !== r || 0 === z && 0 < y) && (e = "onReverseComplete",
            d = this._reversed),
            0 > a && (this._active = !1,
            0 === z && (this._initted || !this.vars.lazy || c) && (0 <= y && (c = !0),
            this._rawPrevTime = s = !b || a || y === a ? a : 1E-10)),
            this._initted || (c = !0)) : (this._totalTime = this._time = a,
            0 !== this._repeat && (f = z + this._repeatDelay,
            this._cycle = this._totalTime / f >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / f && a >= r && this._cycle--,
            this._time = this._totalTime - this._cycle * f,
            this._yoyo && 0 !== (1 & this._cycle) && (this._time = z - this._time),
            this._time > z ? this._time = z : 0 > this._time && (this._time = 0)),
            this._easeType ? (j = this._time / z,
            l = this._easeType,
            o = this._easePower,
            (1 === l || 3 === l && 0.5 <= j) && (j = 1 - j),
            3 === l && (j *= 2),
            1 === o ? j *= j : 2 === o ? j *= j * j : 3 === o ? j *= j * j * j : 4 === o && (j *= j * j * j * j),
            1 === l ? this.ratio = 1 - j : 2 === l ? this.ratio = j : 0.5 > this._time / z ? this.ratio = j / 2 : this.ratio = 1 - j / 2) : this.ratio = this._ease.getRatio(this._time / z)),
            p === this._time && !c && w === this._cycle)
                return void (r !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
            if (!this._initted) {
                if (this._init(),
                !this._initted || this._gc)
                    return;
                if (!c && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))
                    return this._time = p,
                    this._totalTime = r,
                    this._rawPrevTime = y,
                    this._cycle = w,
                    g.lazyTweens.push(this),
                    void (this._lazy = [a, b]);
                this._time && !d ? this.ratio = this._ease.getRatio(this._time / z) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
            }
            !1 !== this._lazy && (this._lazy = !1);
            this._active || !this._paused && this._time !== p && 0 <= a && (this._active = !0);
            0 === r && (2 === this._initted && 0 < a && this._init(),
            this._startAt && (0 <= a ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
            this.vars.onStart && (0 !== this._totalTime || 0 === z) && (b || this._callback("onStart")));
            for (f = this._firstPT; f; )
                f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                f = f._next;
            this._onUpdate && (0 > a && this._startAt && this._startTime && this._startAt.render(a, b, c),
            b || (this._totalTime !== r || e) && this._callback("onUpdate"));
            this._cycle !== w && (b || this._gc || this.vars.onRepeat && this._callback("onRepeat"));
            e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(a, b, c),
            d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !b && this.vars[e] && this._callback(e),
            0 === z && 1E-10 === this._rawPrevTime && 1E-10 !== s && (this._rawPrevTime = 0))
        }
        ;
        f.to = function(a, b, c) {
            return new f(a,b,c)
        }
        ;
        f.from = function(a, b, c) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            new f(a,b,c)
        }
        ;
        f.fromTo = function(a, b, c, d) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            new f(a,b,d)
        }
        ;
        f.staggerTo = f.allTo = function(a, b, h, g, l, r, w) {
            var g = g || 0, q, I, A, C, E = 0, va = [], ta = function() {
                h.onComplete && h.onComplete.apply(h.onCompleteScope || this, arguments);
                l.apply(w || h.callbackScope || this, r || n)
            }, ia = h.cycle, ja = h.startAt && h.startAt.cycle;
            p(a) || ("string" == typeof a && (a = c.selector(a) || a),
            k(a) && (a = d(a)));
            a = a || [];
            0 > g && (a = d(a),
            a.reverse(),
            g *= -1);
            q = a.length - 1;
            for (A = 0; q >= A; A++) {
                I = {};
                for (C in h)
                    I[C] = h[C];
                if (ia && (e(I, a, A),
                null != I.duration && (b = I.duration,
                delete I.duration)),
                ja) {
                    ja = I.startAt = {};
                    for (C in h.startAt)
                        ja[C] = h.startAt[C];
                    e(I.startAt, a, A)
                }
                I.delay = E + (I.delay || 0);
                A === q && l && (I.onComplete = ta);
                va[A] = new f(a[A],b,I);
                E += g
            }
            return va
        }
        ;
        f.staggerFrom = f.allFrom = function(a, b, c, d, e, j, g) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            f.staggerTo(a, b, c, d, e, j, g)
        }
        ;
        f.staggerFromTo = f.allFromTo = function(a, b, c, d, e, j, g, l) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            f.staggerTo(a, b, d, e, j, g, l)
        }
        ;
        f.delayedCall = function(a, b, c, d, e) {
            return new f(b,0,{
                delay: a,
                onComplete: b,
                onCompleteParams: c,
                callbackScope: d,
                onReverseComplete: b,
                onReverseCompleteParams: c,
                immediateRender: !1,
                useFrames: e,
                overwrite: 0
            })
        }
        ;
        f.set = function(a, b) {
            return new f(a,0,b)
        }
        ;
        f.isTweening = function(a) {
            return 0 < c.getTweensOf(a, !0).length
        }
        ;
        var q = function(a, b) {
            for (var d = [], e = 0, f = a._first; f; )
                f instanceof c ? d[e++] = f : (b && (d[e++] = f),
                d = d.concat(q(f, b)),
                e = d.length),
                f = f._next;
            return d
        }
          , E = f.getAllTweens = function(b) {
            return q(a._rootTimeline, b).concat(q(a._rootFramesTimeline, b))
        }
        ;
        f.killAll = function(a, c, d, e) {
            null == c && (c = !0);
            null == d && (d = !0);
            var f, j, g = E(0 != e), o = g.length, s = c && d && e;
            for (j = 0; o > j; j++)
                e = g[j],
                (s || e instanceof b || (f = e.target === e.vars.onComplete) && d || c && !f) && (a ? e.totalTime(e._reversed ? 0 : e.totalDuration()) : e._enabled(!1, !1))
        }
        ;
        f.killChildTweensOf = function(a, b) {
            if (null != a) {
                var e, l, s, r = g.tweenLookup;
                if ("string" == typeof a && (a = c.selector(a) || a),
                k(a) && (a = d(a)),
                p(a))
                    for (l = a.length; -1 < --l; )
                        f.killChildTweensOf(a[l], b);
                else {
                    e = [];
                    for (s in r)
                        for (l = r[s].target.parentNode; l; )
                            l === a && (e = e.concat(r[s].tweens)),
                            l = l.parentNode;
                    s = e.length;
                    for (l = 0; s > l; l++)
                        b && e[l].totalTime(e[l].totalDuration()),
                        e[l]._enabled(!1, !1)
                }
            }
        }
        ;
        var C = function(a, c, d, e) {
            for (var c = !1 !== c, d = !1 !== d, e = !1 !== e, f, j = E(e), g = c && d && e, o = j.length; -1 < --o; )
                e = j[o],
                (g || e instanceof b || (f = e.target === e.vars.onComplete) && d || c && !f) && e.paused(a)
        };
        return f.pauseAll = function(a, b, c) {
            C(!0, a, b, c)
        }
        ,
        f.resumeAll = function(a, b, c) {
            C(!1, a, b, c)
        }
        ,
        f.globalTimeScale = function(b) {
            var d = a._rootTimeline
              , e = c.ticker.time;
            return arguments.length ? (b = b || 1E-10,
            d._startTime = e - (e - d._startTime) * d._timeScale / b,
            d = a._rootFramesTimeline,
            e = c.ticker.frame,
            d._startTime = e - (e - d._startTime) * d._timeScale / b,
            d._timeScale = a._rootTimeline._timeScale = b,
            b) : d._timeScale
        }
        ,
        w.progress = function(a, b) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
        }
        ,
        w.totalProgress = function(a, b) {
            return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
        }
        ,
        w.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            a > this._duration && (a = this._duration),
            this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(a, b)) : this._time
        }
        ,
        w.duration = function(b) {
            return arguments.length ? a.prototype.duration.call(this, b) : this._duration
        }
        ,
        w.totalDuration = function(a) {
            return arguments.length ? -1 === this._repeat ? this : this.duration((a - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat,
            this._dirty = !1),
            this._totalDuration)
        }
        ,
        w.repeat = function(a) {
            return arguments.length ? (this._repeat = a,
            this._uncache(!0)) : this._repeat
        }
        ,
        w.repeatDelay = function(a) {
            return arguments.length ? (this._repeatDelay = a,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        w.yoyo = function(a) {
            return arguments.length ? (this._yoyo = a,
            this) : this._yoyo
        }
        ,
        f
    }, !0);
    _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(a, b, c) {
        var d = function(a) {
            b.call(this, a);
            this._labels = {};
            this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren;
            this.smoothChildTiming = !0 === this.vars.smoothChildTiming;
            this._sortChildren = !0;
            this._onUpdate = this.vars.onUpdate;
            var c, d = this.vars;
            for (c in d)
                a = d[c],
                k(a) && -1 !== a.join("").indexOf("{self}") && (d[c] = this._swapSelfInParams(a));
            k(d.tweens) && this.add(d.tweens, 0, d.align, d.stagger)
        }
          , e = c._internals
          , f = d._internals = {}
          , g = e.isSelector
          , k = e.isArray
          , p = e.lazyTweens
          , w = e.lazyRender
          , n = _gsScope._gsDefine.globals
          , q = function(a) {
            var b, c = {};
            for (b in a)
                c[b] = a[b];
            return c
        }
          , E = function(a, b, c) {
            var d, e, f = a.cycle;
            for (d in f)
                e = f[d],
                a[d] = "function" == typeof e ? e.call(b[c], c) : e[c % e.length];
            delete a.cycle
        }
          , C = f.pauseCallback = function() {}
          , u = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }
          , e = d.prototype = new b;
        return d.version = "1.18.5",
        e.constructor = d,
        e.kill()._gc = e._forcingPlayhead = e._hasPause = !1,
        e.to = function(a, b, d, e) {
            var f = d.repeat && n.TweenMax || c;
            return b ? this.add(new f(a,b,d), e) : this.set(a, d, e)
        }
        ,
        e.from = function(a, b, d, e) {
            return this.add((d.repeat && n.TweenMax || c).from(a, b, d), e)
        }
        ,
        e.fromTo = function(a, b, d, e, f) {
            var g = e.repeat && n.TweenMax || c;
            return b ? this.add(g.fromTo(a, b, d, e), f) : this.set(a, e, f)
        }
        ,
        e.staggerTo = function(a, b, e, f, l, k, s, p) {
            var p = new d({
                onComplete: k,
                onCompleteParams: s,
                callbackScope: p,
                smoothChildTiming: this.smoothChildTiming
            })
              , r = e.cycle;
            "string" == typeof a && (a = c.selector(a) || a);
            a = a || [];
            g(a) && (a = u(a));
            f = f || 0;
            0 > f && (a = u(a),
            a.reverse(),
            f *= -1);
            for (s = 0; s < a.length; s++)
                k = q(e),
                k.startAt && (k.startAt = q(k.startAt),
                k.startAt.cycle && E(k.startAt, a, s)),
                r && (E(k, a, s),
                null != k.duration && (b = k.duration,
                delete k.duration)),
                p.to(a[s], b, k, s * f);
            return this.add(p, l)
        }
        ,
        e.staggerFrom = function(a, b, c, d, e, f, j, g) {
            return c.immediateRender = 0 != c.immediateRender,
            c.runBackwards = !0,
            this.staggerTo(a, b, c, d, e, f, j, g)
        }
        ,
        e.staggerFromTo = function(a, b, c, d, e, f, j, g, l) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            this.staggerTo(a, b, d, e, f, j, g, l)
        }
        ,
        e.call = function(a, b, d, e) {
            return this.add(c.delayedCall(0, a, b, d), e)
        }
        ,
        e.set = function(a, b, d) {
            return d = this._parseTimeOrLabel(d, 0, !0),
            null == b.immediateRender && (b.immediateRender = d === this._time && !this._paused),
            this.add(new c(a,0,b), d)
        }
        ,
        d.exportRoot = function(a, b) {
            a = a || {};
            null == a.smoothChildTiming && (a.smoothChildTiming = !0);
            var e, f, g = new d(a), l = g._timeline;
            null == b && (b = !0);
            l._remove(g, !0);
            g._startTime = 0;
            g._rawPrevTime = g._time = g._totalTime = l._time;
            for (e = l._first; e; )
                f = e._next,
                b && e instanceof c && e.target === e.vars.onComplete || g.add(e, e._startTime - e._delay),
                e = f;
            return l.add(g, 0),
            g
        }
        ,
        e.add = function(e, f, g, s) {
            var p, z, w;
            if ("number" != typeof f && (f = this._parseTimeOrLabel(f, 0, !0, e)),
            !(e instanceof a)) {
                if (e instanceof Array || e && e.push && k(e)) {
                    g = g || "normal";
                    s = s || 0;
                    p = e.length;
                    for (z = 0; p > z; z++)
                        k(w = e[z]) && (w = new d({
                            tweens: w
                        })),
                        this.add(w, f),
                        "string" != typeof w && "function" != typeof w && ("sequence" === g ? f = w._startTime + w.totalDuration() / w._timeScale : "start" === g && (w._startTime -= w.delay())),
                        f += s;
                    return this._uncache(!0)
                }
                if ("string" == typeof e)
                    return this.addLabel(e, f);
                if ("function" != typeof e)
                    throw "Cannot add " + e + " into the timeline; it is not a tween, timeline, function, or string.";
                e = c.delayedCall(0, e)
            }
            if (b.prototype.add.call(this, e, f),
            (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration()) {
                g = this;
                for (e = g.rawTime() > e._startTime; g._timeline; )
                    e && g._timeline.smoothChildTiming ? g.totalTime(g._totalTime, !0) : g._gc && g._enabled(!0, !1),
                    g = g._timeline
            }
            return this
        }
        ,
        e.remove = function(b) {
            if (b instanceof a) {
                this._remove(b, !1);
                var c = b._timeline = b.vars.useFrames ? a._rootFramesTimeline : a._rootTimeline;
                return b._startTime = (b._paused ? b._pauseTime : c._time) - (b._reversed ? b.totalDuration() - b._totalTime : b._totalTime) / b._timeScale,
                this
            }
            if (b instanceof Array || b && b.push && k(b)) {
                for (c = b.length; -1 < --c; )
                    this.remove(b[c]);
                return this
            }
            return "string" == typeof b ? this.removeLabel(b) : this.kill(null, b)
        }
        ,
        e._remove = function(a, c) {
            b.prototype._remove.call(this, a, c);
            var d = this._last;
            return d ? this._time > d._startTime + d._totalDuration / d._timeScale && (this._time = this.duration(),
            this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0,
            this
        }
        ,
        e.append = function(a, b) {
            return this.add(a, this._parseTimeOrLabel(null, b, !0, a))
        }
        ,
        e.insert = e.insertMultiple = function(a, b, c, d) {
            return this.add(a, b || 0, c, d)
        }
        ,
        e.appendMultiple = function(a, b, c, d) {
            return this.add(a, this._parseTimeOrLabel(null, b, !0, a), c, d)
        }
        ,
        e.addLabel = function(a, b) {
            return this._labels[a] = this._parseTimeOrLabel(b),
            this
        }
        ,
        e.addPause = function(a, b, d, e) {
            d = c.delayedCall(0, C, d, e || this);
            return d.vars.onComplete = d.vars.onReverseComplete = b,
            d.data = "isPause",
            this._hasPause = !0,
            this.add(d, a)
        }
        ,
        e.removeLabel = function(a) {
            return delete this._labels[a],
            this
        }
        ,
        e.getLabelTime = function(a) {
            return null != this._labels[a] ? this._labels[a] : -1
        }
        ,
        e._parseTimeOrLabel = function(b, c, d, e) {
            var f;
            if (e instanceof a && e.timeline === this)
                this.remove(e);
            else if (e && (e instanceof Array || e.push && k(e)))
                for (f = e.length; -1 < --f; )
                    e[f]instanceof a && e[f].timeline === this && this.remove(e[f]);
            if ("string" == typeof c)
                return this._parseTimeOrLabel(c, d && "number" == typeof b && null == this._labels[c] ? b - this.duration() : 0, d);
            if (c = c || 0,
            "string" != typeof b || !isNaN(b) && null == this._labels[b])
                null == b && (b = this.duration());
            else {
                if (f = b.indexOf("="),
                -1 === f)
                    return null == this._labels[b] ? d ? this._labels[b] = this.duration() + c : c : this._labels[b] + c;
                c = parseInt(b.charAt(f - 1) + "1", 10) * Number(b.substr(f + 1));
                b = 1 < f ? this._parseTimeOrLabel(b.substr(0, f - 1), 0, d) : this.duration()
            }
            return Number(b) + c
        }
        ,
        e.seek = function(a, b) {
            return this.totalTime("number" == typeof a ? a : this._parseTimeOrLabel(a), !1 !== b)
        }
        ,
        e.stop = function() {
            return this.paused(!0)
        }
        ,
        e.gotoAndPlay = function(a, b) {
            return this.play(a, b)
        }
        ,
        e.gotoAndStop = function(a, b) {
            return this.pause(a, b)
        }
        ,
        e.render = function(a, b, c) {
            this._gc && this._enabled(!0, !1);
            var d, e, f, j, g, l, o, k = this._dirty ? this.totalDuration() : this._totalDuration, s = this._time, r = this._startTime, y = this._timeScale, n = this._paused;
            if (a >= k - 1E-7)
                this._totalTime = this._time = k,
                this._reversed || this._hasPausedChild() || (e = !0,
                j = "onComplete",
                g = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= a && -1E-7 <= a || 0 > this._rawPrevTime || 1E-10 === this._rawPrevTime) && this._rawPrevTime !== a && this._first && (g = !0,
                1E-10 < this._rawPrevTime && (j = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : 1E-10,
                a = k + 1E-4;
            else if (1E-7 > a)
                if (this._totalTime = this._time = 0,
                (0 !== s || 0 === this._duration && 1E-10 !== this._rawPrevTime && (0 < this._rawPrevTime || 0 > a && 0 <= this._rawPrevTime)) && (j = "onReverseComplete",
                e = this._reversed),
                0 > a)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (g = e = !0,
                    j = "onReverseComplete") : 0 <= this._rawPrevTime && this._first && (g = !0),
                    this._rawPrevTime = a;
                else {
                    if (this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : 1E-10,
                    0 === a && e)
                        for (d = this._first; d && 0 === d._startTime; )
                            d._duration || (e = !1),
                            d = d._next;
                    a = 0;
                    this._initted || (g = !0)
                }
            else {
                if (this._hasPause && !this._forcingPlayhead && !b) {
                    if (a >= s)
                        for (d = this._first; d && d._startTime <= a && !l; )
                            d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (l = d),
                            d = d._next;
                    else
                        for (d = this._last; d && d._startTime >= a && !l; )
                            d._duration || "isPause" === d.data && 0 < d._rawPrevTime && (l = d),
                            d = d._prev;
                    l && (this._time = a = l._startTime,
                    this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
                }
                this._totalTime = this._time = this._rawPrevTime = a
            }
            if (this._time !== s && this._first || c || g || l) {
                if (this._initted || (this._initted = !0),
                this._active || !this._paused && this._time !== s && 0 < a && (this._active = !0),
                0 === s && this.vars.onStart && (0 === this._time && this._duration || b || this._callback("onStart")),
                o = this._time,
                o >= s)
                    for (d = this._first; d && (f = d._next,
                    o === this._time && (!this._paused || n)); )
                        (d._active || d._startTime <= o && !d._paused && !d._gc) && (l === d && this.pause(),
                        d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                        d = f;
                else
                    for (d = this._last; d && (f = d._prev,
                    o === this._time && (!this._paused || n)); ) {
                        if (d._active || d._startTime <= s && !d._paused && !d._gc) {
                            if (l === d) {
                                for (l = d._prev; l && l.endTime() > this._time; )
                                    l.render(l._reversed ? l.totalDuration() - (a - l._startTime) * l._timeScale : (a - l._startTime) * l._timeScale, b, c),
                                    l = l._prev;
                                l = null;
                                this.pause()
                            }
                            d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                        }
                        d = f
                    }
                this._onUpdate && (b || (p.length && w(),
                this._callback("onUpdate")));
                j && (this._gc || (r === this._startTime || y !== this._timeScale) && (0 === this._time || k >= this.totalDuration()) && (e && (p.length && w(),
                this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !b && this.vars[j] && this._callback(j)))
            }
        }
        ,
        e._hasPausedChild = function() {
            for (var a = this._first; a; ) {
                if (a._paused || a instanceof d && a._hasPausedChild())
                    return !0;
                a = a._next
            }
            return !1
        }
        ,
        e.getChildren = function(a, b, d, e) {
            for (var e = e || -9999999999, f = [], g = this._first, l = 0; g; )
                g._startTime < e || (g instanceof c ? !1 !== b && (f[l++] = g) : (!1 !== d && (f[l++] = g),
                !1 !== a && (f = f.concat(g.getChildren(!0, b, d)),
                l = f.length))),
                g = g._next;
            return f
        }
        ,
        e.getTweensOf = function(a, b) {
            var d, e, f = this._gc, g = [], l = 0;
            f && this._enabled(!0, !0);
            d = c.getTweensOf(a);
            for (e = d.length; -1 < --e; )
                (d[e].timeline === this || b && this._contains(d[e])) && (g[l++] = d[e]);
            return f && this._enabled(!1, !0),
            g
        }
        ,
        e.recent = function() {
            return this._recent
        }
        ,
        e._contains = function(a) {
            for (a = a.timeline; a; ) {
                if (a === this)
                    return !0;
                a = a.timeline
            }
            return !1
        }
        ,
        e.shiftChildren = function(a, b, c) {
            for (var c = c || 0, d, e = this._first, f = this._labels; e; )
                e._startTime >= c && (e._startTime += a),
                e = e._next;
            if (b)
                for (d in f)
                    f[d] >= c && (f[d] += a);
            return this._uncache(!0)
        }
        ,
        e._kill = function(a, b) {
            if (!a && !b)
                return this._enabled(!1, !1);
            for (var c = b ? this.getTweensOf(b) : this.getChildren(!0, !0, !1), d = c.length, e = !1; -1 < --d; )
                c[d]._kill(a, b) && (e = !0);
            return e
        }
        ,
        e.clear = function(a) {
            var b = this.getChildren(!1, !0, !0)
              , c = b.length;
            for (this._time = this._totalTime = 0; -1 < --c; )
                b[c]._enabled(!1, !1);
            return !1 !== a && (this._labels = {}),
            this._uncache(!0)
        }
        ,
        e.invalidate = function() {
            for (var b = this._first; b; )
                b.invalidate(),
                b = b._next;
            return a.prototype.invalidate.call(this)
        }
        ,
        e._enabled = function(a, c) {
            if (a === this._gc)
                for (var d = this._first; d; )
                    d._enabled(a, !0),
                    d = d._next;
            return b.prototype._enabled.call(this, a, c)
        }
        ,
        e.totalTime = function(b, c, d) {
            this._forcingPlayhead = !0;
            var e = a.prototype.totalTime.apply(this, arguments);
            return this._forcingPlayhead = !1,
            e
        }
        ,
        e.duration = function(a) {
            return arguments.length ? (0 !== this.duration() && 0 !== a && this.timeScale(this._duration / a),
            this) : (this._dirty && this.totalDuration(),
            this._duration)
        }
        ,
        e.totalDuration = function(a) {
            if (!arguments.length) {
                if (this._dirty) {
                    var b, c, d = 0;
                    c = this._last;
                    for (var e = 999999999999; c; )
                        b = c._prev,
                        c._dirty && c.totalDuration(),
                        c._startTime > e && this._sortChildren && !c._paused ? this.add(c, c._startTime - c._delay) : e = c._startTime,
                        0 > c._startTime && !c._paused && (d -= c._startTime,
                        this._timeline.smoothChildTiming && (this._startTime += c._startTime / this._timeScale),
                        this.shiftChildren(-c._startTime, !1, -9999999999),
                        e = 0),
                        c = c._startTime + c._totalDuration / c._timeScale,
                        c > d && (d = c),
                        c = b;
                    this._duration = this._totalDuration = d;
                    this._dirty = !1
                }
                return this._totalDuration
            }
            return a && this.totalDuration() ? this.timeScale(this._totalDuration / a) : this
        }
        ,
        e.paused = function(b) {
            if (!b)
                for (var c = this._first, d = this._time; c; )
                    c._startTime === d && "isPause" === c.data && (c._rawPrevTime = 0),
                    c = c._next;
            return a.prototype.paused.apply(this, arguments)
        }
        ,
        e.usesFrames = function() {
            for (var b = this._timeline; b._timeline; )
                b = b._timeline;
            return b === a._rootFramesTimeline
        }
        ,
        e.rawTime = function() {
            return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
        }
        ,
        d
    }, !0);
    _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(a, b, c) {
        var d = function(b) {
            a.call(this, b);
            this._repeat = this.vars.repeat || 0;
            this._repeatDelay = this.vars.repeatDelay || 0;
            this._cycle = 0;
            this._yoyo = !0 === this.vars.yoyo;
            this._dirty = !0
        }
          , e = b._internals
          , f = e.lazyTweens
          , g = e.lazyRender
          , k = new c(null,null,1,0)
          , c = d.prototype = new a;
        return c.constructor = d,
        c.kill()._gc = !1,
        d.version = "1.18.5",
        c.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            a.prototype.invalidate.call(this)
        }
        ,
        c.addCallback = function(a, c, d, e) {
            return this.add(b.delayedCall(0, a, d, e), c)
        }
        ,
        c.removeCallback = function(a, b) {
            if (a)
                if (null == b)
                    this._kill(null, a);
                else
                    for (var c = this.getTweensOf(a, !1), d = c.length, e = this._parseTimeOrLabel(b); -1 < --d; )
                        c[d]._startTime === e && c[d]._enabled(!1, !1);
            return this
        }
        ,
        c.removePause = function(b) {
            return this.removeCallback(a._internals.pauseCallback, b)
        }
        ,
        c.tweenTo = function(a, c) {
            var c = c || {}, d, e, f, j = {
                ease: k,
                useFrames: this.usesFrames(),
                immediateRender: !1
            };
            for (e in c)
                j[e] = c[e];
            return j.time = this._parseTimeOrLabel(a),
            d = Math.abs(Number(j.time) - this._time) / this._timeScale || 0.001,
            f = new b(this,d,j),
            j.onStart = function() {
                f.target.paused(!0);
                f.vars.time !== f.target.time() && d === f.duration() && f.duration(Math.abs(f.vars.time - f.target.time()) / f.target._timeScale);
                c.onStart && f._callback("onStart")
            }
            ,
            f
        }
        ,
        c.tweenFromTo = function(a, b, c) {
            c = c || {};
            a = this._parseTimeOrLabel(a);
            c.startAt = {
                onComplete: this.seek,
                onCompleteParams: [a],
                callbackScope: this
            };
            c.immediateRender = !1 !== c.immediateRender;
            b = this.tweenTo(b, c);
            return b.duration(Math.abs(b.vars.time - a) / this._timeScale || 0.001)
        }
        ,
        c.render = function(a, b, c) {
            this._gc && this._enabled(!0, !1);
            var d, e, j, l, o, h, k, s = this._dirty ? this.totalDuration() : this._totalDuration, p = this._duration, r = this._time, n = this._totalTime, q = this._startTime, x = this._timeScale, ea = this._rawPrevTime, Aa = this._paused, va = this._cycle;
            if (a >= s - 1E-7)
                this._locked || (this._totalTime = s,
                this._cycle = this._repeat),
                this._reversed || this._hasPausedChild() || (e = !0,
                l = "onComplete",
                o = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= a && -1E-7 <= a || 0 > ea || 1E-10 === ea) && ea !== a && this._first && (o = !0,
                1E-10 < ea && (l = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !b || a || this._rawPrevTime === a ? a : 1E-10,
                this._yoyo && 0 !== (1 & this._cycle) ? this._time = a = 0 : (this._time = p,
                a = p + 1E-4);
            else if (1E-7 > a)
                if (this._locked || (this._totalTime = this._cycle = 0),
                this._time = 0,
                (0 !== r || 0 === p && 1E-10 !== ea && (0 < ea || 0 > a && 0 <= ea) && !this._locked) && (l = "onReverseComplete",
                e = this._reversed),
                0 > a)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (o = e = !0,
                    l = "onReverseComplete") : 0 <= ea && this._first && (o = !0),
                    this._rawPrevTime = a;
                else {
                    if (this._rawPrevTime = p || !b || a || this._rawPrevTime === a ? a : 1E-10,
                    0 === a && e)
                        for (d = this._first; d && 0 === d._startTime; )
                            d._duration || (e = !1),
                            d = d._next;
                    a = 0;
                    this._initted || (o = !0)
                }
            else if (0 === p && 0 > ea && (o = !0),
            this._time = this._rawPrevTime = a,
            this._locked || (this._totalTime = a,
            0 !== this._repeat && (d = p + this._repeatDelay,
            this._cycle = this._totalTime / d >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / d && a >= n && this._cycle--,
            this._time = this._totalTime - this._cycle * d,
            this._yoyo && 0 !== (1 & this._cycle) && (this._time = p - this._time),
            this._time > p ? (this._time = p,
            a = p + 1E-4) : 0 > this._time ? this._time = a = 0 : a = this._time)),
            this._hasPause && !this._forcingPlayhead && !b) {
                if (a = this._time,
                a >= r)
                    for (d = this._first; d && d._startTime <= a && !h; )
                        d._duration || "isPause" !== d.data || d.ratio || 0 === d._startTime && 0 === this._rawPrevTime || (h = d),
                        d = d._next;
                else
                    for (d = this._last; d && d._startTime >= a && !h; )
                        d._duration || "isPause" === d.data && 0 < d._rawPrevTime && (h = d),
                        d = d._prev;
                h && (this._time = a = h._startTime,
                this._totalTime = a + this._cycle * (this._totalDuration + this._repeatDelay))
            }
            if (this._cycle !== va && !this._locked) {
                d = this._yoyo && 0 !== (1 & va);
                var ta = d === (this._yoyo && 0 !== (1 & this._cycle))
                  , ia = this._totalTime
                  , ja = this._cycle
                  , R = this._rawPrevTime
                  , Ca = this._time;
                if ((this._totalTime = va * p,
                this._cycle < va ? d = !d : this._totalTime += p,
                this._time = r,
                this._rawPrevTime = 0 === p ? ea - 1E-4 : ea,
                this._cycle = va,
                this._locked = !0,
                r = d ? 0 : p,
                this.render(r, b, 0 === p),
                b || this._gc || this.vars.onRepeat && this._callback("onRepeat"),
                r !== this._time) || (ta && (r = d ? p + 1E-4 : -1E-4,
                this.render(r, !0, !1)),
                this._locked = !1,
                this._paused && !Aa))
                    return;
                this._time = Ca;
                this._totalTime = ia;
                this._cycle = ja;
                this._rawPrevTime = R
            }
            if (!(this._time !== r && this._first || c || o || h))
                return void (n !== this._totalTime && this._onUpdate && (b || this._callback("onUpdate")));
            if (this._initted || (this._initted = !0),
            this._active || !this._paused && this._totalTime !== n && 0 < a && (this._active = !0),
            0 === n && this.vars.onStart && (0 === this._totalTime && this._totalDuration || b || this._callback("onStart")),
            k = this._time,
            k >= r)
                for (d = this._first; d && (j = d._next,
                k === this._time && (!this._paused || Aa)); )
                    (d._active || d._startTime <= this._time && !d._paused && !d._gc) && (h === d && this.pause(),
                    d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)),
                    d = j;
            else
                for (d = this._last; d && (j = d._prev,
                k === this._time && (!this._paused || Aa)); ) {
                    if (d._active || d._startTime <= r && !d._paused && !d._gc) {
                        if (h === d) {
                            for (h = d._prev; h && h.endTime() > this._time; )
                                h.render(h._reversed ? h.totalDuration() - (a - h._startTime) * h._timeScale : (a - h._startTime) * h._timeScale, b, c),
                                h = h._prev;
                            h = null;
                            this.pause()
                        }
                        d._reversed ? d.render((d._dirty ? d.totalDuration() : d._totalDuration) - (a - d._startTime) * d._timeScale, b, c) : d.render((a - d._startTime) * d._timeScale, b, c)
                    }
                    d = j
                }
            this._onUpdate && (b || (f.length && g(),
            this._callback("onUpdate")));
            l && (this._locked || this._gc || (q === this._startTime || x !== this._timeScale) && (0 === this._time || s >= this.totalDuration()) && (e && (f.length && g(),
            this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !b && this.vars[l] && this._callback(l)))
        }
        ,
        c.getActive = function(a, b, c) {
            null == a && (a = !0);
            null == b && (b = !0);
            null == c && (c = !1);
            for (var d = [], c = this.getChildren(a, b, c), e = 0, f = c.length, a = 0; f > a; a++)
                b = c[a],
                b.isActive() && (d[e++] = b);
            return d
        }
        ,
        c.getLabelAfter = function(a) {
            a || 0 !== a && (a = this._time);
            var b, c = this.getLabelsArray(), d = c.length;
            for (b = 0; d > b; b++)
                if (c[b].time > a)
                    return c[b].name;
            return null
        }
        ,
        c.getLabelBefore = function(a) {
            null == a && (a = this._time);
            for (var b = this.getLabelsArray(), c = b.length; -1 < --c; )
                if (b[c].time < a)
                    return b[c].name;
            return null
        }
        ,
        c.getLabelsArray = function() {
            var a, b = [], c = 0;
            for (a in this._labels)
                b[c++] = {
                    time: this._labels[a],
                    name: a
                };
            return b.sort(function(a, b) {
                return a.time - b.time
            }),
            b
        }
        ,
        c.progress = function(a, b) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - a : a) + this._cycle * (this._duration + this._repeatDelay), b) : this._time / this.duration()
        }
        ,
        c.totalProgress = function(a, b) {
            return arguments.length ? this.totalTime(this.totalDuration() * a, b) : this._totalTime / this.totalDuration()
        }
        ,
        c.totalDuration = function(b) {
            return arguments.length ? -1 !== this._repeat && b ? this.timeScale(this.totalDuration() / b) : this : (this._dirty && (a.prototype.totalDuration.call(this),
            this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat),
            this._totalDuration)
        }
        ,
        c.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            a > this._duration && (a = this._duration),
            this._yoyo && 0 !== (1 & this._cycle) ? a = this._duration - a + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (a += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(a, b)) : this._time
        }
        ,
        c.repeat = function(a) {
            return arguments.length ? (this._repeat = a,
            this._uncache(!0)) : this._repeat
        }
        ,
        c.repeatDelay = function(a) {
            return arguments.length ? (this._repeatDelay = a,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        c.yoyo = function(a) {
            return arguments.length ? (this._yoyo = a,
            this) : this._yoyo
        }
        ,
        c.currentLabel = function(a) {
            return arguments.length ? this.seek(a, !0) : this.getLabelBefore(this._time + 1E-8)
        }
        ,
        d
    }, !0);
    var b = 180 / Math.PI
      , a = []
      , d = []
      , c = []
      , e = {}
      , f = _gsScope._gsDefine.globals
      , g = function(a, b, c, d) {
        c === d && (c = d - (d - b) / 1E6);
        a === b && (b = a + (c - a) / 1E6);
        this.a = a;
        this.b = b;
        this.c = c;
        this.d = d;
        this.da = d - a;
        this.ca = c - a;
        this.ba = b - a
    }
      , k = function(a, b, c, d) {
        var e = {
            a: a
        }
          , f = {}
          , g = {}
          , k = {
            c: d
        }
          , p = (a + b) / 2
          , n = (b + c) / 2
          , c = (c + d) / 2
          , b = (p + n) / 2
          , n = (n + c) / 2
          , q = (n - b) / 8;
        return e.b = p + (a - p) / 4,
        f.b = b + q,
        e.c = f.a = (e.b + f.b) / 2,
        f.c = g.a = (b + n) / 2,
        g.b = n - q,
        k.b = c + (d - c) / 4,
        g.c = k.a = (g.b + k.b) / 2,
        [e, f, g, k]
    }
      , p = function(b, f, j, o, s, p) {
        var n, q, z, w, B = {}, A = [], E = p || b[0], s = "string" == typeof s ? "," + s + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
        null == f && (f = 1);
        for (q in b[0])
            A.push(q);
        if (1 < b.length) {
            z = b[b.length - 1];
            w = !0;
            for (n = A.length; -1 < --n; )
                if (q = A[n],
                0.05 < Math.abs(E[q] - z[q])) {
                    w = !1;
                    break
                }
            w && (b = b.concat(),
            p && b.unshift(p),
            b.push(b[1]),
            p = b[b.length - 3])
        }
        a.length = d.length = c.length = 0;
        for (n = A.length; -1 < --n; ) {
            q = A[n];
            e[q] = -1 !== s.indexOf("," + q + ",");
            z = B;
            var E = q, C;
            C = b;
            var u = q
              , m = e[q]
              , h = p
              , D = void 0
              , t = void 0
              , K = void 0
              , T = void 0
              , G = void 0
              , K = void 0
              , ha = [];
            if (h) {
                C = [h].concat(C);
                for (t = C.length; -1 < --t; )
                    "string" == typeof (K = C[t][u]) && "=" === K.charAt(1) && (C[t][u] = h[u] + Number(K.charAt(0) + K.substr(2)))
            }
            if (D = C.length - 2,
            0 > D)
                C = (ha[0] = new g(C[0][u],0,0,C[-1 > D ? 0 : 1][u]),
                ha);
            else {
                for (t = 0; D > t; t++)
                    K = C[t][u],
                    T = C[t + 1][u],
                    ha[t] = new g(K,0,0,T),
                    m && (G = C[t + 2][u],
                    a[t] = (a[t] || 0) + (T - K) * (T - K),
                    d[t] = (d[t] || 0) + (G - T) * (G - T));
                C = (ha[t] = new g(C[t][u],0,0,C[t + 1][u]),
                ha)
            }
            z[E] = C
        }
        for (n = a.length; -1 < --n; )
            a[n] = Math.sqrt(a[n]),
            d[n] = Math.sqrt(d[n]);
        if (!o) {
            for (n = A.length; -1 < --n; )
                if (e[q]) {
                    b = B[A[n]];
                    z = b.length - 1;
                    for (s = 0; z > s; s++)
                        p = b[s + 1].da / d[s] + b[s].da / a[s] || 0,
                        c[s] = (c[s] || 0) + p * p
                }
            for (n = c.length; -1 < --n; )
                c[n] = Math.sqrt(c[n])
        }
        n = A.length;
        for (s = j ? 4 : 1; -1 < --n; ) {
            q = A[n];
            p = b = B[q];
            z = f;
            E = j;
            C = o;
            q = e[q];
            for (var W = h = m = u = void 0, ea = T = K = W = ha = G = t = D = void 0, Aa = void 0, va = p.length - 1, ta = 0, ia = p[0].a, u = 0; va > u; u++)
                D = p[ta],
                m = D.a,
                h = D.d,
                W = p[ta + 1].d,
                q ? (T = a[u],
                ea = d[u],
                Aa = 0.25 * (ea + T) * z / (C ? 0.5 : c[u] || 0.5),
                t = h - (h - m) * (C ? 0.5 * z : 0 !== T ? Aa / T : 0),
                G = h + (W - h) * (C ? 0.5 * z : 0 !== ea ? Aa / ea : 0),
                ha = h - (t + ((G - t) * (3 * T / (T + ea) + 0.5) / 4 || 0))) : (t = h - 0.5 * (h - m) * z,
                G = h + 0.5 * (W - h) * z,
                ha = h - (t + G) / 2),
                t += ha,
                G += ha,
                D.c = W = t,
                0 !== u ? D.b = ia : D.b = ia = D.a + 0.6 * (D.c - D.a),
                D.da = h - m,
                D.ca = W - m,
                D.ba = ia - m,
                E ? (K = k(m, ia, W, h),
                p.splice(ta, 1, K[0], K[1], K[2], K[3]),
                ta += 4) : ta++,
                ia = G;
            D = p[ta];
            D.b = ia;
            D.c = ia + 0.4 * (D.d - ia);
            D.da = D.d - D.a;
            D.ca = D.c - D.a;
            D.ba = ia - D.a;
            E && (K = k(D.a, ia, D.c, D.d),
            p.splice(ta, 1, K[0], K[1], K[2], K[3]));
            w && (b.splice(0, s),
            b.splice(b.length - s, s))
        }
        return B
    }
      , n = _gsScope._gsDefine.plugin({
        propName: "bezier",
        priority: -1,
        version: "1.3.6",
        API: 2,
        global: !0,
        init: function(a, b, c) {
            this._target = a;
            b instanceof Array && (b = {
                values: b
            });
            this._func = {};
            this._round = {};
            this._props = [];
            this._timeRes = null == b.timeResolution ? 6 : parseInt(b.timeResolution, 10);
            var d, e, f, k, n, q = b.values || [], w = {};
            f = q[0];
            this._autoRotate = (e = b.autoRotate || c.vars.orientToBezier) ? e instanceof Array ? e : [["x", "y", "rotation", !0 === e ? 0 : Number(e) || 0]] : null;
            for (d in f)
                this._props.push(d);
            for (f = this._props.length; -1 < --f; )
                d = this._props[f],
                this._overwriteProps.push(d),
                e = this._func[d] = "function" == typeof a[d],
                w[d] = e ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)]() : parseFloat(a[d]),
                n || w[d] !== q[0][d] && (n = w);
            if ("cubic" !== b.type && "quadratic" !== b.type && "soft" !== b.type)
                w = p(q, isNaN(b.curviness) ? 1 : b.curviness, !1, "thruBasic" === b.type, b.correlate, n);
            else {
                f = q;
                var q = (q = b.type) || "soft", B, A, E, C, u, m, h, b = {};
                n = "cubic" === q ? 3 : 2;
                var D = "soft" === q
                  , t = [];
                if (D && w && (f = [w].concat(f)),
                null == f || f.length < n + 1)
                    throw "invalid Bezier data";
                for (B in f[0])
                    t.push(B);
                for (C = t.length; -1 < --C; ) {
                    B = t[C];
                    b[B] = e = [];
                    h = 0;
                    m = f.length;
                    for (u = 0; m > u; u++)
                        q = null == w ? f[u][B] : "string" == typeof (A = f[u][B]) && "=" === A.charAt(1) ? w[B] + Number(A.charAt(0) + A.substr(2)) : Number(A),
                        D && 1 < u && m - 1 > u && (e[h++] = (q + e[h - 2]) / 2),
                        e[h++] = q;
                    m = h - n + 1;
                    for (u = h = 0; m > u; u += n)
                        q = e[u],
                        B = e[u + 1],
                        A = e[u + 2],
                        E = 2 === n ? 0 : e[u + 3],
                        e[h++] = A = 3 === n ? new g(q,B,A,E) : new g(q,(2 * B + q) / 3,(2 * B + A) / 3,A);
                    e.length = h
                }
                w = b
            }
            if (this._beziers = w,
            this._segCount = this._beziers[d].length,
            this._timeRes) {
                e = this._beziers;
                d = this._timeRes;
                d = d >> 0 || 6;
                w = [];
                B = [];
                f = A = 0;
                b = d - 1;
                n = [];
                q = [];
                for (k in e) {
                    C = e[k];
                    u = w;
                    m = d;
                    var K = void 0
                      , T = void 0
                      , G = D = h = T = void 0
                      , ha = K = void 0
                      , W = void 0
                      , W = G = void 0
                      , t = 1 / m;
                    for (E = C.length; -1 < --E; ) {
                        G = C[E];
                        T = G.a;
                        h = G.d - T;
                        D = G.c - T;
                        G = G.b - T;
                        T = 0;
                        for (ha = 1; m >= ha; ha++)
                            K = t * ha,
                            W = 1 - K,
                            K = T - (T = (K * K * h + 3 * W * (K * D + W * G)) * K),
                            W = E * m + ha - 1,
                            u[W] = (u[W] || 0) + K * K
                    }
                }
                e = w.length;
                for (k = 0; e > k; k++)
                    A += Math.sqrt(w[k]),
                    C = k % d,
                    q[C] = A,
                    C === b && (f += A,
                    C = k / d >> 0,
                    n[C] = q,
                    B[C] = f,
                    A = 0,
                    q = []);
                this._length = f;
                this._lengths = B;
                this._segments = n;
                this._l1 = this._li = this._s1 = this._si = 0;
                this._l2 = this._lengths[0];
                this._curSeg = this._segments[0];
                this._s2 = this._curSeg[0];
                this._prec = 1 / this._curSeg.length
            }
            if (e = this._autoRotate) {
                this._initialRotations = [];
                e[0]instanceof Array || (this._autoRotate = e = [e]);
                for (f = e.length; -1 < --f; ) {
                    for (k = 0; 3 > k; k++)
                        d = e[f][k],
                        this._func[d] = "function" == typeof a[d] ? a[d.indexOf("set") || "function" != typeof a["get" + d.substr(3)] ? d : "get" + d.substr(3)] : !1;
                    d = e[f][2];
                    this._initialRotations[f] = (this._func[d] ? this._func[d].call(this._target) : this._target[d]) || 0
                }
            }
            return this._startRatio = c.vars.runBackwards ? 1 : 0,
            !0
        },
        set: function(a) {
            var c, d, e, f, g, k;
            g = this._segCount;
            var p = this._func
              , n = this._target
              , q = a !== this._startRatio;
            if (this._timeRes) {
                if (c = this._lengths,
                f = this._curSeg,
                a *= this._length,
                e = this._li,
                a > this._l2 && g - 1 > e) {
                    for (g -= 1; g > e && (this._l2 = c[++e]) <= a; )
                        ;
                    this._l1 = c[e - 1];
                    this._li = e;
                    this._curSeg = f = this._segments[e];
                    this._s2 = f[this._s1 = this._si = 0]
                } else if (a < this._l1 && 0 < e) {
                    for (; 0 < e && (this._l1 = c[--e]) >= a; )
                        ;
                    0 === e && a < this._l1 ? this._l1 = 0 : e++;
                    this._l2 = c[e];
                    this._li = e;
                    this._curSeg = f = this._segments[e];
                    this._s1 = f[(this._si = f.length - 1) - 1] || 0;
                    this._s2 = f[this._si]
                }
                if (c = e,
                a -= this._l1,
                e = this._si,
                a > this._s2 && e < f.length - 1) {
                    for (g = f.length - 1; g > e && (this._s2 = f[++e]) <= a; )
                        ;
                    this._s1 = f[e - 1];
                    this._si = e
                } else if (a < this._s1 && 0 < e) {
                    for (; 0 < e && (this._s1 = f[--e]) >= a; )
                        ;
                    0 === e && a < this._s1 ? this._s1 = 0 : e++;
                    this._s2 = f[e];
                    this._si = e
                }
                g = (e + (a - this._s1) / (this._s2 - this._s1)) * this._prec || 0
            } else
                c = 0 > a ? 0 : 1 <= a ? g - 1 : g * a >> 0,
                g *= a - c * (1 / g);
            d = 1 - g;
            for (e = this._props.length; -1 < --e; )
                a = this._props[e],
                f = this._beziers[a][c],
                k = (g * g * f.da + 3 * d * (g * f.ca + d * f.ba)) * g + f.a,
                this._round[a] && (k = Math.round(k)),
                p[a] ? n[a](k) : n[a] = k;
            if (this._autoRotate) {
                var B, A, E, C, u, m, h = this._autoRotate;
                for (e = h.length; -1 < --e; )
                    a = h[e][2],
                    u = h[e][3] || 0,
                    m = !0 === h[e][4] ? 1 : b,
                    f = this._beziers[h[e][0]],
                    d = this._beziers[h[e][1]],
                    f && d && (f = f[c],
                    d = d[c],
                    B = f.a + (f.b - f.a) * g,
                    E = f.b + (f.c - f.b) * g,
                    B += (E - B) * g,
                    E += (f.c + (f.d - f.c) * g - E) * g,
                    A = d.a + (d.b - d.a) * g,
                    C = d.b + (d.c - d.b) * g,
                    A += (C - A) * g,
                    C += (d.c + (d.d - d.c) * g - C) * g,
                    k = q ? Math.atan2(C - A, E - B) * m + u : this._initialRotations[e],
                    p[a] ? n[a](k) : n[a] = k)
            }
        }
    })
      , q = n.prototype;
    n.bezierThrough = p;
    n.cubicToQuadratic = k;
    n._autoCSS = !0;
    n.quadraticToCubic = function(a, b, c) {
        return new g(a,(2 * b + a) / 3,(2 * b + c) / 3,c)
    }
    ;
    n._cssRegister = function() {
        var a = f.CSSPlugin;
        if (a) {
            var a = a._internals
              , b = a._parseToProxy
              , c = a._setPluginRatio
              , d = a.CSSPropTween;
            a._registerComplexSpecialProp("bezier", {
                parser: function(a, e, f, g, k, p) {
                    e instanceof Array && (e = {
                        values: e
                    });
                    var p = new n, r, q, E = e.values, C = E.length - 1, u = [], m = {};
                    if (0 > C)
                        return k;
                    for (f = 0; C >= f; f++)
                        q = b(a, E[f], g, k, p, C !== f),
                        u[f] = q.end;
                    for (r in e)
                        m[r] = e[r];
                    return m.values = u,
                    k = new d(a,"bezier",0,0,q.pt,2),
                    k.data = q,
                    k.plugin = p,
                    k.setRatio = c,
                    0 === m.autoRotate && (m.autoRotate = !0),
                    !m.autoRotate || m.autoRotate instanceof Array || (f = !0 === m.autoRotate ? 0 : Number(m.autoRotate),
                    m.autoRotate = null != q.end.left ? [["left", "top", "rotation", f, !1]] : null != q.end.x ? [["x", "y", "rotation", f, !1]] : !1),
                    m.autoRotate && (g._transform || g._enableTransforms(!1),
                    q.autoRotate = g._target._gsTransform,
                    q.proxy.rotation = q.autoRotate.rotation || 0),
                    p._onInitTween(q.proxy, m, g._tween),
                    k
                }
            })
        }
    }
    ;
    q._roundProps = function(a, b) {
        for (var c = this._overwriteProps, d = c.length; -1 < --d; )
            (a[c[d]] || a.bezier || a.bezierThrough) && (this._round[c[d]] = b)
    }
    ;
    q._kill = function(a) {
        var b, c, d = this._props;
        for (b in this._beziers)
            if (b in a) {
                delete this._beziers[b];
                delete this._func[b];
                for (c = d.length; -1 < --c; )
                    d[c] === b && d.splice(c, 1)
            }
        return this._super._kill.call(this, a)
    }
    ;
    _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(a, b) {
        var c, d, e, f, g = function() {
            a.call(this, "css");
            this._overwriteProps.length = 0;
            this.setRatio = g.prototype.setRatio
        }, k = _gsScope._gsDefine.globals, p = {}, n = g.prototype = new a("css");
        n.constructor = g;
        g.version = "1.18.5";
        g.API = 2;
        g.defaultTransformPerspective = 0;
        g.defaultSkewType = "compensated";
        g.defaultSmoothOrigin = !0;
        n = "px";
        g.suffixMap = {
            top: n,
            right: n,
            bottom: n,
            left: n,
            width: n,
            height: n,
            fontSize: n,
            padding: n,
            margin: n,
            perspective: n,
            lineHeight: ""
        };
        var q, A, E, C, u, m, h = /(?:\-|\.|\b)(\d|\.|e\-)+/g, D = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, t = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, K = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, T = /(?:\d|\-|\+|=|#|\.)*/g, G = /opacity *= *([^)]*)/i, ha = /opacity:([^;]*)/i, W = /alpha\(opacity *=.+?\)/i, ea = /^(rgb|hsl)/, Aa = /([A-Z])/g, va = /-([a-z])/gi, ta = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, ia = function(a, b) {
            return b.toUpperCase()
        }, ja = /(?:Left|Right|Width)/i, R = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, Ca = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, na = /,(?=[^\)]*(?:\(|$))/gi, Y = /[\s,\(]/i, U = Math.PI / 180, J = 180 / Math.PI, V = {}, Q = document, wa = function(a) {
            return Q.createElementNS ? Q.createElementNS("http://www.w3.org/1999/xhtml", a) : Q.createElement(a)
        }, pa = wa("div"), Z = wa("img"), P = g._internals = {
            _specialProps: p
        }, X = navigator.userAgent, v, N = X.indexOf("Android"), F = wa("a");
        v = (E = -1 !== X.indexOf("Safari") && -1 === X.indexOf("Chrome") && (-1 === N || 3 < Number(X.substr(N + 8, 1))),
        u = E && 6 > Number(X.substr(X.indexOf("Version/") + 8, 1)),
        C = -1 !== X.indexOf("Firefox"),
        (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X)) && (m = parseFloat(RegExp.$1)),
        F ? (F.style.cssText = "top:1px;opacity:.55;",
        /^0.55/.test(F.style.opacity)) : !1);
        var fa = function(a) {
            return G.test("string" == typeof a ? a : (a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
        }
          , ga = ""
          , Ha = ""
          , xa = function(a, b) {
            var b = b || pa, c, d, e = b.style;
            if (void 0 !== e[a])
                return a;
            a = a.charAt(0).toUpperCase() + a.substr(1);
            c = ["O", "Moz", "ms", "Ms", "Webkit"];
            for (d = 5; -1 < --d && void 0 === e[c[d] + a]; )
                ;
            return 0 <= d ? (Ha = 3 === d ? "ms" : c[d],
            ga = "-" + Ha.toLowerCase() + "-",
            Ha + a) : null
        }
          , S = Q.defaultView ? Q.defaultView.getComputedStyle : function() {}
          , aa = g.getStyle = function(a, b, c, d, e) {
            var f;
            return v || "opacity" !== b ? (!d && a.style[b] ? f = a.style[b] : (c = c || S(a)) ? f = c[b] || c.getPropertyValue(b) || c.getPropertyValue(b.replace(Aa, "-$1").toLowerCase()) : a.currentStyle && (f = a.currentStyle[b]),
            null == e || f && "none" !== f && "auto" !== f && "auto auto" !== f ? f : e) : fa(a)
        }
          , Ba = P.convertToPixels = function(a, c, d, e, f) {
            if ("px" === e || !e)
                return d;
            if ("auto" === e || !d)
                return 0;
            var j, h, k, o = ja.test(c), m = a;
            j = pa.style;
            var v = 0 > d
              , p = 1 === d;
            if (v && (d = -d),
            p && (d *= 100),
            "%" === e && -1 !== c.indexOf("border"))
                j = d / 100 * (o ? a.clientWidth : a.clientHeight);
            else {
                if (j.cssText = "border:0 solid red;position:" + aa(a, "position") + ";line-height:0;",
                "%" !== e && m.appendChild && "v" !== e.charAt(0) && "rem" !== e)
                    j[o ? "borderLeftWidth" : "borderTopWidth"] = d + e;
                else {
                    if (m = a.parentNode || Q.body,
                    h = m._gsCache,
                    k = b.ticker.frame,
                    h && o && h.time === k)
                        return h.width * d / 100;
                    j[o ? "width" : "height"] = d + e
                }
                m.appendChild(pa);
                j = parseFloat(pa[o ? "offsetWidth" : "offsetHeight"]);
                m.removeChild(pa);
                o && "%" === e && !1 !== g.cacheWidths && (h = m._gsCache = m._gsCache || {},
                h.time = k,
                h.width = 100 * (j / d));
                0 !== j || f || (j = Ba(a, c, d, e, !0))
            }
            return p && (j /= 100),
            v ? -j : j
        }
          , ra = P.calculateOffset = function(a, b, c) {
            if ("absolute" !== aa(a, "position", c))
                return 0;
            var d = "left" === b ? "Left" : "Top"
              , c = aa(a, "margin" + d, c);
            return a["offset" + d] - (Ba(a, b, parseFloat(c), c.replace(T, "")) || 0)
        }
          , Sa = function(a, b) {
            var c, d, e, f = {};
            if (b = b || S(a, null))
                if (c = b.length)
                    for (; -1 < --c; )
                        e = b[c],
                        (-1 === e.indexOf("-transform") || mb === e) && (f[e.replace(va, ia)] = b.getPropertyValue(e));
                else
                    for (c in b)
                        (-1 === c.indexOf("Transform") || la === c) && (f[c] = b[c]);
            else if (b = a.currentStyle || a.style)
                for (c in b)
                    "string" == typeof c && void 0 === f[c] && (f[c.replace(va, ia)] = b[c]);
            return v || (f.opacity = fa(a)),
            d = Ja(a, b, !1),
            f.rotation = d.rotation,
            f.skewX = d.skewX,
            f.scaleX = d.scaleX,
            f.scaleY = d.scaleY,
            f.x = d.x,
            f.y = d.y,
            Ea && (f.z = d.z,
            f.rotationX = d.rotationX,
            f.rotationY = d.rotationY,
            f.scaleZ = d.scaleZ),
            f.filters && delete f.filters,
            f
        }
          , Ma = function(a, b, c, d, e) {
            var f, j, g, h = {}, l = a.style;
            for (j in c)
                "cssText" !== j && "length" !== j && isNaN(j) && (b[j] !== (f = c[j]) || e && e[j]) && -1 === j.indexOf("Origin") && ("number" == typeof f || "string" == typeof f) && (h[j] = "auto" !== f || "left" !== j && "top" !== j ? "" !== f && "auto" !== f && "none" !== f || "string" != typeof b[j] || "" === b[j].replace(K, "") ? f : 0 : ra(a, j),
                void 0 !== l[j] && (g = new Xa(l,j,l[j],g)));
            if (d)
                for (j in d)
                    "className" !== j && (h[j] = d[j]);
            return {
                difs: h,
                firstMPT: g
            }
        }
          , ib = {
            width: ["Left", "Right"],
            height: ["Top", "Bottom"]
        }
          , jb = ["marginLeft", "marginRight", "marginTop", "marginBottom"]
          , ka = function(a, b) {
            if ("contain" === a || "auto" === a || "auto auto" === a)
                return a + " ";
            (null == a || "" === a) && (a = "0 0");
            var c, d = a.split(" ");
            c = -1 !== a.indexOf("left") ? "0%" : -1 !== a.indexOf("right") ? "100%" : d[0];
            var e = -1 !== a.indexOf("top") ? "0%" : -1 !== a.indexOf("bottom") ? "100%" : d[1];
            if (3 < d.length && !b) {
                d = a.split(", ").join(",").split(",");
                a = [];
                for (c = 0; c < d.length; c++)
                    a.push(ka(d[c]));
                return a.join(",")
            }
            return null == e ? e = "center" === c ? "50%" : "0" : "center" === e && (e = "50%"),
            ("center" === c || isNaN(parseFloat(c)) && -1 === (c + "").indexOf("=")) && (c = "50%"),
            a = c + " " + e + (2 < d.length ? " " + d[2] : ""),
            b && (b.oxp = -1 !== c.indexOf("%"),
            b.oyp = -1 !== e.indexOf("%"),
            b.oxr = "=" === c.charAt(1),
            b.oyr = "=" === e.charAt(1),
            b.ox = parseFloat(c.replace(K, "")),
            b.oy = parseFloat(e.replace(K, "")),
            b.v = a),
            b || a
        }
          , Da = function(a, b) {
            return "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) : parseFloat(a) - parseFloat(b) || 0
        }
          , ua = function(a, b) {
            return null == a ? b : "string" == typeof a && "=" === a.charAt(1) ? parseInt(a.charAt(0) + "1", 10) * parseFloat(a.substr(2)) + b : parseFloat(a) || 0
        }
          , Na = function(a, b, c, d) {
            var e, f, j, g;
            return null == a ? j = b : "number" == typeof a ? j = a : (e = a.split("_"),
            g = "=" === a.charAt(1),
            f = (g ? parseInt(a.charAt(0) + "1", 10) * parseFloat(e[0].substr(2)) : parseFloat(e[0])) * (-1 === a.indexOf("rad") ? 1 : J) - (g ? 0 : b),
            e.length && (d && (d[c] = b + f),
            -1 !== a.indexOf("short") && (f %= 360,
            f !== f % 180 && (f = 0 > f ? f + 360 : f - 360)),
            -1 !== a.indexOf("_cw") && 0 > f ? f = (f + 3599999999640) % 360 - 360 * (f / 360 | 0) : -1 !== a.indexOf("ccw") && 0 < f && (f = (f - 3599999999640) % 360 - 360 * (f / 360 | 0))),
            j = b + f),
            1E-6 > j && -1E-6 < j && (j = 0),
            j
        }
          , Ta = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        }
          , Ua = function(a, b, c) {
            return a = 0 > a ? a + 1 : 1 < a ? a - 1 : a,
            255 * (1 > 6 * a ? b + 6 * (c - b) * a : 0.5 > a ? c : 2 > 3 * a ? b + 6 * (c - b) * (2 / 3 - a) : b) + 0.5 | 0
        }
          , M = g.parseColor = function(a, b) {
            var c, d, e, f, j, g, l, k, o, m, v;
            if (a)
                if ("number" == typeof a)
                    c = [a >> 16, a >> 8 & 255, 255 & a];
                else {
                    if ("," === a.charAt(a.length - 1) && (a = a.substr(0, a.length - 1)),
                    Ta[a])
                        c = Ta[a];
                    else if ("#" === a.charAt(0))
                        4 === a.length && (d = a.charAt(1),
                        e = a.charAt(2),
                        f = a.charAt(3),
                        a = "#" + d + d + e + e + f + f),
                        a = parseInt(a.substr(1), 16),
                        c = [a >> 16, a >> 8 & 255, 255 & a];
                    else if ("hsl" === a.substr(0, 3))
                        if (c = v = a.match(h),
                        b) {
                            if (-1 !== a.indexOf("="))
                                return a.match(D)
                        } else
                            j = Number(c[0]) % 360 / 360,
                            g = Number(c[1]) / 100,
                            l = Number(c[2]) / 100,
                            e = 0.5 >= l ? l * (g + 1) : l + g - l * g,
                            d = 2 * l - e,
                            3 < c.length && (c[3] = Number(a[3])),
                            c[0] = Ua(j + 1 / 3, d, e),
                            c[1] = Ua(j, d, e),
                            c[2] = Ua(j - 1 / 3, d, e);
                    else
                        c = a.match(h) || Ta.transparent;
                    c[0] = Number(c[0]);
                    c[1] = Number(c[1]);
                    c[2] = Number(c[2]);
                    3 < c.length && (c[3] = Number(c[3]))
                }
            else
                c = Ta.black;
            return b && !v && (d = c[0] / 255,
            e = c[1] / 255,
            f = c[2] / 255,
            k = Math.max(d, e, f),
            o = Math.min(d, e, f),
            l = (k + o) / 2,
            k === o ? j = g = 0 : (m = k - o,
            g = 0.5 < l ? m / (2 - k - o) : m / (k + o),
            j = k === d ? (e - f) / m + (f > e ? 6 : 0) : k === e ? (f - d) / m + 2 : (d - e) / m + 4,
            j *= 60),
            c[0] = j + 0.5 | 0,
            c[1] = 100 * g + 0.5 | 0,
            c[2] = 100 * l + 0.5 | 0),
            c
        }
          , Nb = function(a, b) {
            var c, d, e, f = a.match(za) || [], j = 0, g = f.length ? "" : a;
            for (c = 0; c < f.length; c++)
                d = f[c],
                e = a.substr(j, a.indexOf(d, j) - j),
                j += e.length + d.length,
                d = M(d, b),
                3 === d.length && d.push(1),
                g += e + (b ? "hsla(" + d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : "rgba(" + d.join(",")) + ")";
            return g + a.substr(j)
        }
          , za = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (n in Ta)
            za += "|" + n + "\\b";
        za = RegExp(za + ")", "gi");
        g.colorStringFilter = function(a) {
            var b, c = a[0] + a[1];
            za.test(c) && (b = -1 !== c.indexOf("hsl(") || -1 !== c.indexOf("hsla("),
            a[0] = Nb(a[0], b),
            a[1] = Nb(a[1], b));
            za.lastIndex = 0
        }
        ;
        b.defaultStringFilter || (b.defaultStringFilter = g.colorStringFilter);
        var wb = function(a, b, c, d) {
            if (null == a)
                return function(a) {
                    return a
                }
                ;
            var e, f = b ? (a.match(za) || [""])[0] : "", j = a.split(f).join("").match(t) || [], g = a.substr(0, a.indexOf(j[0])), l = ")" === a.charAt(a.length - 1) ? ")" : "", k = -1 !== a.indexOf(" ") ? " " : ",", o = j.length, m = 0 < o ? j[0].replace(h, "") : "";
            return o ? e = b ? function(a) {
                var b, h, v;
                if ("number" == typeof a)
                    a += m;
                else if (d && na.test(a)) {
                    a = a.replace(na, "|").split("|");
                    for (v = 0; v < a.length; v++)
                        a[v] = e(a[v]);
                    return a.join(",")
                }
                if (b = (a.match(za) || [f])[0],
                h = a.split(b).join("").match(t) || [],
                v = h.length,
                o > v--)
                    for (; ++v < o; )
                        h[v] = c ? h[(v - 1) / 2 | 0] : j[v];
                return g + h.join(k) + k + b + l + (-1 !== a.indexOf("inset") ? " inset" : "")
            }
            : function(a) {
                var b, f;
                if ("number" == typeof a)
                    a += m;
                else if (d && na.test(a)) {
                    a = a.replace(na, "|").split("|");
                    for (f = 0; f < a.length; f++)
                        a[f] = e(a[f]);
                    return a.join(",")
                }
                if (b = a.match(t) || [],
                f = b.length,
                o > f--)
                    for (; ++f < o; )
                        b[f] = c ? b[(f - 1) / 2 | 0] : j[f];
                return g + b.join(k) + l
            }
            : function(a) {
                return a
            }
        }
          , kb = function(a) {
            return a = a.split(","),
            function(b, c, d, e, f, j, g) {
                d = (c + "").split(" ");
                g = {};
                for (c = 0; 4 > c; c++)
                    g[a[c]] = d[c] = d[c] || d[(c - 1) / 2 >> 0];
                return e.parse(b, g, f, j)
            }
        }
          , Xa = (P._setPluginRatio = function(a) {
            this.plugin.setRatio(a);
            var b, c, d;
            d = this.data;
            for (var e = d.proxy, f = d.firstMPT; f; )
                b = e[f.v],
                f.r ? b = Math.round(b) : 1E-6 > b && -1E-6 < b && (b = 0),
                f.t[f.p] = b,
                f = f._next;
            if (d.autoRotate && (d.autoRotate.rotation = e.rotation),
            1 === a || 0 === a) {
                f = d.firstMPT;
                for (d = 1 === a ? "e" : "b"; f; ) {
                    if (c = f.t,
                    c.type) {
                        if (1 === c.type) {
                            b = c.xs0 + c.s + c.xs1;
                            for (a = 1; a < c.l; a++)
                                b += c["xn" + a] + c["xs" + (a + 1)];
                            c[d] = b
                        }
                    } else
                        c[d] = c.s + c.xs0;
                    f = f._next
                }
            }
        }
        ,
        function(a, b, c, d, e) {
            this.t = a;
            this.p = b;
            this.v = c;
            this.r = e;
            d && (d._prev = this,
            this._next = d)
        }
        )
          , qa = (P._parseToProxy = function(a, b, c, d, e, f) {
            var j, g, h, l = d, k = {}, o = {};
            g = c._transform;
            var m = V;
            c._transform = null;
            V = b;
            d = a = c.parse(a, b, d, e);
            V = m;
            for (f && (c._transform = g,
            l && (l._prev = null,
            l._prev && (l._prev._next = null))); d && d !== l; ) {
                if (1 >= d.type && (j = d.p,
                o[j] = d.s + d.c,
                k[j] = d.s,
                f || (h = new Xa(d,"s",j,h,d.r),
                d.c = 0),
                1 === d.type))
                    for (c = d.l; 0 < --c; )
                        g = "xn" + c,
                        j = d.p + "_" + g,
                        o[j] = d.data[g],
                        k[j] = d[g],
                        f || (h = new Xa(d,g,j,h,d.rxp[g]));
                d = d._next
            }
            return {
                proxy: k,
                end: o,
                firstMPT: h,
                pt: a
            }
        }
        ,
        P.CSSPropTween = function(a, b, d, e, g, h, l, k, o, m, v) {
            this.t = a;
            this.p = b;
            this.s = d;
            this.c = e;
            this.n = l || b;
            a instanceof qa || f.push(this.n);
            this.r = k;
            this.type = h || 0;
            o && (this.pr = o,
            c = !0);
            this.b = void 0 === m ? d : m;
            this.e = void 0 === v ? d + e : v;
            g && (this._next = g,
            g._prev = this)
        }
        )
          , lb = function(a, b, c, d, e, f) {
            a = new qa(a,b,c,d - c,e,-1,f);
            return a.b = c,
            a.e = a.xs0 = d,
            a
        }
          , bb = g.parseComplex = function(a, b, c, d, e, f, j, l, k, o) {
            c = c || f || "";
            j = new qa(a,b,0,0,j,o ? 2 : 1,null,!1,l,c,d);
            d += "";
            e && za.test(d + c) && (d = [c, d],
            g.colorStringFilter(d),
            c = d[0],
            d = d[1]);
            var m, p, s, n, r, a = c.split(", ").join(",").split(" "), b = d.split(", ").join(",").split(" "), l = a.length, N = !1 !== q;
            (-1 !== d.indexOf(",") || -1 !== c.indexOf(",")) && (a = a.join(" ").replace(na, ", ").split(" "),
            b = b.join(" ").replace(na, ", ").split(" "),
            l = a.length);
            l !== b.length && (a = (f || "").split(" "),
            l = a.length);
            j.plugin = k;
            j.setRatio = o;
            for (c = za.lastIndex = 0; l > c; c++)
                if (m = a[c],
                k = b[c],
                s = parseFloat(m),
                s || 0 === s)
                    j.appendXtra("", s, Da(k, s), k.replace(D, ""), N && -1 !== k.indexOf("px"), !0);
                else if (e && za.test(m))
                    o = k.indexOf(")") + 1,
                    o = ")" + (o ? k.substr(o) : ""),
                    n = -1 !== k.indexOf("hsl") && v,
                    m = M(m, n),
                    k = M(k, n),
                    (f = 6 < m.length + k.length) && !v && 0 === k[3] ? (j["xs" + j.l] += j.l ? " transparent" : "transparent",
                    j.e = j.e.split(b[c]).join("transparent")) : (v || (f = !1),
                    n ? j.appendXtra(f ? "hsla(" : "hsl(", m[0], Da(k[0], m[0]), ",", !1, !0).appendXtra("", m[1], Da(k[1], m[1]), "%,", !1).appendXtra("", m[2], Da(k[2], m[2]), f ? "%," : "%" + o, !1) : j.appendXtra(f ? "rgba(" : "rgb(", m[0], k[0] - m[0], ",", !0, !0).appendXtra("", m[1], k[1] - m[1], ",", !0).appendXtra("", m[2], k[2] - m[2], f ? "," : o, !0),
                    f && (m = 4 > m.length ? 1 : m[3],
                    j.appendXtra("", m, (4 > k.length ? 1 : k[3]) - m, o, !1))),
                    za.lastIndex = 0;
                else if (f = m.match(h)) {
                    if (p = k.match(D),
                    !p || p.length !== f.length)
                        return j;
                    for (k = o = 0; k < f.length; k++)
                        r = f[k],
                        n = m.indexOf(r, o),
                        j.appendXtra(m.substr(o, n - o), Number(r), Da(p[k], r), "", N && "px" === m.substr(n + r.length, 2), 0 === k),
                        o = n + r.length;
                    j["xs" + j.l] += m.substr(o)
                } else
                    j["xs" + j.l] += j.l || j["xs" + j.l] ? " " + k : k;
            if (-1 !== d.indexOf("=") && j.data) {
                o = j.xs0 + j.data.s;
                for (c = 1; c < j.l; c++)
                    o += j["xs" + c] + j.data["xn" + c];
                j.e = o + j["xs" + c]
            }
            return j.l || (j.type = -1,
            j.xs0 = j.e),
            j.xfirst || j
        }
          , sa = 9
          , n = qa.prototype;
        for (n.l = n.pr = 0; 0 < --sa; )
            n["xn" + sa] = 0,
            n["xs" + sa] = "";
        n.xs0 = "";
        n._next = n._prev = n.xfirst = n.data = n.plugin = n.setRatio = n.rxp = null;
        n.appendXtra = function(a, b, c, d, e, f) {
            var j = this.l;
            return this["xs" + j] += f && (j || this["xs" + j]) ? " " + a : a || "",
            c || 0 === j || this.plugin ? (this.l++,
            this.type = this.setRatio ? 2 : 1,
            this["xs" + this.l] = d || "",
            0 < j ? (this.data["xn" + j] = b + c,
            this.rxp["xn" + j] = e,
            this["xn" + j] = b,
            this.plugin || (this.xfirst = new qa(this,"xn" + j,b,c,this.xfirst || this,0,this.n,e,this.pr),
            this.xfirst.xs0 = 0),
            this) : (this.data = {
                s: b + c
            },
            this.rxp = {},
            this.s = b,
            this.c = c,
            this.r = e,
            this)) : (this["xs" + j] += b + (d || ""),
            this)
        }
        ;
        var xb = function(a, b) {
            b = b || {};
            this.p = b.prefix ? xa(a) || a : a;
            p[a] = p[this.p] = this;
            this.format = b.formatter || wb(b.defaultValue, b.color, b.collapsible, b.multi);
            b.parser && (this.parse = b.parser);
            this.clrs = b.color;
            this.multi = b.multi;
            this.keyword = b.keyword;
            this.dflt = b.defaultValue;
            this.pr = b.priority || 0
        }
          , ba = P._registerComplexSpecialProp = function(a, b, c) {
            "object" != typeof b && (b = {
                parser: c
            });
            for (var d = a.split(","), e = b.defaultValue, c = c || [e], a = 0; a < d.length; a++)
                b.prefix = 0 === a && b.prefix,
                b.defaultValue = c[a] || e,
                new xb(d[a],b)
        }
          , Ka = function(a) {
            if (!p[a]) {
                var b = a.charAt(0).toUpperCase() + a.substr(1) + "Plugin";
                ba(a, {
                    parser: function(a, c, d, e, f, j, g) {
                        var h = k.com.greensock.plugins[b];
                        h ? a = (h._cssRegister(),
                        p[d].parse(a, c, d, e, f, j, g)) : (window.console && console.log("Error: " + b + " js file not loaded."),
                        a = f);
                        return a
                    }
                })
            }
        }
          , n = xb.prototype;
        n.parseComplex = function(a, b, c, d, e, f) {
            var j, g, h, l, k, o, m = this.keyword;
            if (this.multi && (na.test(c) || na.test(b) ? (g = b.replace(na, "|").split("|"),
            h = c.replace(na, "|").split("|")) : m && (g = [b],
            h = [c])),
            h) {
                l = h.length > g.length ? h.length : g.length;
                for (j = 0; l > j; j++)
                    b = g[j] = g[j] || this.dflt,
                    c = h[j] = h[j] || this.dflt,
                    m && (k = b.indexOf(m),
                    o = c.indexOf(m),
                    k !== o && (-1 === o ? g[j] = g[j].split(m).join("") : -1 === k && (g[j] += " " + m)));
                b = g.join(", ");
                c = h.join(", ")
            }
            return bb(a, this.p, b, c, this.clrs, this.dflt, d, this.pr, e, f)
        }
        ;
        n.parse = function(a, b, c, d, f, j) {
            return this.parseComplex(a.style, this.format(aa(a, this.p, e, !1, this.dflt)), this.format(b), f, j)
        }
        ;
        g.registerSpecialProp = function(a, b, c) {
            ba(a, {
                parser: function(a, d, e, f, j, g) {
                    j = new qa(a,e,0,0,j,2,e,!1,c);
                    return j.plugin = g,
                    j.setRatio = b(a, d, f._tween, e),
                    j
                },
                priority: c
            })
        }
        ;
        g.useSVGTransformAttr = E || C;
        var Ia, yb = "scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "), la = xa("transform"), mb = ga + "transform", cb = xa("transformOrigin"), Ea = null !== xa("perspective"), nb = P.Transform = function() {
            this.perspective = parseFloat(g.defaultTransformPerspective) || 0;
            this.force3D = !1 !== g.defaultForce3D && Ea ? g.defaultForce3D || "auto" : !1
        }
        , Cb = window.SVGElement, Db = function(a, b, c) {
            var d, a = Q.createElementNS("http://www.w3.org/2000/svg", a), e = /([a-z])([A-Z])/g;
            for (d in c)
                a.setAttributeNS(null, d.replace(e, "$1-$2").toLowerCase(), c[d]);
            return b.appendChild(a),
            a
        }, ob = Q.documentElement, zb, pb, Ya, qb, Oa = m || /Android/i.test(X) && !window.chrome;
        zb = (Q.createElementNS && !Oa && (pb = Db("svg", ob),
        Ya = Db("rect", pb, {
            width: 100,
            height: 50,
            x: 100
        }),
        qb = Ya.getBoundingClientRect().width,
        Ya.style[cb] = "50% 50%",
        Ya.style[la] = "scaleX(0.5)",
        Oa = qb === Ya.getBoundingClientRect().width && !(C && Ea),
        ob.removeChild(pb)),
        Oa);
        var db = function(a, b, c, d, e, f) {
            var j, h, l, k, o, m, v, p, s, n, q, r, N, F = a._gsTransform, t = sb(a, !0);
            F && (r = F.xOrigin,
            N = F.yOrigin);
            (!d || 2 > (j = d.split(" ")).length) && (m = a.getBBox(),
            b = ka(b).split(" "),
            j = [(-1 !== b[0].indexOf("%") ? parseFloat(b[0]) / 100 * m.width : parseFloat(b[0])) + m.x, (-1 !== b[1].indexOf("%") ? parseFloat(b[1]) / 100 * m.height : parseFloat(b[1])) + m.y]);
            c.xOrigin = b = parseFloat(j[0]);
            c.yOrigin = k = parseFloat(j[1]);
            d && t !== Za && (o = t[0],
            m = t[1],
            v = t[2],
            p = t[3],
            s = t[4],
            n = t[5],
            q = o * p - m * v,
            h = b * (p / q) + k * (-v / q) + (v * n - p * s) / q,
            l = b * (-m / q) + k * (o / q) - (o * n - m * s) / q,
            b = c.xOrigin = j[0] = h,
            k = c.yOrigin = j[1] = l);
            F && (f && (c.xOffset = F.xOffset,
            c.yOffset = F.yOffset,
            F = c),
            e || !1 !== e && !1 !== g.defaultSmoothOrigin ? (h = b - r,
            l = k - N,
            F.xOffset += h * t[0] + l * t[2] - h,
            F.yOffset += h * t[1] + l * t[3] - l) : F.xOffset = F.yOffset = 0);
            f || a.setAttribute("data-svg-origin", j.join(" "))
        }
          , rb = function(a) {
            var b;
            if (b = Cb)
                if (b = a.getBBox)
                    if (b = a.getCTM) {
                        var c;
                        a: {
                            try {
                                c = a.getBBox();
                                break a
                            } catch (d) {}
                            c = void 0
                        }
                        b = c && (!a.parentNode || a.parentNode.getBBox && a.parentNode.getCTM)
                    }
            return !!b
        }
          , Za = [1, 0, 0, 1, 0, 0]
          , sb = function(a, b) {
            var c, d, e, f, j, g, l = a._gsTransform || new nb, k = a.style;
            if (la ? d = aa(a, mb, null, !0) : a.currentStyle && (d = a.currentStyle.filter.match(R),
            d = d && 4 === d.length ? [d[0].substr(4), Number(d[2].substr(4)), Number(d[1].substr(4)), d[3].substr(4), l.x || 0, l.y || 0].join() : ""),
            c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
            c && la && ((g = "none" === S(a).display) || !a.parentNode) && (g && (f = k.display,
            k.display = "block"),
            a.parentNode || (j = 1,
            ob.appendChild(a)),
            d = aa(a, mb, null, !0),
            c = !d || "none" === d || "matrix(1, 0, 0, 1, 0, 0)" === d,
            f ? k.display = f : g && Va(k, "display"),
            j && ob.removeChild(a)),
            (l.svg || a.getBBox && rb(a)) && (c && -1 !== (k[la] + "").indexOf("matrix") && (d = k[la],
            c = 0),
            e = a.getAttribute("transform"),
            c && e && (-1 !== e.indexOf("matrix") ? (d = e,
            c = 0) : -1 !== e.indexOf("translate") && (d = "matrix(1,0,0,1," + e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")",
            c = 0))),
            c)
                return Za;
            e = (d || "").match(h) || [];
            for (sa = e.length; -1 < --sa; )
                f = Number(e[sa]),
                e[sa] = (j = f - (f |= 0)) ? (1E5 * j + (0 > j ? -0.5 : 0.5) | 0) / 1E5 + f : f;
            return b && 6 < e.length ? [e[0], e[1], e[4], e[5], e[12], e[13]] : e
        }
          , Ja = P.getTransform = function(a, c, d, e) {
            if (a._gsTransform && d && !e)
                return a._gsTransform;
            var f, j, h, k = d ? a._gsTransform || new nb : new nb, o = 0 > k.scaleX, m = Ea ? parseFloat(aa(a, cb, c, !1, "0 0 0").split(" ")[2]) || k.zOrigin || 0 : 0, v = parseFloat(g.defaultTransformPerspective) || 0;
            if (k.svg = !(!a.getBBox || !rb(a)),
            k.svg && (db(a, aa(a, cb, c, !1, "50% 50%") + "", k, a.getAttribute("data-svg-origin")),
            Ia = g.useSVGTransformAttr || zb),
            f = sb(a),
            f !== Za) {
                if (16 === f.length) {
                    var p, s, n, q, v = f[0], c = f[1], e = f[2], r = f[3], F = f[4], N = f[5], t = f[6], fa = f[7], y = f[8], w = f[9], z = f[10], B = f[12], u = f[13], x = f[14], ga = f[11], S = Math.atan2(t, z);
                    k.zOrigin && (x = -k.zOrigin,
                    B = y * x - f[12],
                    u = w * x - f[13],
                    x = z * x + k.zOrigin - f[14]);
                    k.rotationX = S * J;
                    S && (q = Math.cos(-S),
                    h = Math.sin(-S),
                    p = F * q + y * h,
                    s = N * q + w * h,
                    n = t * q + z * h,
                    y = F * -h + y * q,
                    w = N * -h + w * q,
                    z = t * -h + z * q,
                    ga = fa * -h + ga * q,
                    F = p,
                    N = s,
                    t = n);
                    S = Math.atan2(-e, z);
                    k.rotationY = S * J;
                    S && (q = Math.cos(-S),
                    h = Math.sin(-S),
                    p = v * q - y * h,
                    s = c * q - w * h,
                    n = e * q - z * h,
                    w = c * h + w * q,
                    z = e * h + z * q,
                    ga = r * h + ga * q,
                    v = p,
                    c = s,
                    e = n);
                    S = Math.atan2(c, v);
                    k.rotation = S * J;
                    S && (q = Math.cos(-S),
                    h = Math.sin(-S),
                    v = v * q + F * h,
                    s = c * q + N * h,
                    N = c * -h + N * q,
                    t = e * -h + t * q,
                    c = s);
                    k.rotationX && 359.9 < Math.abs(k.rotationX) + Math.abs(k.rotation) && (k.rotationX = k.rotation = 0,
                    k.rotationY = 180 - k.rotationY);
                    k.scaleX = (1E5 * Math.sqrt(v * v + c * c) + 0.5 | 0) / 1E5;
                    k.scaleY = (1E5 * Math.sqrt(N * N + w * w) + 0.5 | 0) / 1E5;
                    k.scaleZ = (1E5 * Math.sqrt(t * t + z * z) + 0.5 | 0) / 1E5;
                    k.rotationX || k.rotationY ? k.skewX = 0 : (k.skewX = F || N ? Math.atan2(F, N) * J + k.rotation : k.skewX || 0,
                    90 < Math.abs(k.skewX) && 270 > Math.abs(k.skewX) && (o ? (k.scaleX *= -1,
                    k.skewX += 0 >= k.rotation ? 180 : -180,
                    k.rotation += 0 >= k.rotation ? 180 : -180) : (k.scaleY *= -1,
                    k.skewX += 0 >= k.skewX ? 180 : -180)));
                    k.perspective = ga ? 1 / (0 > ga ? -ga : ga) : 0;
                    k.x = B;
                    k.y = u;
                    k.z = x;
                    k.svg && (k.x -= k.xOrigin - (k.xOrigin * v - k.yOrigin * F),
                    k.y -= k.yOrigin - (k.yOrigin * c - k.xOrigin * N))
                } else if (!Ea || e || !f.length || k.x !== f[4] || k.y !== f[5] || !k.rotationX && !k.rotationY)
                    p = (q = 6 <= f.length) ? f[0] : 1,
                    s = f[1] || 0,
                    n = f[2] || 0,
                    q = q ? f[3] : 1,
                    k.x = f[4] || 0,
                    k.y = f[5] || 0,
                    f = Math.sqrt(p * p + s * s),
                    h = Math.sqrt(q * q + n * n),
                    c = p || s ? Math.atan2(s, p) * J : k.rotation || 0,
                    e = n || q ? Math.atan2(n, q) * J + c : k.skewX || 0,
                    90 < Math.abs(e) && 270 > Math.abs(e) && (o ? (f *= -1,
                    e += 0 >= c ? 180 : -180,
                    c += 0 >= c ? 180 : -180) : (h *= -1,
                    e += 0 >= e ? 180 : -180)),
                    k.scaleX = f,
                    k.scaleY = h,
                    k.rotation = c,
                    k.skewX = e,
                    Ea && (k.rotationX = k.rotationY = k.z = 0,
                    k.perspective = v,
                    k.scaleZ = 1),
                    k.svg && (k.x -= k.xOrigin - (k.xOrigin * p + k.yOrigin * n),
                    k.y -= k.yOrigin - (k.xOrigin * s + k.yOrigin * q));
                k.zOrigin = m;
                for (j in k)
                    2E-5 > k[j] && -2E-5 < k[j] && (k[j] = 0)
            }
            return d && (a._gsTransform = k,
            k.svg && (Ia && a.style[la] ? b.delayedCall(0.001, function() {
                Va(a.style, la)
            }) : !Ia && a.getAttribute("transform") && b.delayedCall(0.001, function() {
                a.removeAttribute("transform")
            }))),
            k
        }
          , Ob = function(a) {
            var b, c, d = this.data, e = -d.rotation * U, f = e + d.skewX * U, j = (1E5 * Math.cos(e) * d.scaleX | 0) / 1E5, g = (1E5 * Math.sin(e) * d.scaleX | 0) / 1E5, h = (1E5 * Math.sin(f) * -d.scaleY | 0) / 1E5, l = (1E5 * Math.cos(f) * d.scaleY | 0) / 1E5, f = this.t.style;
            if (e = this.t.currentStyle) {
                c = g;
                g = -h;
                h = -c;
                b = e.filter;
                f.filter = "";
                var k, o;
                c = this.t.offsetWidth;
                var v = this.t.offsetHeight
                  , p = "absolute" !== e.position
                  , s = "progid:DXImageTransform.Microsoft.Matrix(M11=" + j + ", M12=" + g + ", M21=" + h + ", M22=" + l
                  , n = d.x + c * d.xPercent / 100
                  , q = d.y + v * d.yPercent / 100;
                if (null != d.ox && (k = (d.oxp ? 0.01 * c * d.ox : d.ox) - c / 2,
                o = (d.oyp ? 0.01 * v * d.oy : d.oy) - v / 2,
                n += k - (k * j + o * g),
                q += o - (k * h + o * l)),
                p ? (k = c / 2,
                o = v / 2,
                s += ", Dx=" + (k - (k * j + o * g) + n) + ", Dy=" + (o - (k * h + o * l) + q) + ")") : s += ", sizingMethod='auto expand')",
                -1 !== b.indexOf("DXImageTransform.Microsoft.Matrix(") ? f.filter = b.replace(Ca, s) : f.filter = s + " " + b,
                (0 === a || 1 === a) && 1 === j && 0 === g && 0 === h && 1 === l && (p && -1 === s.indexOf("Dx=0, Dy=0") || G.test(b) && 100 !== parseFloat(RegExp.$1) || -1 === b.indexOf(b.indexOf("Alpha")) && f.removeAttribute("filter")),
                !p) {
                    a = 8 > m ? 1 : -1;
                    k = d.ieOffsetX || 0;
                    o = d.ieOffsetY || 0;
                    d.ieOffsetX = Math.round((c - ((0 > j ? -j : j) * c + (0 > g ? -g : g) * v)) / 2 + n);
                    d.ieOffsetY = Math.round((v - ((0 > l ? -l : l) * v + (0 > h ? -h : h) * c)) / 2 + q);
                    for (sa = 0; 4 > sa; sa++)
                        j = jb[sa],
                        g = e[j],
                        c = -1 !== g.indexOf("px") ? parseFloat(g) : Ba(this.t, j, parseFloat(g), g.replace(T, "")) || 0,
                        g = c !== d[j] ? 2 > sa ? -d.ieOffsetX : -d.ieOffsetY : 2 > sa ? k - d.ieOffsetX : o - d.ieOffsetY,
                        f[j] = (d[j] = Math.round(c - g * (0 === sa || 2 === sa ? 1 : a))) + "px"
                }
            }
        }
          , tb = P.set3DTransformRatio = P.setTransformRatio = function(a) {
            var b, c, d, e, f, j, g, h, l, k, o, m, v, p, s, n, q, r = this.data, N = this.t.style, F = r.rotation, t = r.rotationX, fa = r.rotationY, w = r.scaleX, y = r.scaleY, z = r.scaleZ, B = r.x, x = r.y, u = r.z, S = r.svg, ga = r.perspective;
            j = r.force3D;
            if (((1 === a || 0 === a) && "auto" === j && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !j) && !u && !ga && !fa && !t && 1 === z || Ia && S || !Ea)
                return void (F || r.skewX || S ? (F *= U,
                f = r.skewX * U,
                b = Math.cos(F) * w,
                d = Math.sin(F) * w,
                c = Math.sin(F - f) * -y,
                e = Math.cos(F - f) * y,
                f && "simple" === r.skewType && (n = Math.tan(f),
                n = Math.sqrt(1 + n * n),
                c *= n,
                e *= n,
                r.skewY && (b *= n,
                d *= n)),
                S && (B += r.xOrigin - (r.xOrigin * b + r.yOrigin * c) + r.xOffset,
                x += r.yOrigin - (r.xOrigin * d + r.yOrigin * e) + r.yOffset,
                Ia && (r.xPercent || r.yPercent) && (v = this.t.getBBox(),
                B += 0.01 * r.xPercent * v.width,
                x += 0.01 * r.yPercent * v.height),
                v = 1E-6,
                v > B && B > -v && (B = 0),
                v > x && x > -v && (x = 0)),
                m = (1E5 * b | 0) / 1E5 + "," + (1E5 * d | 0) / 1E5 + "," + (1E5 * c | 0) / 1E5 + "," + (1E5 * e | 0) / 1E5 + "," + B + "," + x + ")",
                S && Ia ? this.t.setAttribute("transform", "matrix(" + m) : N[la] = (r.xPercent || r.yPercent ? "translate(" + r.xPercent + "%," + r.yPercent + "%) matrix(" : "matrix(") + m) : N[la] = (r.xPercent || r.yPercent ? "translate(" + r.xPercent + "%," + r.yPercent + "%) matrix(" : "matrix(") + w + ",0,0," + y + "," + B + "," + x + ")");
            if (C && (v = 1E-4,
            v > w && w > -v && (w = z = 2E-5),
            v > y && y > -v && (y = z = 2E-5),
            !ga || r.z || r.rotationX || r.rotationY || (ga = 0)),
            F || r.skewX)
                F *= U,
                p = b = Math.cos(F),
                s = d = Math.sin(F),
                r.skewX && (F -= r.skewX * U,
                p = Math.cos(F),
                s = Math.sin(F),
                "simple" === r.skewType && (n = Math.tan(r.skewX * U),
                n = Math.sqrt(1 + n * n),
                p *= n,
                s *= n,
                r.skewY && (b *= n,
                d *= n))),
                c = -s,
                e = p;
            else {
                if (!fa && !t && !(1 !== z || ga || S))
                    return void (N[la] = (r.xPercent || r.yPercent ? "translate(" + r.xPercent + "%," + r.yPercent + "%) translate3d(" : "translate3d(") + B + "px," + x + "px," + u + "px)" + (1 !== w || 1 !== y ? " scale(" + w + "," + y + ")" : ""));
                b = e = 1;
                c = d = 0
            }
            h = 1;
            a = f = j = g = l = k = 0;
            o = ga ? -1 / ga : 0;
            m = r.zOrigin;
            v = 1E-6;
            (F = fa * U) && (p = Math.cos(F),
            s = Math.sin(F),
            j = -s,
            l = o * -s,
            a = b * s,
            f = d * s,
            h = p,
            o *= p,
            b *= p,
            d *= p);
            (F = t * U) && (p = Math.cos(F),
            s = Math.sin(F),
            n = c * p + a * s,
            q = e * p + f * s,
            g = h * s,
            k = o * s,
            a = c * -s + a * p,
            f = e * -s + f * p,
            h *= p,
            o *= p,
            c = n,
            e = q);
            1 !== z && (a *= z,
            f *= z,
            h *= z,
            o *= z);
            1 !== y && (c *= y,
            e *= y,
            g *= y,
            k *= y);
            1 !== w && (b *= w,
            d *= w,
            j *= w,
            l *= w);
            (m || S) && (m && (B += a * -m,
            x += f * -m,
            u += h * -m + m),
            S && (B += r.xOrigin - (r.xOrigin * b + r.yOrigin * c) + r.xOffset,
            x += r.yOrigin - (r.xOrigin * d + r.yOrigin * e) + r.yOffset),
            v > B && B > -v && (B = "0"),
            v > x && x > -v && (x = "0"),
            v > u && u > -v && (u = 0));
            m = r.xPercent || r.yPercent ? "translate(" + r.xPercent + "%," + r.yPercent + "%) matrix3d(" : "matrix3d(";
            m = m + ((v > b && b > -v ? "0" : b) + "," + (v > d && d > -v ? "0" : d) + "," + (v > j && j > -v ? "0" : j)) + ("," + (v > l && l > -v ? "0" : l) + "," + (v > c && c > -v ? "0" : c) + "," + (v > e && e > -v ? "0" : e));
            t || fa || 1 !== z ? (m += "," + (v > g && g > -v ? "0" : g) + "," + (v > k && k > -v ? "0" : k) + "," + (v > a && a > -v ? "0" : a),
            m += "," + (v > f && f > -v ? "0" : f) + "," + (v > h && h > -v ? "0" : h) + "," + (v > o && o > -v ? "0" : o) + ",") : m += ",0,0,0,0,1,0,";
            N[la] = m + (B + "," + x + "," + u + "," + (ga ? 1 + -u / ga : 1) + ")")
        }
          , n = nb.prototype;
        n.x = n.y = n.z = n.skewX = n.skewY = n.rotation = n.rotationX = n.rotationY = n.zOrigin = n.xPercent = n.yPercent = n.xOffset = n.yOffset = 0;
        n.scaleX = n.scaleY = n.scaleZ = 1;
        ba("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
            parser: function(a, b, c, d, f, j, h) {
                if (d._lastParsedTransform === h)
                    return f;
                d._lastParsedTransform = h;
                var l, k, o, m, v, p, n, r, b = a._gsTransform, q = a.style, F = yb.length, N = {}, t = Ja(a, e, !0, h.parseTransform);
                if (d._transform = t,
                "string" == typeof h.transform && la)
                    k = pa.style,
                    k[la] = h.transform,
                    k.display = "block",
                    k.position = "absolute",
                    Q.body.appendChild(pa),
                    l = Ja(pa, null, !1),
                    t.svg && (p = t.xOrigin,
                    n = t.yOrigin,
                    l.x -= t.xOffset,
                    l.y -= t.yOffset,
                    (h.transformOrigin || h.svgOrigin) && (o = {},
                    db(a, ka(h.transformOrigin), o, h.svgOrigin, h.smoothOrigin, !0),
                    p = o.xOrigin,
                    n = o.yOrigin,
                    l.x -= o.xOffset - t.xOffset,
                    l.y -= o.yOffset - t.yOffset),
                    (p || n) && (r = sb(pa, !0),
                    l.x -= p - (p * r[0] + n * r[2]),
                    l.y -= n - (p * r[1] + n * r[3]))),
                    Q.body.removeChild(pa),
                    l.perspective || (l.perspective = t.perspective),
                    null != h.xPercent && (l.xPercent = ua(h.xPercent, t.xPercent)),
                    null != h.yPercent && (l.yPercent = ua(h.yPercent, t.yPercent));
                else if ("object" == typeof h) {
                    if (l = {
                        scaleX: ua(null != h.scaleX ? h.scaleX : h.scale, t.scaleX),
                        scaleY: ua(null != h.scaleY ? h.scaleY : h.scale, t.scaleY),
                        scaleZ: ua(h.scaleZ, t.scaleZ),
                        x: ua(h.x, t.x),
                        y: ua(h.y, t.y),
                        z: ua(h.z, t.z),
                        xPercent: ua(h.xPercent, t.xPercent),
                        yPercent: ua(h.yPercent, t.yPercent),
                        perspective: ua(h.transformPerspective, t.perspective)
                    },
                    m = h.directionalRotation,
                    null != m)
                        if ("object" == typeof m)
                            for (k in m)
                                h[k] = m[k];
                        else
                            h.rotation = m;
                    "string" == typeof h.x && -1 !== h.x.indexOf("%") && (l.x = 0,
                    l.xPercent = ua(h.x, t.xPercent));
                    "string" == typeof h.y && -1 !== h.y.indexOf("%") && (l.y = 0,
                    l.yPercent = ua(h.y, t.yPercent));
                    l.rotation = Na("rotation"in h ? h.rotation : "shortRotation"in h ? h.shortRotation + "_short" : "rotationZ"in h ? h.rotationZ : t.rotation - t.skewY, t.rotation - t.skewY, "rotation", N);
                    Ea && (l.rotationX = Na("rotationX"in h ? h.rotationX : "shortRotationX"in h ? h.shortRotationX + "_short" : t.rotationX || 0, t.rotationX, "rotationX", N),
                    l.rotationY = Na("rotationY"in h ? h.rotationY : "shortRotationY"in h ? h.shortRotationY + "_short" : t.rotationY || 0, t.rotationY, "rotationY", N));
                    l.skewX = Na(h.skewX, t.skewX - t.skewY);
                    (l.skewY = Na(h.skewY, t.skewY)) && (l.skewX += l.skewY,
                    l.rotation += l.skewY)
                }
                Ea && null != h.force3D && (t.force3D = h.force3D,
                v = !0);
                t.skewType = h.skewType || t.skewType || g.defaultSkewType;
                for ((m = t.force3D || t.z || t.rotationX || t.rotationY || l.z || l.rotationX || l.rotationY || l.perspective) || null == h.scale || (l.scaleZ = 1); -1 < --F; )
                    c = yb[F],
                    o = l[c] - t[c],
                    (1E-6 < o || -1E-6 > o || null != h[c] || null != V[c]) && (v = !0,
                    f = new qa(t,c,t[c],o,f),
                    c in N && (f.e = N[c]),
                    f.xs0 = 0,
                    f.plugin = j,
                    d._overwriteProps.push(f.n));
                return o = h.transformOrigin,
                t.svg && (o || h.svgOrigin) && (p = t.xOffset,
                n = t.yOffset,
                db(a, ka(o), l, h.svgOrigin, h.smoothOrigin),
                f = lb(t, "xOrigin", (b ? t : l).xOrigin, l.xOrigin, f, "transformOrigin"),
                f = lb(t, "yOrigin", (b ? t : l).yOrigin, l.yOrigin, f, "transformOrigin"),
                (p !== t.xOffset || n !== t.yOffset) && (f = lb(t, "xOffset", b ? p : t.xOffset, t.xOffset, f, "transformOrigin"),
                f = lb(t, "yOffset", b ? n : t.yOffset, t.yOffset, f, "transformOrigin")),
                o = Ia ? null : "0px 0px"),
                (o || Ea && m && t.zOrigin) && (la ? (v = !0,
                c = cb,
                o = (o || aa(a, c, e, !1, "50% 50%")) + "",
                f = new qa(q,c,0,0,f,-1,"transformOrigin"),
                f.b = q[c],
                f.plugin = j,
                Ea ? (k = t.zOrigin,
                o = o.split(" "),
                t.zOrigin = (2 < o.length && (0 === k || "0px" !== o[2]) ? parseFloat(o[2]) : k) || 0,
                f.xs0 = f.e = o[0] + " " + (o[1] || "50%") + " 0px",
                f = new qa(t,"zOrigin",0,0,f,-1,f.n),
                f.b = k,
                f.xs0 = f.e = t.zOrigin) : f.xs0 = f.e = o) : ka(o + "", t)),
                v && (d._transformType = t.svg && Ia || !m && 3 !== this._transformType ? 2 : 3),
                f
            },
            prefix: !0
        });
        ba("boxShadow", {
            defaultValue: "0px 0px 0px 0px #999",
            prefix: !0,
            color: !0,
            multi: !0,
            keyword: "inset"
        });
        ba("borderRadius", {
            defaultValue: "0px",
            parser: function(a, b, c, f, j) {
                var b = this.format(b), g, h, l, k, m, v, p, n, r, q, t, F, N, w, fa = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], y = a.style, f = parseFloat(a.offsetWidth);
                n = parseFloat(a.offsetHeight);
                b = b.split(" ");
                for (g = 0; g < fa.length; g++)
                    this.p.indexOf("border") && (fa[g] = xa(fa[g])),
                    k = l = aa(a, fa[g], e, !1, "0px"),
                    -1 !== k.indexOf(" ") && (l = k.split(" "),
                    k = l[0],
                    l = l[1]),
                    m = h = b[g],
                    v = parseFloat(k),
                    q = k.substr((v + "").length),
                    (t = "=" === m.charAt(1)) ? (p = parseInt(m.charAt(0) + "1", 10),
                    m = m.substr(2),
                    p *= parseFloat(m),
                    r = m.substr((p + "").length - (0 > p ? 1 : 0)) || "") : (p = parseFloat(m),
                    r = m.substr((p + "").length)),
                    "" === r && (r = d[c] || q),
                    r !== q && (F = Ba(a, "borderLeft", v, q),
                    N = Ba(a, "borderTop", v, q),
                    "%" === r ? (k = 100 * (F / f) + "%",
                    l = 100 * (N / n) + "%") : "em" === r ? (w = Ba(a, "borderLeft", 1, "em"),
                    k = F / w + "em",
                    l = N / w + "em") : (k = F + "px",
                    l = N + "px"),
                    t && (m = parseFloat(k) + p + r,
                    h = parseFloat(l) + p + r)),
                    j = bb(y, fa[g], k + " " + l, m + " " + h, !1, "0px", j);
                return j
            },
            prefix: !0,
            formatter: wb("0px 0px 0px 0px", !1, !0)
        });
        ba("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
            defaultValue: "0px",
            parser: function(a, b, c, d, f) {
                return bb(a.style, c, this.format(aa(a, c, e, !1, "0px 0px")), this.format(b), !1, "0px", f)
            },
            prefix: !0,
            formatter: wb("0px 0px", !1, !0)
        });
        ba("backgroundPosition", {
            defaultValue: "0 0",
            parser: function(a, b, c, d, f, j) {
                var g, h, l, c = e || S(a, null), c = this.format((c ? m ? c.getPropertyValue("background-position-x") + " " + c.getPropertyValue("background-position-y") : c.getPropertyValue("background-position") : a.currentStyle.backgroundPositionX + " " + a.currentStyle.backgroundPositionY) || "0 0"), k = this.format(b);
                if (-1 !== c.indexOf("%") != (-1 !== k.indexOf("%")) && 2 > k.split(",").length && (g = aa(a, "backgroundImage").replace(ta, ""),
                g && "none" !== g)) {
                    b = c.split(" ");
                    d = k.split(" ");
                    Z.setAttribute("src", g);
                    for (g = 2; -1 < --g; )
                        c = b[g],
                        h = -1 !== c.indexOf("%"),
                        h !== (-1 !== d[g].indexOf("%")) && (l = 0 === g ? a.offsetWidth - Z.width : a.offsetHeight - Z.height,
                        b[g] = h ? parseFloat(c) / 100 * l + "px" : 100 * (parseFloat(c) / l) + "%");
                    c = b.join(" ")
                }
                return this.parseComplex(a.style, c, k, f, j)
            },
            formatter: ka
        });
        ba("backgroundSize", {
            defaultValue: "0 0",
            formatter: ka
        });
        ba("perspective", {
            defaultValue: "0px",
            prefix: !0
        });
        ba("perspectiveOrigin", {
            defaultValue: "50% 50%",
            prefix: !0
        });
        ba("transformStyle", {
            prefix: !0
        });
        ba("backfaceVisibility", {
            prefix: !0
        });
        ba("userSelect", {
            prefix: !0
        });
        ba("margin", {
            parser: kb("marginTop,marginRight,marginBottom,marginLeft")
        });
        ba("padding", {
            parser: kb("paddingTop,paddingRight,paddingBottom,paddingLeft")
        });
        ba("clip", {
            defaultValue: "rect(0px,0px,0px,0px)",
            parser: function(a, b, c, d, f, j) {
                var g, h, l;
                return 9 > m ? (h = a.currentStyle,
                l = 8 > m ? " " : ",",
                g = "rect(" + h.clipTop + l + h.clipRight + l + h.clipBottom + l + h.clipLeft + ")",
                b = this.format(b).split(",").join(l)) : (g = this.format(aa(a, this.p, e, !1, this.dflt)),
                b = this.format(b)),
                this.parseComplex(a.style, g, b, f, j)
            }
        });
        ba("textShadow", {
            defaultValue: "0px 0px 0px #999",
            color: !0,
            multi: !0
        });
        ba("autoRound,strictUnits", {
            parser: function(a, b, c, d, e) {
                return e
            }
        });
        ba("border", {
            defaultValue: "0px solid #000",
            parser: function(a, b, c, d, f, j) {
                c = aa(a, "borderTopWidth", e, !1, "0px");
                b = this.format(b).split(" ");
                d = b[0].replace(T, "");
                return "px" !== d && (c = parseFloat(c) / Ba(a, "borderTopWidth", 1, d) + d),
                this.parseComplex(a.style, this.format(c + " " + aa(a, "borderTopStyle", e, !1, "solid") + " " + aa(a, "borderTopColor", e, !1, "#000")), b.join(" "), f, j)
            },
            color: !0,
            formatter: function(a) {
                var b = a.split(" ");
                return b[0] + " " + (b[1] || "solid") + " " + (a.match(za) || ["#000"])[0]
            }
        });
        ba("borderWidth", {
            parser: kb("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
        });
        ba("float,cssFloat,styleFloat", {
            parser: function(a, b, c, d, e) {
                a = a.style;
                d = "cssFloat"in a ? "cssFloat" : "styleFloat";
                return new qa(a,d,0,0,e,-1,c,!1,0,a[d],b)
            }
        });
        var L = function(a) {
            var b, c = this.t, d = c.filter || aa(this.data, "filter") || "", a = this.s + this.c * a | 0;
            100 === a && (-1 === d.indexOf("atrix(") && -1 === d.indexOf("radient(") && -1 === d.indexOf("oader(") ? (c.removeAttribute("filter"),
            b = !aa(this.data, "filter")) : (c.filter = d.replace(W, ""),
            b = !0));
            b || (this.xn1 && (c.filter = d = d || "alpha(opacity=" + a + ")"),
            -1 === d.indexOf("pacity") ? 0 === a && this.xn1 || (c.filter = d + " alpha(opacity=" + a + ")") : c.filter = d.replace(G, "opacity=" + a))
        };
        ba("opacity,alpha,autoAlpha", {
            defaultValue: "1",
            parser: function(a, b, c, d, f, j) {
                var g = parseFloat(aa(a, "opacity", e, !1, "1"))
                  , h = a.style
                  , l = "autoAlpha" === c;
                return "string" == typeof b && "=" === b.charAt(1) && (b = ("-" === b.charAt(0) ? -1 : 1) * parseFloat(b.substr(2)) + g),
                l && 1 === g && "hidden" === aa(a, "visibility", e) && 0 !== b && (g = 0),
                v ? f = new qa(h,"opacity",g,b - g,f) : (f = new qa(h,"opacity",100 * g,100 * (b - g),f),
                f.xn1 = l ? 1 : 0,
                h.zoom = 1,
                f.type = 2,
                f.b = "alpha(opacity=" + f.s + ")",
                f.e = "alpha(opacity=" + (f.s + f.c) + ")",
                f.data = a,
                f.plugin = j,
                f.setRatio = L),
                l && (f = new qa(h,"visibility",0,0,f,-1,null,!1,0,0 !== g ? "inherit" : "hidden",0 === b ? "hidden" : "inherit"),
                f.xs0 = "inherit",
                d._overwriteProps.push(f.n),
                d._overwriteProps.push(c)),
                f
            }
        });
        var Va = function(a, b) {
            b && (a.removeProperty ? (("ms" === b.substr(0, 2) || "webkit" === b.substr(0, 6)) && (b = "-" + b),
            a.removeProperty(b.replace(Aa, "-$1").toLowerCase())) : a.removeAttribute(b))
        }
          , O = function(a) {
            if (this.t._gsClassPT = this,
            1 === a || 0 === a) {
                this.t.setAttribute("class", 0 === a ? this.b : this.e);
                for (var b = this.data, c = this.t.style; b; )
                    b.v ? c[b.p] = b.v : Va(c, b.p),
                    b = b._next;
                1 === a && this.t._gsClassPT === this && (this.t._gsClassPT = null)
            } else
                this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
        };
        ba("className", {
            parser: function(a, b, d, f, g, h, l) {
                var k, o, m, v, p = a.getAttribute("class") || "", n = a.style.cssText;
                if (g = f._classNamePT = new qa(a,d,0,0,g,2),
                g.setRatio = O,
                g.pr = -11,
                c = !0,
                g.b = p,
                d = Sa(a, e),
                o = a._gsClassPT) {
                    m = {};
                    for (v = o.data; v; )
                        m[v.p] = 1,
                        v = v._next;
                    o.setRatio(1)
                }
                return a._gsClassPT = g,
                g.e = "=" !== b.charAt(1) ? b : p.replace(RegExp("(?:\\s|^)" + b.substr(2) + "(?![\\w-])"), "") + ("+" === b.charAt(0) ? " " + b.substr(2) : ""),
                a.setAttribute("class", g.e),
                k = Ma(a, d, Sa(a), l, m),
                a.setAttribute("class", p),
                g.data = k.firstMPT,
                a.style.cssText = n,
                g.xfirst = f.parse(a, k.difs, g, h)
            }
        });
        var Eb = function(a) {
            if ((1 === a || 0 === a) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                var b, c, d, e, f = this.t.style, j = p.transform.parse;
                if ("all" === this.e)
                    f.cssText = "",
                    d = !0;
                else {
                    a = this.e.split(" ").join("").split(",");
                    for (c = a.length; -1 < --c; )
                        b = a[c],
                        p[b] && (p[b].parse === j ? d = !0 : b = "transformOrigin" === b ? cb : p[b].p),
                        Va(f, b)
                }
                d && (Va(f, la),
                e = this.t._gsTransform,
                e && (e.svg && (this.t.removeAttribute("data-svg-origin"),
                this.t.removeAttribute("transform")),
                delete this.t._gsTransform))
            }
        };
        ba("clearProps", {
            parser: function(a, b, d, e, f) {
                return f = new qa(a,d,0,0,f,2),
                f.setRatio = Eb,
                f.e = b,
                f.pr = -10,
                f.data = e._tween,
                c = !0,
                f
            }
        });
        n = ["bezier", "throwProps", "physicsProps", "physics2D"];
        for (sa = n.length; sa--; )
            Ka(n[sa]);
        n = g.prototype;
        n._firstPT = n._lastParsedTransform = n._transform = null;
        n._onInitTween = function(a, b, h) {
            if (!a.nodeType)
                return !1;
            this._target = a;
            this._tween = h;
            this._vars = b;
            q = b.autoRound;
            c = !1;
            d = b.suffixMap || g.suffixMap;
            e = S(a, "");
            f = this._overwriteProps;
            var l, k, m, n, r, t;
            t = a.style;
            if (A && "" === t.zIndex && (l = aa(a, "zIndex", e),
            ("auto" === l || "" === l) && this._addLazySet(t, "zIndex", 0)),
            "string" == typeof b && (n = t.cssText,
            l = Sa(a, e),
            t.cssText = n + ";" + b,
            l = Ma(a, l, Sa(a)).difs,
            !v && ha.test(b) && (l.opacity = parseFloat(RegExp.$1)),
            b = l,
            t.cssText = n),
            b.className ? this._firstPT = k = p.className.parse(a, b.className, "className", this, null, null, b) : this._firstPT = k = this.parse(a, b, null),
            this._transformType) {
                b = 3 === this._transformType;
                la ? E && (A = !0,
                "" === t.zIndex && (m = aa(a, "zIndex", e),
                ("auto" === m || "" === m) && this._addLazySet(t, "zIndex", 0)),
                u && this._addLazySet(t, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (b ? "visible" : "hidden"))) : t.zoom = 1;
                for (m = k; m && m._next; )
                    m = m._next;
                t = new qa(a,"transform",0,0,null,2);
                this._linkCSSP(t, null, m);
                t.setRatio = la ? tb : Ob;
                t.data = this._transform || Ja(a, e, !0);
                t.tween = h;
                t.pr = -1;
                f.pop()
            }
            if (c) {
                for (; k; ) {
                    a = k._next;
                    for (m = n; m && m.pr > k.pr; )
                        m = m._next;
                    (k._prev = m ? m._prev : r) ? k._prev._next = k : n = k;
                    (k._next = m) ? m._prev = k : r = k;
                    k = a
                }
                this._firstPT = n
            }
            return !0
        }
        ;
        n.parse = function(a, b, c, f) {
            var j, g, h, l, k, m, v, n, r, t = a.style;
            for (j in b) {
                k = b[j];
                if (g = p[j])
                    c = g.parse(a, k, j, this, c, f, b);
                else if (g = aa(a, j, e) + "",
                n = "string" == typeof k,
                "color" === j || "fill" === j || "stroke" === j || -1 !== j.indexOf("Color") || n && ea.test(k))
                    n || (k = M(k),
                    k = (3 < k.length ? "rgba(" : "rgb(") + k.join(",") + ")"),
                    c = bb(t, j, g, k, !0, "transparent", c, 0, f);
                else if (n && Y.test(k))
                    c = bb(t, j, g, k, !0, null, c, 0, f);
                else {
                    m = (h = parseFloat(g)) || 0 === h ? g.substr((h + "").length) : "";
                    if ("" === g || "auto" === g)
                        if ("width" === j || "height" === j) {
                            h = a;
                            var F = j;
                            m = e;
                            if ("svg" === (h.nodeName + "").toLowerCase())
                                h = (m || S(h))[F] || 0;
                            else if (h.getBBox && rb(h))
                                h = h.getBBox()[F] || 0;
                            else {
                                r = parseFloat("width" === F ? h.offsetWidth : h.offsetHeight);
                                var F = ib[F]
                                  , N = F.length;
                                for (m = m || S(h, null); -1 < --N; )
                                    r -= parseFloat(aa(h, "padding" + F[N], m, !0)) || 0,
                                    r -= parseFloat(aa(h, "border" + F[N] + "Width", m, !0)) || 0;
                                h = r
                            }
                            m = "px"
                        } else
                            "left" === j || "top" === j ? (h = ra(a, j, e),
                            m = "px") : (h = "opacity" !== j ? 0 : 1,
                            m = "");
                    (r = n && "=" === k.charAt(1)) ? (l = parseInt(k.charAt(0) + "1", 10),
                    k = k.substr(2),
                    l *= parseFloat(k),
                    v = k.replace(T, "")) : (l = parseFloat(k),
                    v = n ? k.replace(T, "") : "");
                    "" === v && (v = j in d ? d[j] : m);
                    k = l || 0 === l ? (r ? l + h : l) + v : b[j];
                    m !== v && "" !== v && (l || 0 === l) && h && (h = Ba(a, j, h, m),
                    "%" === v ? (h /= Ba(a, j, 100, "%") / 100,
                    !0 !== b.strictUnits && (g = h + "%")) : "em" === v || "rem" === v || "vw" === v || "vh" === v ? h /= Ba(a, j, 1, v) : "px" !== v && (l = Ba(a, j, l, v),
                    v = "px"),
                    r && (l || 0 === l) && (k = l + h + v));
                    r && (l += h);
                    !h && 0 !== h || !l && 0 !== l ? void 0 !== t[j] && (k || "NaN" != k + "" && null != k) ? (c = new qa(t,j,l || h || 0,0,c,-1,j,!1,0,g,k),
                    c.xs0 = "none" !== k || "display" !== j && -1 === j.indexOf("Style") ? k : g) : window.console && console.log("invalid " + j + " tween value: " + b[j]) : (c = new qa(t,j,h,l - h,c,0,j,!1 !== q && ("px" === v || "zIndex" === j),0,g,k),
                    c.xs0 = v)
                }
                f && c && !c.plugin && (c.plugin = f)
            }
            return c
        }
        ;
        n.setRatio = function(a) {
            var b, c, d, e = this._firstPT;
            if (1 !== a || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                if (a || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1E-6 === this._tween._rawPrevTime)
                    for (; e; ) {
                        if (b = e.c * a + e.s,
                        e.r ? b = Math.round(b) : 1E-6 > b && -1E-6 < b && (b = 0),
                        e.type)
                            if (1 === e.type)
                                if (d = e.l,
                                2 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2;
                                else if (3 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3;
                                else if (4 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4;
                                else if (5 === d)
                                    e.t[e.p] = e.xs0 + b + e.xs1 + e.xn1 + e.xs2 + e.xn2 + e.xs3 + e.xn3 + e.xs4 + e.xn4 + e.xs5;
                                else {
                                    c = e.xs0 + b + e.xs1;
                                    for (d = 1; d < e.l; d++)
                                        c += e["xn" + d] + e["xs" + (d + 1)];
                                    e.t[e.p] = c
                                }
                            else
                                -1 === e.type ? e.t[e.p] = e.xs0 : e.setRatio && e.setRatio(a);
                        else
                            e.t[e.p] = b + e.xs0;
                        e = e._next
                    }
                else
                    for (; e; )
                        2 !== e.type ? e.t[e.p] = e.b : e.setRatio(a),
                        e = e._next;
            else
                for (; e; ) {
                    if (2 !== e.type)
                        if (e.r && -1 !== e.type)
                            if (b = Math.round(e.s + e.c),
                            e.type) {
                                if (1 === e.type) {
                                    c = e.xs0 + b + e.xs1;
                                    for (d = 1; d < e.l; d++)
                                        c += e["xn" + d] + e["xs" + (d + 1)];
                                    e.t[e.p] = c
                                }
                            } else
                                e.t[e.p] = b + e.xs0;
                        else
                            e.t[e.p] = e.e;
                    else
                        e.setRatio(a);
                    e = e._next
                }
        }
        ;
        n._enableTransforms = function(a) {
            this._transform = this._transform || Ja(this._target, e, !0);
            this._transformType = this._transform.svg && Ia || !a && 3 !== this._transformType ? 2 : 3
        }
        ;
        var Pb = function() {
            this.t[this.p] = this.e;
            this.data._linkCSSP(this, this._next, null, !0)
        };
        n._addLazySet = function(a, b, c) {
            a = this._firstPT = new qa(a,b,0,0,this._firstPT,2);
            a.e = c;
            a.setRatio = Pb;
            a.data = this
        }
        ;
        n._linkCSSP = function(a, b, c, d) {
            return a && (b && (b._prev = a),
            a._next && (a._next._prev = a._prev),
            a._prev ? a._prev._next = a._next : this._firstPT === a && (this._firstPT = a._next,
            d = !0),
            c ? c._next = a : d || null !== this._firstPT || (this._firstPT = a),
            a._next = b,
            a._prev = c),
            a
        }
        ;
        n._kill = function(b) {
            var c, d, e, f = b;
            if (b.autoAlpha || b.alpha) {
                f = {};
                for (d in b)
                    f[d] = b[d];
                f.opacity = 1;
                f.autoAlpha && (f.visibility = 1)
            }
            return b.className && (c = this._classNamePT) && (e = c.xfirst,
            e && e._prev ? this._linkCSSP(e._prev, c._next, e._prev._prev) : e === this._firstPT && (this._firstPT = c._next),
            c._next && this._linkCSSP(c._next, c._next._next, e._prev),
            this._classNamePT = null),
            a.prototype._kill.call(this, f)
        }
        ;
        var Pa = function(a, b, c) {
            var d, e, f;
            if (a.slice)
                for (d = a.length; -1 < --d; )
                    Pa(a[d], b, c);
            else {
                a = a.childNodes;
                for (d = a.length; -1 < --d; )
                    e = a[d],
                    f = e.type,
                    e.style && (b.push(Sa(e)),
                    c && c.push(e)),
                    1 !== f && 9 !== f && 11 !== f || !e.childNodes.length || Pa(e, b, c)
            }
        };
        return g.cascadeTo = function(a, c, d) {
            var e, f, j;
            j = b.to(a, c, d);
            var g = [j]
              , h = []
              , k = []
              , o = []
              , m = b._internals.reservedProps
              , a = j._targets || j.target;
            Pa(a, h, o);
            j.render(c, !0, !0);
            Pa(a, k);
            j.render(0, !0, !0);
            j._enabled(!0);
            for (a = o.length; -1 < --a; )
                if (e = Ma(o[a], h[a], k[a]),
                e.firstMPT) {
                    e = e.difs;
                    for (f in d)
                        m[f] && (e[f] = d[f]);
                    j = {};
                    for (f in e)
                        j[f] = h[a][f];
                    g.push(b.fromTo(o[a], c, j, e))
                }
            return g
        }
        ,
        a.activate([g]),
        g
    }, !0);
    q = _gsScope._gsDefine.plugin({
        propName: "roundProps",
        version: "1.5",
        priority: -1,
        API: 2,
        init: function(a, b, c) {
            return this._tween = c,
            !0
        }
    }).prototype;
    q._onInitAllProps = function() {
        for (var a, b, c, d = this._tween, e = d.vars.roundProps.join ? d.vars.roundProps : d.vars.roundProps.split(","), f = e.length, g = {}, k = d._propLookup.roundProps; -1 < --f; )
            g[e[f]] = 1;
        for (f = e.length; -1 < --f; ) {
            a = e[f];
            for (b = d._firstPT; b; ) {
                c = b._next;
                if (b.pg)
                    b.t._roundProps(g, !0);
                else if (b.n === a)
                    if (2 === b.f && b.t)
                        for (b = b.t._firstPT; b; )
                            b.f || b.blob || (b.r = 1),
                            b = b._next;
                    else
                        this._add(b.t, a, b.s, b.c),
                        c && (c._prev = b._prev),
                        b._prev ? b._prev._next = c : d._firstPT === b && (d._firstPT = c),
                        b._next = b._prev = null,
                        d._propLookup[a] = k;
                b = c
            }
        }
        return !1
    }
    ;
    q._add = function(a, b, c, d) {
        this._addTween(a, b, c, c + d, b, !0);
        this._overwriteProps.push(b)
    }
    ;
    _gsScope._gsDefine.plugin({
        propName: "attr",
        API: 2,
        version: "0.5.0",
        init: function(a, b) {
            var c;
            if ("function" != typeof a.setAttribute)
                return !1;
            for (c in b)
                this._addTween(a, "setAttribute", a.getAttribute(c) + "", b[c] + "", c, !1, c),
                this._overwriteProps.push(c);
            return !0
        }
    });
    _gsScope._gsDefine.plugin({
        propName: "directionalRotation",
        version: "0.2.1",
        API: 2,
        init: function(a, b) {
            "object" != typeof b && (b = {
                rotation: b
            });
            this.finals = {};
            var c, d, e, f, g, k, p = !0 === b.useRadians ? 2 * Math.PI : 360;
            for (c in b)
                "useRadians" !== c && (k = (b[c] + "").split("_"),
                d = k[0],
                e = parseFloat("function" != typeof a[c] ? a[c] : a[c.indexOf("set") || "function" != typeof a["get" + c.substr(3)] ? c : "get" + c.substr(3)]()),
                f = this.finals[c] = "string" == typeof d && "=" === d.charAt(1) ? e + parseInt(d.charAt(0) + "1", 10) * Number(d.substr(2)) : Number(d) || 0,
                g = f - e,
                k.length && (d = k.join("_"),
                -1 !== d.indexOf("short") && (g %= p,
                g !== g % (p / 2) && (g = 0 > g ? g + p : g - p)),
                -1 !== d.indexOf("_cw") && 0 > g ? g = (g + 9999999999 * p) % p - (g / p | 0) * p : -1 !== d.indexOf("ccw") && 0 < g && (g = (g - 9999999999 * p) % p - (g / p | 0) * p)),
                (1E-6 < g || -1E-6 > g) && (this._addTween(a, c, e, e + g, c),
                this._overwriteProps.push(c)));
            return !0
        },
        set: function(a) {
            if (1 !== a)
                this._super.setRatio.call(this, a);
            else
                for (a = this._firstPT; a; )
                    a.f ? a.t[a.p](this.finals[a.p]) : a.t[a.p] = this.finals[a.p],
                    a = a._next
        }
    })._autoCSS = !0;
    _gsScope._gsDefine("easing.Back", ["easing.Ease"], function(a) {
        var b, c, d, e = _gsScope.GreenSockGlobals || _gsScope, f = 2 * Math.PI, g = Math.PI / 2, k = e.com.greensock._class, p = function(b, c) {
            var d = k("easing." + b, function() {}, !0)
              , e = d.prototype = new a;
            return e.constructor = d,
            e.getRatio = c,
            d
        }, n = a.register || function() {}
        , q = function(a, b, c, d) {
            b = k("easing." + a, {
                easeOut: new b,
                easeIn: new c,
                easeInOut: new d
            }, !0);
            return n(b, a),
            b
        }, A = function(a, b, c) {
            this.t = a;
            this.v = b;
            c && (this.next = c,
            c.prev = this,
            this.c = c.v - b,
            this.gap = c.t - a)
        }, E = function(b, c) {
            var d = k("easing." + b, function(a) {
                this._p1 = a || 0 === a ? a : 1.70158;
                this._p2 = 1.525 * this._p1
            }, !0)
              , e = d.prototype = new a;
            return e.constructor = d,
            e.getRatio = c,
            e.config = function(a) {
                return new d(a)
            }
            ,
            d
        }, E = q("Back", E("BackOut", function(a) {
            return (a -= 1) * a * ((this._p1 + 1) * a + this._p1) + 1
        }), E("BackIn", function(a) {
            return a * a * ((this._p1 + 1) * a - this._p1)
        }), E("BackInOut", function(a) {
            return 1 > (a *= 2) ? 0.5 * a * a * ((this._p2 + 1) * a - this._p2) : 0.5 * ((a -= 2) * a * ((this._p2 + 1) * a + this._p2) + 2)
        })), C = k("easing.SlowMo", function(a, b, c) {
            null == a ? a = 0.7 : 1 < a && (a = 1);
            this._p = 1 !== a ? b || 0 === b ? b : 0.7 : 0;
            this._p1 = (1 - a) / 2;
            this._p2 = a;
            this._p3 = this._p1 + this._p2;
            this._calcEnd = !0 === c
        }, !0), u = C.prototype = new a;
        return u.constructor = C,
        u.getRatio = function(a) {
            var b = a + (0.5 - a) * this._p;
            return a < this._p1 ? this._calcEnd ? 1 - (a = 1 - a / this._p1) * a : b - (a = 1 - a / this._p1) * a * a * a * b : a > this._p3 ? this._calcEnd ? 1 - (a = (a - this._p3) / this._p1) * a : b + (a - b) * (a = (a - this._p3) / this._p1) * a * a * a : this._calcEnd ? 1 : b
        }
        ,
        C.ease = new C(0.7,0.7),
        u.config = C.config = function(a, b, c) {
            return new C(a,b,c)
        }
        ,
        b = k("easing.SteppedEase", function(a) {
            a = a || 1;
            this._p1 = 1 / a;
            this._p2 = a + 1
        }, !0),
        u = b.prototype = new a,
        u.constructor = b,
        u.getRatio = function(a) {
            return 0 > a ? a = 0 : 1 <= a && (a = 0.999999999),
            (this._p2 * a >> 0) * this._p1
        }
        ,
        u.config = b.config = function(a) {
            return new b(a)
        }
        ,
        c = k("easing.RoughEase", function(b) {
            for (var b = b || {}, c, d, e, f, j = b.taper || "none", g = [], k = 0, l = f = 0 | (b.points || 20), o = !1 !== b.randomize, p = !0 === b.clamp, s = b.template instanceof a ? b.template : null, n = "number" == typeof b.strength ? 0.4 * b.strength : 0.4; -1 < --l; )
                b = o ? Math.random() : 1 / f * l,
                c = s ? s.getRatio(b) : b,
                "none" === j ? d = n : "out" === j ? (e = 1 - b,
                d = e * e * n) : "in" === j ? d = b * b * n : 0.5 > b ? (e = 2 * b,
                d = 0.5 * (e * e) * n) : (e = 2 * (1 - b),
                d = 0.5 * (e * e) * n),
                o ? c += Math.random() * d - 0.5 * d : l % 2 ? c += 0.5 * d : c -= 0.5 * d,
                p && (1 < c ? c = 1 : 0 > c && (c = 0)),
                g[k++] = {
                    x: b,
                    y: c
                };
            g.sort(function(a, b) {
                return a.x - b.x
            });
            d = new A(1,1,null);
            for (l = f; -1 < --l; )
                f = g[l],
                d = new A(f.x,f.y,d);
            this._prev = new A(0,0,0 !== d.t ? d : d.next)
        }, !0),
        u = c.prototype = new a,
        u.constructor = c,
        u.getRatio = function(a) {
            var b = this._prev;
            if (a > b.t) {
                for (; b.next && a >= b.t; )
                    b = b.next;
                b = b.prev
            } else
                for (; b.prev && a <= b.t; )
                    b = b.prev;
            return this._prev = b,
            b.v + (a - b.t) / b.gap * b.c
        }
        ,
        u.config = function(a) {
            return new c(a)
        }
        ,
        c.ease = new c,
        q("Bounce", p("BounceOut", function(a) {
            return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + 0.75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + 0.9375 : 7.5625 * (a -= 2.625 / 2.75) * a + 0.984375
        }), p("BounceIn", function(a) {
            return (a = 1 - a) < 1 / 2.75 ? 1 - 7.5625 * a * a : 2 / 2.75 > a ? 1 - (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) : 2.5 / 2.75 > a ? 1 - (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) : 1 - (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375)
        }), p("BounceInOut", function(a) {
            var b = 0.5 > a;
            return a = b ? 1 - 2 * a : 2 * a - 1,
            a = 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + 0.75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + 0.9375 : 7.5625 * (a -= 2.625 / 2.75) * a + 0.984375,
            b ? 0.5 * (1 - a) : 0.5 * a + 0.5
        })),
        q("Circ", p("CircOut", function(a) {
            return Math.sqrt(1 - (a -= 1) * a)
        }), p("CircIn", function(a) {
            return -(Math.sqrt(1 - a * a) - 1)
        }), p("CircInOut", function(a) {
            return 1 > (a *= 2) ? -0.5 * (Math.sqrt(1 - a * a) - 1) : 0.5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
        })),
        d = function(b, c, d) {
            var e = k("easing." + b, function(a, b) {
                this._p1 = 1 <= a ? a : 1;
                this._p2 = (b || d) / (1 > a ? a : 1);
                this._p3 = this._p2 / f * (Math.asin(1 / this._p1) || 0);
                this._p2 = f / this._p2
            }, !0)
              , b = e.prototype = new a;
            return b.constructor = e,
            b.getRatio = c,
            b.config = function(a, b) {
                return new e(a,b)
            }
            ,
            e
        }
        ,
        q("Elastic", d("ElasticOut", function(a) {
            return this._p1 * Math.pow(2, -10 * a) * Math.sin((a - this._p3) * this._p2) + 1
        }, 0.3), d("ElasticIn", function(a) {
            return -(this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2))
        }, 0.3), d("ElasticInOut", function(a) {
            return 1 > (a *= 2) ? -0.5 * this._p1 * Math.pow(2, 10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) : 0.5 * this._p1 * Math.pow(2, -10 * (a -= 1)) * Math.sin((a - this._p3) * this._p2) + 1
        }, 0.45)),
        q("Expo", p("ExpoOut", function(a) {
            return 1 - Math.pow(2, -10 * a)
        }), p("ExpoIn", function(a) {
            return Math.pow(2, 10 * (a - 1)) - 0.001
        }), p("ExpoInOut", function(a) {
            return 1 > (a *= 2) ? 0.5 * Math.pow(2, 10 * (a - 1)) : 0.5 * (2 - Math.pow(2, -10 * (a - 1)))
        })),
        q("Sine", p("SineOut", function(a) {
            return Math.sin(a * g)
        }), p("SineIn", function(a) {
            return -Math.cos(a * g) + 1
        }), p("SineInOut", function(a) {
            return -0.5 * (Math.cos(Math.PI * a) - 1)
        })),
        k("easing.EaseLookup", {
            find: function(b) {
                return a.map[b]
            }
        }, !0),
        n(e.SlowMo, "SlowMo", "ease,"),
        n(c, "RoughEase", "ease,"),
        n(b, "SteppedEase", "ease,"),
        E
    }, !0)
});
_gsScope._gsDefine && _gsScope._gsQueue.pop()();
(function(b, a) {
    var d = {}
      , c = b.GreenSockGlobals = b.GreenSockGlobals || b;
    if (!c.TweenLite) {
        var e, f, g, k, p, n = function(a) {
            for (var b = a.split("."), d = c, a = 0; a < b.length; a++)
                d[b[a]] = d = d[b[a]] || {};
            return d
        }, q = n("com.greensock"), r = function(a) {
            var b, c = [], d = a.length;
            for (b = 0; b !== d; c.push(a[b++]))
                ;
            return c
        }, l = function() {}, j, o = Object.prototype.toString, s = o.call([]);
        j = function(a) {
            return null != a && (a instanceof Array || "object" == typeof a && !!a.push && o.call(a) === s)
        }
        ;
        var y = {}
          , I = function(e, f, j, g) {
            this.sc = y[e] ? y[e].sc : [];
            y[e] = this;
            this.gsClass = null;
            this.func = j;
            var h = [];
            this.check = function(k) {
                for (var l, o, p, s, m, q = f.length, r = q; -1 < --q; )
                    (l = y[f[q]] || new I(f[q],[])).gsClass ? (h[q] = l.gsClass,
                    r--) : k && l.sc.push(this);
                if (0 === r && j) {
                    if (o = ("com.greensock." + e).split("."),
                    p = o.pop(),
                    s = n(o.join("."))[p] = this.gsClass = j.apply(j, h),
                    g)
                        if (c[p] = s,
                        m = "undefined" != typeof module && module.exports,
                        !m && "function" == typeof define && define.amd)
                            define((b.GreenSockAMDPath ? b.GreenSockAMDPath + "/" : "") + e.split(".").pop(), [], function() {
                                return s
                            });
                        else if (m)
                            if (e === a)
                                for (q in module.exports = d[a] = s,
                                d)
                                    s[q] = d[q];
                            else
                                d[a] && (d[a][p] = s);
                    for (q = 0; q < this.sc.length; q++)
                        this.sc[q].check()
                }
            }
            ;
            this.check(!0)
        }
          , x = b._gsDefine = function(a, b, c, d) {
            return new I(a,b,c,d)
        }
          , z = q._class = function(a, b, c) {
            return b = b || function() {}
            ,
            x(a, [], function() {
                return b
            }, c),
            b
        }
        ;
        x.globals = c;
        var w = [0, 0, 1, 1]
          , B = []
          , A = z("easing.Ease", function(a, b, c, d) {
            this._func = a;
            this._type = c || 0;
            this._power = d || 0;
            this._params = b ? w.concat(b) : w
        }, !0)
          , E = A.map = {}
          , C = A.register = function(a, b, c, d) {
            for (var e, f, j, b = b.split(","), g = b.length, h = (c || "easeIn,easeOut,easeInOut").split(","); -1 < --g; ) {
                e = b[g];
                c = d ? z("easing." + e, null, !0) : q.easing[e] || {};
                for (f = h.length; -1 < --f; )
                    j = h[f],
                    E[e + "." + j] = E[j + e] = c[j] = a.getRatio ? a : a[j] || new a
            }
        }
        ;
        g = A.prototype;
        g._calcEnd = !1;
        g.getRatio = function(a) {
            if (this._func)
                return this._params[0] = a,
                this._func.apply(null, this._params);
            var b = this._type
              , c = this._power
              , d = 1 === b ? 1 - a : 2 === b ? a : 0.5 > a ? 2 * a : 2 * (1 - a);
            return 1 === c ? d *= d : 2 === c ? d *= d * d : 3 === c ? d *= d * d * d : 4 === c && (d *= d * d * d * d),
            1 === b ? 1 - d : 2 === b ? d : 0.5 > a ? d / 2 : 1 - d / 2
        }
        ;
        e = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"];
        for (f = e.length; -1 < --f; )
            g = e[f] + ",Power" + f,
            C(new A(null,null,1,f), g, "easeOut", !0),
            C(new A(null,null,2,f), g, "easeIn" + (0 === f ? ",easeNone" : "")),
            C(new A(null,null,3,f), g, "easeInOut");
        E.linear = q.easing.Linear.easeIn;
        E.swing = q.easing.Quad.easeInOut;
        var u = z("events.EventDispatcher", function(a) {
            this._listeners = {};
            this._eventTarget = a || this
        });
        g = u.prototype;
        g.addEventListener = function(a, b, c, d, e) {
            var e = e || 0, f, j = this._listeners[a], g = 0;
            this !== k || p || k.wake();
            null == j && (this._listeners[a] = j = []);
            for (f = j.length; -1 < --f; )
                a = j[f],
                a.c === b && a.s === c ? j.splice(f, 1) : 0 === g && a.pr < e && (g = f + 1);
            j.splice(g, 0, {
                c: b,
                s: c,
                up: d,
                pr: e
            })
        }
        ;
        g.removeEventListener = function(a, b) {
            var c, d = this._listeners[a];
            if (d)
                for (c = d.length; -1 < --c; )
                    if (d[c].c === b)
                        return void d.splice(c, 1)
        }
        ;
        g.dispatchEvent = function(a) {
            var b, c, d, e = this._listeners[a];
            if (e) {
                b = e.length;
                for (c = this._eventTarget; -1 < --b; )
                    (d = e[b]) && (d.up ? d.c.call(d.s || c, {
                        type: a,
                        target: c
                    }) : d.c.call(d.s || c))
            }
        }
        ;
        var m = b.requestAnimationFrame
          , h = b.cancelAnimationFrame
          , D = Date.now || function() {
            return (new Date).getTime()
        }
          , t = D();
        e = ["ms", "moz", "webkit", "o"];
        for (f = e.length; -1 < --f && !m; )
            m = b[e[f] + "RequestAnimationFrame"],
            h = b[e[f] + "CancelAnimationFrame"] || b[e[f] + "CancelRequestAnimationFrame"];
        z("Ticker", function(a, b) {
            var c, d, e, f, j, g = this, o = D(), s = !1 !== b && m ? "auto" : !1, n = 500, q = 33, r = function(a) {
                var b, h;
                b = D() - t;
                b > n && (o += b - q);
                t += b;
                g.time = (t - o) / 1E3;
                b = g.time - j;
                (!c || 0 < b || !0 === a) && (g.frame++,
                j += b + (b >= f ? 0.004 : f - b),
                h = !0);
                !0 !== a && (e = d(r));
                h && g.dispatchEvent("tick")
            };
            u.call(g);
            g.time = g.frame = 0;
            g.tick = function() {
                r(!0)
            }
            ;
            g.lagSmoothing = function(a, b) {
                n = a || 1E10;
                q = Math.min(b, n, 0)
            }
            ;
            g.sleep = function() {
                null != e && (s && h ? h(e) : clearTimeout(e),
                d = l,
                e = null,
                g === k && (p = !1))
            }
            ;
            g.wake = function(a) {
                null !== e ? g.sleep() : a ? o += -t + (t = D()) : 10 < g.frame && (t = D() - n + 5);
                d = 0 === c ? l : s && m ? m : function(a) {
                    return setTimeout(a, 1E3 * (j - g.time) + 1 | 0)
                }
                ;
                g === k && (p = !0);
                r(2)
            }
            ;
            g.fps = function(a) {
                return arguments.length ? (c = a,
                f = 1 / (c || 60),
                j = this.time + f,
                void g.wake()) : c
            }
            ;
            g.useRAF = function(a) {
                return arguments.length ? (g.sleep(),
                s = a,
                void g.fps(c)) : s
            }
            ;
            g.fps(a);
            setTimeout(function() {
                "auto" === s && 5 > g.frame && "hidden" !== document.visibilityState && g.useRAF(!1)
            }, 1500)
        });
        g = q.Ticker.prototype = new q.events.EventDispatcher;
        g.constructor = q.Ticker;
        var K = z("core.Animation", function(a, b) {
            if (this.vars = b = b || {},
            this._duration = this._totalDuration = a || 0,
            this._delay = Number(b.delay) || 0,
            this._timeScale = 1,
            this._active = !0 === b.immediateRender,
            this.data = b.data,
            this._reversed = !0 === b.reversed,
            J) {
                p || k.wake();
                var c = this.vars.useFrames ? U : J;
                c.add(this, c._time);
                this.vars.paused && this.paused(!0)
            }
        });
        k = K.ticker = new q.Ticker;
        g = K.prototype;
        g._dirty = g._gc = g._initted = g._paused = !1;
        g._totalTime = g._time = 0;
        g._rawPrevTime = -1;
        g._next = g._last = g._onUpdate = g._timeline = g.timeline = null;
        g._paused = !1;
        var T = function() {
            p && 2E3 < D() - t && k.wake();
            setTimeout(T, 2E3)
        };
        T();
        g.play = function(a, b) {
            return null != a && this.seek(a, b),
            this.reversed(!1).paused(!1)
        }
        ;
        g.pause = function(a, b) {
            return null != a && this.seek(a, b),
            this.paused(!0)
        }
        ;
        g.resume = function(a, b) {
            return null != a && this.seek(a, b),
            this.paused(!1)
        }
        ;
        g.seek = function(a, b) {
            return this.totalTime(Number(a), !1 !== b)
        }
        ;
        g.restart = function(a, b) {
            return this.reversed(!1).paused(!1).totalTime(a ? -this._delay : 0, !1 !== b, !0)
        }
        ;
        g.reverse = function(a, b) {
            return null != a && this.seek(a || this.totalDuration(), b),
            this.reversed(!0).paused(!1)
        }
        ;
        g.render = function() {}
        ;
        g.invalidate = function() {
            return this._time = this._totalTime = 0,
            this._initted = this._gc = !1,
            this._rawPrevTime = -1,
            (this._gc || !this.timeline) && this._enabled(!0),
            this
        }
        ;
        g.isActive = function() {
            var a, b = this._timeline, c = this._startTime;
            return !b || !this._gc && !this._paused && b.isActive() && (a = b.rawTime()) >= c && a < c + this.totalDuration() / this._timeScale
        }
        ;
        g._enabled = function(a, b) {
            return p || k.wake(),
            this._gc = !a,
            this._active = this.isActive(),
            !0 !== b && (a && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !a && this.timeline && this._timeline._remove(this, !0)),
            !1
        }
        ;
        g._kill = function() {
            return this._enabled(!1, !1)
        }
        ;
        g.kill = function(a, b) {
            return this._kill(a, b),
            this
        }
        ;
        g._uncache = function(a) {
            for (a = a ? this : this.timeline; a; )
                a._dirty = !0,
                a = a.timeline;
            return this
        }
        ;
        g._swapSelfInParams = function(a) {
            for (var b = a.length, c = a.concat(); -1 < --b; )
                "{self}" === a[b] && (c[b] = this);
            return c
        }
        ;
        g._callback = function(a) {
            var b = this.vars;
            b[a].apply(b[a + "Scope"] || b.callbackScope || this, b[a + "Params"] || B)
        }
        ;
        g.eventCallback = function(a, b, c, d) {
            if ("on" === (a || "").substr(0, 2)) {
                var e = this.vars;
                if (1 === arguments.length)
                    return e[a];
                null == b ? delete e[a] : (e[a] = b,
                e[a + "Params"] = j(c) && -1 !== c.join("").indexOf("{self}") ? this._swapSelfInParams(c) : c,
                e[a + "Scope"] = d);
                "onUpdate" === a && (this._onUpdate = b)
            }
            return this
        }
        ;
        g.delay = function(a) {
            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + a - this._delay),
            this._delay = a,
            this) : this._delay
        }
        ;
        g.duration = function(a) {
            return arguments.length ? (this._duration = this._totalDuration = a,
            this._uncache(!0),
            this._timeline.smoothChildTiming && 0 < this._time && this._time < this._duration && 0 !== a && this.totalTime(this._totalTime * (a / this._duration), !0),
            this) : (this._dirty = !1,
            this._duration)
        }
        ;
        g.totalDuration = function(a) {
            return this._dirty = !1,
            arguments.length ? this.duration(a) : this._totalDuration
        }
        ;
        g.time = function(a, b) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            this.totalTime(a > this._duration ? this._duration : a, b)) : this._time
        }
        ;
        g.totalTime = function(a, b, c) {
            if (p || k.wake(),
            !arguments.length)
                return this._totalTime;
            if (this._timeline) {
                if (0 > a && !c && (a += this.totalDuration()),
                this._timeline.smoothChildTiming) {
                    this._dirty && this.totalDuration();
                    var d = this._totalDuration
                      , e = this._timeline;
                    if (a > d && !c && (a = d),
                    this._startTime = (this._paused ? this._pauseTime : e._time) - (this._reversed ? d - a : a) / this._timeScale,
                    e._dirty || this._uncache(!1),
                    e._timeline)
                        for (; e._timeline; )
                            e._timeline._time !== (e._startTime + e._totalTime) / e._timeScale && e.totalTime(e._totalTime, !0),
                            e = e._timeline
                }
                this._gc && this._enabled(!0, !1);
                (this._totalTime !== a || 0 === this._duration) && (W.length && Q(),
                this.render(a, b, !1),
                W.length && Q())
            }
            return this
        }
        ;
        g.progress = g.totalProgress = function(a, b) {
            var c = this.duration();
            return arguments.length ? this.totalTime(c * a, b) : c ? this._time / c : this.ratio
        }
        ;
        g.startTime = function(a) {
            return arguments.length ? (a !== this._startTime && (this._startTime = a,
            this.timeline && this.timeline._sortChildren && this.timeline.add(this, a - this._delay)),
            this) : this._startTime
        }
        ;
        g.endTime = function(a) {
            return this._startTime + (0 != a ? this.totalDuration() : this.duration()) / this._timeScale
        }
        ;
        g.timeScale = function(a) {
            if (!arguments.length)
                return this._timeScale;
            if (a = a || 1E-10,
            this._timeline && this._timeline.smoothChildTiming) {
                var b = this._pauseTime
                  , b = b || 0 === b ? b : this._timeline.totalTime();
                this._startTime = b - (b - this._startTime) * this._timeScale / a
            }
            return this._timeScale = a,
            this._uncache(!1)
        }
        ;
        g.reversed = function(a) {
            return arguments.length ? (a != this._reversed && (this._reversed = a,
            this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)),
            this) : this._reversed
        }
        ;
        g.paused = function(a) {
            if (!arguments.length)
                return this._paused;
            var b, c, d = this._timeline;
            return a != this._paused && d && (p || a || k.wake(),
            b = d.rawTime(),
            c = b - this._pauseTime,
            !a && d.smoothChildTiming && (this._startTime += c,
            this._uncache(!1)),
            this._pauseTime = a ? b : null,
            this._paused = a,
            this._active = this.isActive(),
            !a && 0 !== c && this._initted && this.duration() && (b = d.smoothChildTiming ? this._totalTime : (b - this._startTime) / this._timeScale,
            this.render(b, b === this._totalTime, !0))),
            this._gc && !a && this._enabled(!0, !1),
            this
        }
        ;
        e = z("core.SimpleTimeline", function(a) {
            K.call(this, 0, a);
            this.autoRemoveChildren = this.smoothChildTiming = !0
        });
        g = e.prototype = new K;
        g.constructor = e;
        g.kill()._gc = !1;
        g._first = g._last = g._recent = null;
        g._sortChildren = !1;
        g.add = g.insert = function(a, b) {
            var c, d;
            if (a._startTime = Number(b || 0) + a._delay,
            a._paused && this !== a._timeline && (a._pauseTime = a._startTime + (this.rawTime() - a._startTime) / a._timeScale),
            a.timeline && a.timeline._remove(a, !0),
            a.timeline = a._timeline = this,
            a._gc && a._enabled(!0, !0),
            c = this._last,
            this._sortChildren)
                for (d = a._startTime; c && c._startTime > d; )
                    c = c._prev;
            return c ? (a._next = c._next,
            c._next = a) : (a._next = this._first,
            this._first = a),
            a._next ? a._next._prev = a : this._last = a,
            a._prev = c,
            this._recent = a,
            this._timeline && this._uncache(!0),
            this
        }
        ;
        g._remove = function(a, b) {
            return a.timeline === this && (b || a._enabled(!1, !0),
            a._prev ? a._prev._next = a._next : this._first === a && (this._first = a._next),
            a._next ? a._next._prev = a._prev : this._last === a && (this._last = a._prev),
            a._next = a._prev = a.timeline = null,
            a === this._recent && (this._recent = this._last),
            this._timeline && this._uncache(!0)),
            this
        }
        ;
        g.render = function(a, b, c) {
            var d, e = this._first;
            for (this._totalTime = this._time = this._rawPrevTime = a; e; )
                d = e._next,
                (e._active || a >= e._startTime && !e._paused) && (e._reversed ? e.render((e._dirty ? e.totalDuration() : e._totalDuration) - (a - e._startTime) * e._timeScale, b, c) : e.render((a - e._startTime) * e._timeScale, b, c)),
                e = d
        }
        ;
        g.rawTime = function() {
            return p || k.wake(),
            this._totalTime
        }
        ;
        var G = z("TweenLite", function(a, c, d) {
            if (K.call(this, c, d),
            this.render = G.prototype.render,
            null == a)
                throw "Cannot tween a null target.";
            this.target = a = "string" != typeof a ? a : G.selector(a) || a;
            var e, f;
            e = a.jquery || a.length && a !== b && a[0] && (a[0] === b || a[0].nodeType && a[0].style && !a.nodeType);
            d = this.vars.overwrite;
            if (this._overwrite = d = null == d ? Y[G.defaultOverwrite] : "number" == typeof d ? d >> 0 : Y[d],
            (e || a instanceof Array || a.push && j(a)) && "number" != typeof a[0]) {
                this._targets = f = r(a);
                this._propLookup = [];
                this._siblings = [];
                for (a = 0; a < f.length; a++)
                    (e = f[a]) ? "string" != typeof e ? e.length && e !== b && e[0] && (e[0] === b || e[0].nodeType && e[0].style && !e.nodeType) ? (f.splice(a--, 1),
                    this._targets = f = f.concat(r(e))) : (this._siblings[a] = wa(e, this, !1),
                    1 === d && 1 < this._siblings[a].length && Z(e, this, null, 1, this._siblings[a])) : (e = f[a--] = G.selector(e),
                    "string" == typeof e && f.splice(a + 1, 1)) : f.splice(a--, 1)
            } else
                this._propLookup = {},
                this._siblings = wa(a, this, !1),
                1 === d && 1 < this._siblings.length && Z(a, this, null, 1, this._siblings);
            (this.vars.immediateRender || 0 === c && 0 === this._delay && !1 !== this.vars.immediateRender) && (this._time = -1E-10,
            this.render(Math.min(0, -this._delay)))
        }, !0)
          , ha = function(a) {
            return a && a.length && a !== b && a[0] && (a[0] === b || a[0].nodeType && a[0].style && !a.nodeType)
        };
        g = G.prototype = new K;
        g.constructor = G;
        g.kill()._gc = !1;
        g.ratio = 0;
        g._firstPT = g._targets = g._overwrittenProps = g._startAt = null;
        g._notifyPluginsOfEnabled = g._lazy = !1;
        G.version = "1.18.5";
        G.defaultEase = g._ease = new A(null,null,1,1);
        G.defaultOverwrite = "auto";
        G.ticker = k;
        G.autoSleep = 120;
        G.lagSmoothing = function(a, b) {
            k.lagSmoothing(a, b)
        }
        ;
        G.selector = b.$ || b.jQuery || function(a) {
            var c = b.$ || b.jQuery;
            return c ? (G.selector = c,
            c(a)) : "undefined" == typeof document ? a : document.querySelectorAll ? document.querySelectorAll(a) : document.getElementById("#" === a.charAt(0) ? a.substr(1) : a)
        }
        ;
        var W = []
          , ea = {}
          , Aa = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
          , va = function(a) {
            for (var b, c = this._firstPT; c; )
                b = c.blob ? a ? this.join("") : this.start : c.c * a + c.s,
                c.r ? b = Math.round(b) : 1E-6 > b && -1E-6 < b && (b = 0),
                c.f ? c.fp ? c.t[c.p](c.fp, b) : c.t[c.p](b) : c.t[c.p] = b,
                c = c._next
        }
          , ta = function(a, b, c, d) {
            var e, f, j, g, h = [a, b], k = 0, l = "", o = 0;
            h.start = a;
            c && (c(h),
            a = h[0],
            b = h[1]);
            h.length = 0;
            a = a.match(Aa) || [];
            c = b.match(Aa) || [];
            d && (d._next = null,
            d.blob = 1,
            h._firstPT = d);
            f = c.length;
            for (d = 0; f > d; d++)
                g = c[d],
                j = b.substr(k, b.indexOf(g, k) - k),
                l += j || !d ? j : ",",
                k += j.length,
                o ? o = (o + 1) % 5 : "rgba(" === j.substr(-5) && (o = 1),
                g === a[d] || a.length <= d ? l += g : (l && (h.push(l),
                l = ""),
                e = parseFloat(a[d]),
                h.push(e),
                h._firstPT = {
                    _next: h._firstPT,
                    t: h,
                    p: h.length - 1,
                    s: e,
                    c: ("=" === g.charAt(1) ? parseInt(g.charAt(0) + "1", 10) * parseFloat(g.substr(2)) : parseFloat(g) - e) || 0,
                    f: 0,
                    r: o && 4 > o
                }),
                k += g.length;
            return l += b.substr(k),
            l && h.push(l),
            h.setRatio = va,
            h
        }
          , ia = function(a, b, c, d, e, f, j, g) {
            var h, k, l = "get" === c ? a[b] : c, o = typeof a[b], p = "string" == typeof d && "=" === d.charAt(1), f = {
                t: a,
                p: b,
                s: l,
                f: "function" === o,
                pg: 0,
                n: e || b,
                r: f,
                pr: 0,
                c: p ? parseInt(d.charAt(0) + "1", 10) * parseFloat(d.substr(2)) : parseFloat(d) - l || 0
            };
            return "number" !== o && ("function" === o && "get" === c && (k = b.indexOf("set") || "function" != typeof a["get" + b.substr(3)] ? b : "get" + b.substr(3),
            f.s = l = j ? a[k](j) : a[k]()),
            "string" == typeof l && (j || isNaN(l)) ? (f.fp = j,
            h = ta(l, d, g || G.defaultStringFilter, f),
            f = {
                t: h,
                p: "setRatio",
                s: 0,
                c: 1,
                f: 2,
                pg: 0,
                n: e || b,
                pr: 0
            }) : p || (f.s = parseFloat(l),
            f.c = parseFloat(d) - f.s || 0)),
            f.c ? ((f._next = this._firstPT) && (f._next._prev = f),
            this._firstPT = f,
            f) : void 0
        };
        f = G._internals = {
            isArray: j,
            isSelector: ha,
            lazyTweens: W,
            blobDif: ta
        };
        var ja = G._plugins = {}
          , R = f.tweenLookup = {}
          , Ca = 0
          , na = f.reservedProps = {
            ease: 1,
            delay: 1,
            overwrite: 1,
            onComplete: 1,
            onCompleteParams: 1,
            onCompleteScope: 1,
            useFrames: 1,
            runBackwards: 1,
            startAt: 1,
            onUpdate: 1,
            onUpdateParams: 1,
            onUpdateScope: 1,
            onStart: 1,
            onStartParams: 1,
            onStartScope: 1,
            onReverseComplete: 1,
            onReverseCompleteParams: 1,
            onReverseCompleteScope: 1,
            onRepeat: 1,
            onRepeatParams: 1,
            onRepeatScope: 1,
            easeParams: 1,
            yoyo: 1,
            immediateRender: 1,
            repeat: 1,
            repeatDelay: 1,
            data: 1,
            paused: 1,
            reversed: 1,
            autoCSS: 1,
            lazy: 1,
            onOverwrite: 1,
            callbackScope: 1,
            stringFilter: 1,
            id: 1
        }
          , Y = {
            none: 0,
            all: 1,
            auto: 2,
            concurrent: 3,
            allOnStart: 4,
            preexisting: 5,
            "true": 1,
            "false": 0
        }
          , U = K._rootFramesTimeline = new e
          , J = K._rootTimeline = new e
          , V = 30
          , Q = f.lazyRender = function() {
            var a, b = W.length;
            for (ea = {}; -1 < --b; )
                (a = W[b]) && !1 !== a._lazy && (a.render(a._lazy[0], a._lazy[1], !0),
                a._lazy = !1);
            W.length = 0
        }
        ;
        J._startTime = k.time;
        U._startTime = k.frame;
        J._active = U._active = !0;
        setTimeout(Q, 1);
        K._updateRoot = G.render = function() {
            var a, b, c;
            if (W.length && Q(),
            J.render((k.time - J._startTime) * J._timeScale, !1, !1),
            U.render((k.frame - U._startTime) * U._timeScale, !1, !1),
            W.length && Q(),
            k.frame >= V) {
                V = k.frame + (parseInt(G.autoSleep, 10) || 120);
                for (c in R) {
                    b = R[c].tweens;
                    for (a = b.length; -1 < --a; )
                        b[a]._gc && b.splice(a, 1);
                    0 === b.length && delete R[c]
                }
                if (c = J._first,
                (!c || c._paused) && G.autoSleep && !U._first && 1 === k._listeners.tick.length) {
                    for (; c && c._paused; )
                        c = c._next;
                    c || k.sleep()
                }
            }
        }
        ;
        k.addEventListener("tick", K._updateRoot);
        var wa = function(a, b, c) {
            var d, e, f = a._gsTweenID;
            if (R[f || (a._gsTweenID = f = "t" + Ca++)] || (R[f] = {
                target: a,
                tweens: []
            }),
            b && (d = R[f].tweens,
            d[e = d.length] = b,
            c))
                for (; -1 < --e; )
                    d[e] === b && d.splice(e, 1);
            return R[f].tweens
        }
          , pa = function(a, b, c, d) {
            var e, f, j = a.vars.onOverwrite;
            return j && (e = j(a, b, c, d)),
            j = G.onOverwrite,
            j && (f = j(a, b, c, d)),
            !1 !== e && !1 !== f
        }
          , Z = function(a, b, c, d, e) {
            var f, j, g;
            if (1 === d || 4 <= d) {
                c = e.length;
                for (f = 0; c > f; f++)
                    if ((g = e[f]) !== b)
                        g._gc || g._kill(null, a, b) && (j = !0);
                    else if (5 === d)
                        break;
                return j
            }
            var h, k = b._startTime + 1E-10, l = [], o = 0, p = 0 === b._duration;
            for (f = e.length; -1 < --f; )
                (g = e[f]) === b || g._gc || g._paused || (g._timeline !== b._timeline ? (h = h || P(b, 0, p),
                0 === P(g, h, p) && (l[o++] = g)) : g._startTime <= k && g._startTime + g.totalDuration() / g._timeScale > k && ((p || !g._initted) && 2E-10 >= k - g._startTime || (l[o++] = g)));
            for (f = o; -1 < --f; )
                if ((g = l[f],
                2 === d && g._kill(c, a, b) && (j = !0),
                2 !== d || !g._firstPT && g._initted) && (2 === d || pa(g, b)))
                    g._enabled(!1, !1) && (j = !0);
            return j
        }
          , P = function(a, b, c) {
            for (var d = a._timeline, e = d._timeScale, f = a._startTime; d._timeline; ) {
                if (f += d._startTime,
                e *= d._timeScale,
                d._paused)
                    return -100;
                d = d._timeline
            }
            return f /= e,
            f > b ? f - b : c && f === b || !a._initted && 2E-10 > f - b ? 1E-10 : (f += a.totalDuration() / a._timeScale / e) > b + 1E-10 ? 0 : f - b - 1E-10
        };
        g._init = function() {
            var a, b, c, d = this.vars, e = this._overwrittenProps, f = this._duration, j = !!d.immediateRender, g = d.ease;
            if (d.startAt) {
                this._startAt && (this._startAt.render(-1, !0),
                this._startAt.kill());
                c = {};
                for (a in d.startAt)
                    c[a] = d.startAt[a];
                if (c.overwrite = !1,
                c.immediateRender = !0,
                c.lazy = j && !1 !== d.lazy,
                c.startAt = c.delay = null,
                this._startAt = G.to(this.target, 0, c),
                j)
                    if (0 < this._time)
                        this._startAt = null;
                    else if (0 !== f)
                        return
            } else if (d.runBackwards && 0 !== f)
                if (this._startAt)
                    this._startAt.render(-1, !0),
                    this._startAt.kill(),
                    this._startAt = null;
                else {
                    0 !== this._time && (j = !1);
                    c = {};
                    for (a in d)
                        na[a] && "autoCSS" !== a || (c[a] = d[a]);
                    if (c.overwrite = 0,
                    c.data = "isFromStart",
                    c.lazy = j && !1 !== d.lazy,
                    c.immediateRender = j,
                    this._startAt = G.to(this.target, 0, c),
                    j) {
                        if (0 === this._time)
                            return
                    } else
                        this._startAt._init(),
                        this._startAt._enabled(!1),
                        this.vars.immediateRender && (this._startAt = null)
                }
            if (this._ease = g = g ? g instanceof A ? g : "function" == typeof g ? new A(g,d.easeParams) : E[g] || G.defaultEase : G.defaultEase,
            d.easeParams instanceof Array && g.config && (this._ease = g.config.apply(g, d.easeParams)),
            this._easeType = this._ease._type,
            this._easePower = this._ease._power,
            this._firstPT = null,
            this._targets)
                for (a = this._targets.length; -1 < --a; )
                    this._initProps(this._targets[a], this._propLookup[a] = {}, this._siblings[a], e ? e[a] : null) && (b = !0);
            else
                b = this._initProps(this.target, this._propLookup, this._siblings, e);
            if (b && G._onPluginEvent("_onInitAllProps", this),
            e && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)),
            d.runBackwards)
                for (c = this._firstPT; c; )
                    c.s += c.c,
                    c.c = -c.c,
                    c = c._next;
            this._onUpdate = d.onUpdate;
            this._initted = !0
        }
        ;
        g._initProps = function(a, c, d, e) {
            var f, g, h, k, l;
            if (null == a)
                return !1;
            ea[a._gsTweenID] && Q();
            if (!this.vars.css && a.style && a !== b && a.nodeType && ja.css && !1 !== this.vars.autoCSS) {
                g = this.vars;
                var o = {};
                for (l in g)
                    na[l] || l in a && "transform" !== l && "x" !== l && "y" !== l && "width" !== l && "height" !== l && "className" !== l && "border" !== l || ja[l] && (!ja[l] || !ja[l]._autoCSS) || (o[l] = g[l],
                    delete g[l]);
                g.css = o
            }
            for (f in this.vars)
                if (g = this.vars[f],
                na[f])
                    g && (g instanceof Array || g.push && j(g)) && -1 !== g.join("").indexOf("{self}") && (this.vars[f] = this._swapSelfInParams(g, this));
                else if (ja[f] && (k = new ja[f])._onInitTween(a, this.vars[f], this)) {
                    this._firstPT = l = {
                        _next: this._firstPT,
                        t: k,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 1,
                        n: f,
                        pg: 1,
                        pr: k._priority
                    };
                    for (g = k._overwriteProps.length; -1 < --g; )
                        c[k._overwriteProps[g]] = this._firstPT;
                    (k._priority || k._onInitAllProps) && (h = !0);
                    (k._onDisable || k._onEnable) && (this._notifyPluginsOfEnabled = !0);
                    l._next && (l._next._prev = l)
                } else
                    c[f] = ia.call(this, a, f, "get", g, f, 0, null, this.vars.stringFilter);
            return e && this._kill(e, a) ? this._initProps(a, c, d, e) : 1 < this._overwrite && this._firstPT && 1 < d.length && Z(a, this, c, this._overwrite, d) ? (this._kill(c, a),
            this._initProps(a, c, d, e)) : (this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration) && (ea[a._gsTweenID] = !0),
            h)
        }
        ;
        g.render = function(a, b, c) {
            var d, e, f, j, g = this._time, h = this._duration;
            f = this._rawPrevTime;
            if (a >= h - 1E-7)
                this._totalTime = this._time = h,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1,
                this._reversed || (d = !0,
                e = "onComplete",
                c = c || this._timeline.autoRemoveChildren),
                0 === h && (this._initted || !this.vars.lazy || c) && (this._startTime === this._timeline._duration && (a = 0),
                (0 > f || 0 >= a && -1E-7 <= a || 1E-10 === f && "isPause" !== this.data) && f !== a && (c = !0,
                1E-10 < f && (e = "onReverseComplete")),
                this._rawPrevTime = j = !b || a || f === a ? a : 1E-10);
            else if (1E-7 > a)
                this._totalTime = this._time = 0,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
                (0 !== g || 0 === h && 0 < f) && (e = "onReverseComplete",
                d = this._reversed),
                0 > a && (this._active = !1,
                0 === h && (this._initted || !this.vars.lazy || c) && (0 <= f && (1E-10 !== f || "isPause" !== this.data) && (c = !0),
                this._rawPrevTime = j = !b || a || f === a ? a : 1E-10)),
                this._initted || (c = !0);
            else if (this._totalTime = this._time = a,
            this._easeType) {
                var l = a / h
                  , k = this._easeType
                  , o = this._easePower;
                (1 === k || 3 === k && 0.5 <= l) && (l = 1 - l);
                3 === k && (l *= 2);
                1 === o ? l *= l : 2 === o ? l *= l * l : 3 === o ? l *= l * l * l : 4 === o && (l *= l * l * l * l);
                1 === k ? this.ratio = 1 - l : 2 === k ? this.ratio = l : 0.5 > a / h ? this.ratio = l / 2 : this.ratio = 1 - l / 2
            } else
                this.ratio = this._ease.getRatio(a / h);
            if (this._time !== g || c) {
                if (!this._initted) {
                    if (this._init(),
                    !this._initted || this._gc)
                        return;
                    if (!c && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))
                        return this._time = this._totalTime = g,
                        this._rawPrevTime = f,
                        W.push(this),
                        void (this._lazy = [a, b]);
                    this._time && !d ? this.ratio = this._ease.getRatio(this._time / h) : d && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                }
                !1 !== this._lazy && (this._lazy = !1);
                this._active || !this._paused && this._time !== g && 0 <= a && (this._active = !0);
                0 === g && (this._startAt && (0 <= a ? this._startAt.render(a, b, c) : e || (e = "_dummyGS")),
                this.vars.onStart && (0 !== this._time || 0 === h) && (b || this._callback("onStart")));
                for (f = this._firstPT; f; )
                    f.f ? f.t[f.p](f.c * this.ratio + f.s) : f.t[f.p] = f.c * this.ratio + f.s,
                    f = f._next;
                this._onUpdate && (0 > a && this._startAt && -1E-4 !== a && this._startAt.render(a, b, c),
                b || (this._time !== g || d || c) && this._callback("onUpdate"));
                e && (!this._gc || c) && (0 > a && this._startAt && !this._onUpdate && -1E-4 !== a && this._startAt.render(a, b, c),
                d && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !b && this.vars[e] && this._callback(e),
                0 === h && 1E-10 === this._rawPrevTime && 1E-10 !== j && (this._rawPrevTime = 0))
            }
        }
        ;
        g._kill = function(a, b, c) {
            if ("all" === a && (a = null),
            null == a && (null == b || b === this.target))
                return this._lazy = !1,
                this._enabled(!1, !1);
            var b = "string" != typeof b ? b || this._targets || this.target : G.selector(b) || b, d, e, f, g, h, l, k, o, p = c && this._time && c._startTime === this._startTime && this._timeline === c._timeline;
            if ((j(b) || ha(b)) && "number" != typeof b[0])
                for (d = b.length; -1 < --d; )
                    this._kill(a, b[d], c) && (l = !0);
            else {
                if (this._targets)
                    for (d = this._targets.length; -1 < --d; ) {
                        if (b === this._targets[d]) {
                            h = this._propLookup[d] || {};
                            this._overwrittenProps = this._overwrittenProps || [];
                            e = this._overwrittenProps[d] = a ? this._overwrittenProps[d] || {} : "all";
                            break
                        }
                    }
                else {
                    if (b !== this.target)
                        return !1;
                    h = this._propLookup;
                    e = this._overwrittenProps = a ? this._overwrittenProps || {} : "all"
                }
                if (h) {
                    if (d = a || h,
                    k = a !== e && "all" !== e && a !== h && ("object" != typeof a || !a._tempKill),
                    c && (G.onOverwrite || this.vars.onOverwrite)) {
                        for (f in d)
                            h[f] && (o || (o = []),
                            o.push(f));
                        if ((o || !a) && !pa(this, c, b, o))
                            return !1
                    }
                    for (f in d)
                        (g = h[f]) && (p && (g.f ? g.t[g.p](g.s) : g.t[g.p] = g.s,
                        l = !0),
                        g.pg && g.t._kill(d) && (l = !0),
                        g.pg && 0 !== g.t._overwriteProps.length || (g._prev ? g._prev._next = g._next : g === this._firstPT && (this._firstPT = g._next),
                        g._next && (g._next._prev = g._prev),
                        g._next = g._prev = null),
                        delete h[f]),
                        k && (e[f] = 1);
                    !this._firstPT && this._initted && this._enabled(!1, !1)
                }
            }
            return l
        }
        ;
        g.invalidate = function() {
            return this._notifyPluginsOfEnabled && G._onPluginEvent("_onDisable", this),
            this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null,
            this._notifyPluginsOfEnabled = this._active = this._lazy = !1,
            this._propLookup = this._targets ? {} : [],
            K.prototype.invalidate.call(this),
            this.vars.immediateRender && (this._time = -1E-10,
            this.render(Math.min(0, -this._delay))),
            this
        }
        ;
        g._enabled = function(a, b) {
            if (p || k.wake(),
            a && this._gc) {
                var c, d = this._targets;
                if (d)
                    for (c = d.length; -1 < --c; )
                        this._siblings[c] = wa(d[c], this, !0);
                else
                    this._siblings = wa(this.target, this, !0)
            }
            return K.prototype._enabled.call(this, a, b),
            this._notifyPluginsOfEnabled && this._firstPT ? G._onPluginEvent(a ? "_onEnable" : "_onDisable", this) : !1
        }
        ;
        G.to = function(a, b, c) {
            return new G(a,b,c)
        }
        ;
        G.from = function(a, b, c) {
            return c.runBackwards = !0,
            c.immediateRender = 0 != c.immediateRender,
            new G(a,b,c)
        }
        ;
        G.fromTo = function(a, b, c, d) {
            return d.startAt = c,
            d.immediateRender = 0 != d.immediateRender && 0 != c.immediateRender,
            new G(a,b,d)
        }
        ;
        G.delayedCall = function(a, b, c, d, e) {
            return new G(b,0,{
                delay: a,
                onComplete: b,
                onCompleteParams: c,
                callbackScope: d,
                onReverseComplete: b,
                onReverseCompleteParams: c,
                immediateRender: !1,
                lazy: !1,
                useFrames: e,
                overwrite: 0
            })
        }
        ;
        G.set = function(a, b) {
            return new G(a,0,b)
        }
        ;
        G.getTweensOf = function(a, b) {
            if (null == a)
                return [];
            var a = "string" != typeof a ? a : G.selector(a) || a, c, d, e, f;
            if ((j(a) || ha(a)) && "number" != typeof a[0]) {
                c = a.length;
                for (d = []; -1 < --c; )
                    d = d.concat(G.getTweensOf(a[c], b));
                for (c = d.length; -1 < --c; ) {
                    f = d[c];
                    for (e = c; -1 < --e; )
                        f === d[e] && d.splice(c, 1)
                }
            } else {
                d = wa(a).concat();
                for (c = d.length; -1 < --c; )
                    (d[c]._gc || b && !d[c].isActive()) && d.splice(c, 1)
            }
            return d
        }
        ;
        G.killTweensOf = G.killDelayedCallsTo = function(a, b, c) {
            "object" == typeof b && (c = b,
            b = !1);
            for (var b = G.getTweensOf(a, b), d = b.length; -1 < --d; )
                b[d]._kill(c, a)
        }
        ;
        var X = z("plugins.TweenPlugin", function(a, b) {
            this._overwriteProps = (a || "").split(",");
            this._propName = this._overwriteProps[0];
            this._priority = b || 0;
            this._super = X.prototype
        }, !0);
        if (g = X.prototype,
        X.version = "1.18.0",
        X.API = 2,
        g._firstPT = null,
        g._addTween = ia,
        g.setRatio = va,
        g._kill = function(a) {
            var b, c = this._overwriteProps, d = this._firstPT;
            if (null != a[this._propName])
                this._overwriteProps = [];
            else
                for (b = c.length; -1 < --b; )
                    null != a[c[b]] && c.splice(b, 1);
            for (; d; )
                null != a[d.n] && (d._next && (d._next._prev = d._prev),
                d._prev ? (d._prev._next = d._next,
                d._prev = null) : this._firstPT === d && (this._firstPT = d._next)),
                d = d._next;
            return !1
        }
        ,
        g._roundProps = function(a, b) {
            for (var c = this._firstPT; c; )
                (a[this._propName] || null != c.n && a[c.n.split(this._propName + "_").join("")]) && (c.r = b),
                c = c._next
        }
        ,
        G._onPluginEvent = function(a, b) {
            var c, d, e, f, j, g = b._firstPT;
            if ("_onInitAllProps" === a) {
                for (; g; ) {
                    j = g._next;
                    for (d = e; d && d.pr > g.pr; )
                        d = d._next;
                    (g._prev = d ? d._prev : f) ? g._prev._next = g : e = g;
                    (g._next = d) ? d._prev = g : f = g;
                    g = j
                }
                g = b._firstPT = e
            }
            for (; g; )
                g.pg && "function" == typeof g.t[a] && g.t[a]() && (c = !0),
                g = g._next;
            return c
        }
        ,
        X.activate = function(a) {
            for (var b = a.length; -1 < --b; )
                a[b].API === X.API && (ja[(new a[b])._propName] = a[b]);
            return !0
        }
        ,
        x.plugin = function(a) {
            if (!a || !a.propName || !a.init || !a.API)
                throw "illegal plugin definition.";
            var b, c = a.propName, d = a.priority || 0, e = a.overwriteProps, f = {
                init: "_onInitTween",
                set: "setRatio",
                kill: "_kill",
                round: "_roundProps",
                initAll: "_onInitAllProps"
            }, g = z("plugins." + c.charAt(0).toUpperCase() + c.substr(1) + "Plugin", function() {
                X.call(this, c, d);
                this._overwriteProps = e || []
            }, !0 === a.global), j = g.prototype = new X(c);
            j.constructor = g;
            g.API = a.API;
            for (b in f)
                "function" == typeof a[b] && (j[f[b]] = a[b]);
            return g.version = a.version,
            X.activate([g]),
            g
        }
        ,
        e = b._gsQueue) {
            for (f = 0; f < e.length; f++)
                e[f]();
            for (g in y)
                y[g].func || b.console.log("GSAP encountered missing dependency: com.greensock." + g)
        }
        p = !1
    }
}
)("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax");
(function() {
    var b = {}
      , a = null
      , d = !0
      , c = !1
      , e = null
      , f = function(b) {
        this._volume = 1;
        this._muted = !1;
        this.usingWebAudio = d;
        this.ctx = a;
        this.noAudio = c;
        this._howls = [];
        this._codecs = b;
        this.iOSAutoEnable = !0
    };
    f.prototype = {
        volume: function(a) {
            a = parseFloat(a);
            if (0 <= a && 1 >= a) {
                this._volume = a;
                d && (e.gain.value = a);
                for (var b in this._howls)
                    if (this._howls.hasOwnProperty(b) && !1 === this._howls[b]._webAudio)
                        for (a = 0; a < this._howls[b]._audioNode.length; a++)
                            this._howls[b]._audioNode[a].volume = this._howls[b]._volume * this._volume;
                return this
            }
            return d ? e.gain.value : this._volume
        },
        mute: function() {
            this._setMuted(!0);
            return this
        },
        unmute: function() {
            this._setMuted(!1);
            return this
        },
        _setMuted: function(a) {
            this._muted = a;
            d && (e.gain.value = a ? 0 : this._volume);
            for (var b in this._howls)
                if (this._howls.hasOwnProperty(b) && !1 === this._howls[b]._webAudio)
                    for (var c = 0; c < this._howls[b]._audioNode.length; c++)
                        this._howls[b]._audioNode[c].muted = a
        },
        _setup: function() {
            var a = this || p;
            c || a._setupCodecs();
            return a
        },
        _setupCodecs: function() {
            var a = this || p;
            g = "undefined" !== typeof Audio ? new Audio : null;
            if (!g || "function" !== typeof g.canPlayType)
                return a;
            var b = g.canPlayType("audio/mpeg;").replace(/^no$/, "")
              , c = a._navigator && a._navigator.userAgent.match(/OPR\/([0-6].)/g);
            k = {
                mp3: !(c && 33 > parseInt(c[0].split("/")[1], 10) || !b && !g.canPlayType("audio/mp3;").replace(/^no$/, "")),
                mpeg: !!b,
                opus: !!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                ogg: !!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                oga: !!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                wav: !!g.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                aac: !!g.canPlayType("audio/aac;").replace(/^no$/, ""),
                caf: !!g.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                m4a: !!(g.canPlayType("audio/x-m4a;") || g.canPlayType("audio/m4a;") || g.canPlayType("audio/aac;")).replace(/^no$/, ""),
                mp4: !!(g.canPlayType("audio/x-mp4;") || g.canPlayType("audio/mp4;") || g.canPlayType("audio/aac;")).replace(/^no$/, ""),
                weba: !!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                webm: !!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                dolby: !!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, "")
            };
            return a
        },
        unload: function() {
            for (var b = this || p, f = b._howls.length - 1; 0 <= f; f--)
                b._howls[f].unload();
            if (d && "undefined" !== typeof a.close) {
                a.close();
                a = null;
                c = !1;
                try {
                    "undefined" !== typeof AudioContext ? a = new AudioContext : "undefined" !== typeof webkitAudioContext ? a = new webkitAudioContext : d = !1
                } catch (g) {
                    d = !1
                }
                if (!d)
                    if ("undefined" !== typeof Audio)
                        try {
                            new Audio
                        } catch (k) {
                            c = !0
                        }
                    else
                        c = !0;
                try {
                    (new Audio).muted && (c = !0)
                } catch (n) {}
                d && (e = "undefined" === typeof a.createGain ? a.createGainNode() : a.createGain(),
                e.gain.value = 1,
                e.connect(a.destination));
                p._setup()
            }
            return b
        },
        codecs: function(a) {
            return this._codecs[a]
        },
        _enableiOSAudio: function() {
            var b = this;
            if (!a || !b._iOSEnabled && /iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                b._iOSEnabled = !1;
                var c = function() {
                    var d = a.createBuffer(1, 1, 22050)
                      , e = a.createBufferSource();
                    e.buffer = d;
                    e.connect(a.destination);
                    "undefined" === typeof e.start ? e.noteOn(0) : e.start(0);
                    setTimeout(function() {
                        if (e.playbackState === e.PLAYING_STATE || e.playbackState === e.FINISHED_STATE)
                            b._iOSEnabled = !0,
                            b.iOSAutoEnable = !1,
                            window.removeEventListener("touchend", c, !1)
                    }, 0)
                };
                window.addEventListener("touchend", c, !1);
                return b
            }
        }
    };
    var g = null
      , k = {};
    c || (g = new Audio,
    k = {
        mp3: !!g.canPlayType("audio/mpeg;").replace(/^no$/, ""),
        opus: !!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
        ogg: !!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
        wav: !!g.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
        aac: !!g.canPlayType("audio/aac;").replace(/^no$/, ""),
        m4a: !!(g.canPlayType("audio/x-m4a;") || g.canPlayType("audio/m4a;") || g.canPlayType("audio/aac;")).replace(/^no$/, ""),
        mp4: !!(g.canPlayType("audio/x-mp4;") || g.canPlayType("audio/mp4;") || g.canPlayType("audio/aac;")).replace(/^no$/, ""),
        weba: !!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")
    });
    var p = null
      , n = function(b) {
        try {
            typeof AudioContext !== "undefined" ? a = new AudioContext : typeof webkitAudioContext !== "undefined" ? a = new webkitAudioContext : d = false
        } catch (g) {
            d = false
        }
        if (!d)
            if (typeof Audio !== "undefined")
                try {
                    new Audio
                } catch (o) {
                    c = true
                }
            else
                c = true;
        if (d) {
            e = typeof a.createGain === "undefined" ? a.createGainNode() : a.createGain();
            e.gain.value = 1;
            e.connect(a.destination);
            if (a.state === "suspended") {
                var n = function() {
                    a.resume();
                    setTimeout(function() {
                        a.state === "running" && document.body.removeEventListener("touchend", n, false)
                    }, 0)
                };
                document.body.addEventListener("touchend", n, false)
            }
        }
        p = new f(k);
        this._autoplay = b.autoplay || false;
        this._buffer = b.buffer || false;
        this._duration = b.duration || 0;
        this._format = b.format || null;
        this._loop = b.loop || false;
        this._loaded = false;
        this._sprite = b.sprite || {};
        this._src = b.src || "";
        this._pos3d = b.pos3d || [0, 0, -0.5];
        this._volume = b.volume !== void 0 ? b.volume : 1;
        this._urls = b.urls || [];
        this._rate = b.rate || 1;
        this._model = b.model || null;
        this._onload = [b.onload || function() {}
        ];
        this._onloaderror = [b.onloaderror || function() {}
        ];
        this._onend = [b.onend || function() {}
        ];
        this._onpause = [b.onpause || function() {}
        ];
        this._onplay = [b.onplay || function() {}
        ];
        this._onendTimer = [];
        this._webAudio = d && !this._buffer;
        this._audioNode = [];
        this._webAudio && this._setupAudioNode();
        if (typeof a !== "undefined" && a && p.iOSAutoEnable) {
            a != null && /(iPhone|iPad)/i.test(navigator.userAgent) && a.sampleRate != 44100 && p.unload();
            p._enableiOSAudio()
        }
        p._howls.push(this);
        this.load()
    };
    n.prototype = {
        load: function() {
            var a = this
              , d = null;
            if (c)
                a.on("loaderror", Error("No audio support."));
            else {
                for (var e = 0; e < a._urls.length; e++) {
                    var g, n;
                    if (a._format)
                        g = a._format;
                    else {
                        n = a._urls[e];
                        (g = /^data:audio\/([^;,]+);/i.exec(n)) || (g = /\.([^.]+)$/.exec(n.split("?", 1)[0]));
                        if (g)
                            g = g[1].toLowerCase();
                        else {
                            a.on("loaderror", Error("Could not extract format from passed URLs, please add format parameter."));
                            return
                        }
                    }
                    if (k[g]) {
                        d = a._urls[e];
                        break
                    }
                }
                if (d) {
                    a._src = d;
                    $("input[name='savedStops']").size() > 0 && $("input[name='savedStops']").val(d);
                    if (a._webAudio) {
                        var I = d;
                        if (I in b) {
                            a._duration = b[I].duration;
                            r(a)
                        } else if (/^data:[^;]+;base64,/.test(I)) {
                            d = atob(I.split(",")[1]);
                            e = new Uint8Array(d.length);
                            for (g = 0; g < d.length; ++g)
                                e[g] = d.charCodeAt(g);
                            q(e.buffer, a, I)
                        } else {
                            var x = new XMLHttpRequest;
                            x.open("GET", I, true);
                            x.responseType = "arraybuffer";
                            x.onload = function() {
                                q(x.response, a, I)
                            }
                            ;
                            x.onerror = function() {
                                if (a._webAudio) {
                                    a._buffer = true;
                                    a._webAudio = false;
                                    a._audioNode = [];
                                    delete a._gainNode;
                                    delete b[I];
                                    a.load()
                                }
                            }
                            ;
                            try {
                                x.send()
                            } catch (z) {
                                x.onerror()
                            }
                        }
                    } else {
                        var w = new Audio;
                        w.addEventListener("error", function() {
                            if (w.error && w.error.code === 4)
                                f.noAudio = true;
                            a.on("loaderror", {
                                type: w.error ? w.error.code : 0
                            })
                        }, false);
                        a._audioNode.push(w);
                        w.src = d;
                        w._pos = 0;
                        w.preload = "auto";
                        w.volume = p._muted ? 0 : a._volume * p.volume();
                        var B = function() {
                            a._duration = Math.ceil(w.duration * 10) / 10;
                            if (Object.getOwnPropertyNames(a._sprite).length === 0)
                                a._sprite = {
                                    _default: [0, a._duration * 1E3]
                                };
                            if (!a._loaded) {
                                a._loaded = true;
                                a.on("load")
                            }
                            a._autoplay && a.play();
                            w.removeEventListener("canplaythrough", B, false)
                        };
                        w.addEventListener("canplaythrough", B, false);
                        w.load()
                    }
                    return a
                }
                a.on("loaderror", Error("No codec support for selected audio sources."))
            }
        },
        urls: function(a) {
            if (a) {
                this.stop();
                this._urls = typeof a === "string" ? [a] : a;
                this._loaded = false;
                this.load();
                return this
            }
            return this._urls
        },
        play: function(c, d) {
            var e = this;
            typeof c === "function" && (d = c);
            if (!c || typeof c === "function")
                c = "_default";
            if (!e._loaded) {
                e.on("load", function() {
                    e.play(c, d)
                });
                return e
            }
            if (!e._sprite[c]) {
                typeof d === "function" && d();
                return e
            }
            e._inactiveNode(function(f) {
                f._sprite = c;
                var g = f._pos > 0 ? f._pos : e._sprite[c][0] / 1E3
                  , k = 0;
                if (e._webAudio) {
                    k = e._sprite[c][1] / 1E3 - f._pos;
                    f._pos > 0 && (g = e._sprite[c][0] / 1E3 + g)
                } else
                    k = e._sprite[c][1] / 1E3;
                var n = !(!e._loop && !e._sprite[c][2]);
                if (document.documentMode)
                    f.loop = n;
                var q = typeof d === "string" ? d : Math.round(Date.now() * Math.random()) + "", r, B = q = q ? q : Math.round(Date.now() * Math.random()) + "";
                r = setTimeout(function() {
                    !e._webAudio && n && e.stop(B).play(c, B);
                    if (e._webAudio && !n) {
                        e._nodeById(B).paused = true;
                        e._nodeById(B)._pos = 0;
                        e._clearEndTimer(B)
                    }
                    !e._webAudio && !n && e.stop(B);
                    e.on("end", q);
                    soundStopped()
                }, k / e._rate * 1E3);
                e._onendTimer.push({
                    timer: r,
                    id: B
                });
                if (e._webAudio) {
                    r = e._sprite[c][0] / 1E3;
                    var A = e._sprite[c][1] / 1E3;
                    f.id = q;
                    f.paused = false;
                    r = [n, r, A];
                    A = e._nodeById(q);
                    A.bufferSource = a.createBufferSource();
                    A.bufferSource.buffer = b[e._src];
                    try {
                        A.bufferSource.connect(A);
                        A.connect(a.destination)
                    } catch (E) {
                        A.bufferSource.connect(a.destination)
                    }
                    A.bufferSource.loop = r[0];
                    if (r[0]) {
                        A.bufferSource.loopStart = r[1];
                        A.bufferSource.loopEnd = r[1] + r[2]
                    }
                    A.bufferSource.playbackRate.value = e._rate;
                    e._playStart = a.currentTime;
                    f.gain.value = e._volume;
                    if (typeof f.bufferSource.start === "undefined")
                        n ? f.bufferSource.noteGrainOn(0, g, 86400) : f.bufferSource.noteGrainOn(0, g, k);
                    else {
                        k < 0 && (k = 0);
                        n ? f.bufferSource.start(0, g, 86400) : f.bufferSource.start(0, g, k)
                    }
                } else if (f.readyState === 4 || !f.readyState && navigator.isCocoonJS) {
                    f.readyState = 4;
                    f.id = q;
                    f.currentTime = g;
                    f.muted = p._muted || f.muted;
                    f.volume = e._volume * p.volume();
                    document.documentMode ? f.play() : setTimeout(function() {
                        f.play()
                    }, 0)
                } else {
                    e._clearEndTimer(q);
                    var C = c
                      , u = d
                      , m = function() {
                        e.play(C, u);
                        f.removeEventListener("canplaythrough", m, false)
                    };
                    f.addEventListener("canplaythrough", m, false);
                    return e
                }
                e.on("play");
                typeof d === "function" && d(q);
                return e
            });
            return e
        },
        pause: function(a) {
            var b = this;
            if (!b._loaded) {
                b.on("play", function() {
                    b.pause(a)
                });
                return b
            }
            b._clearEndTimer(a);
            var c = a ? b._nodeById(a) : b._activeNode();
            if (c) {
                c._pos = b.pos(null, a);
                if (b._webAudio) {
                    if (!c.bufferSource || c.paused)
                        return b;
                    c.paused = true;
                    typeof c.bufferSource.stop === "undefined" ? c.bufferSource.noteOff(0) : c.bufferSource.stop(0)
                } else
                    c.pause()
            }
            b.on("pause");
            return b
        },
        stop: function(a) {
            var b = this;
            if (!b._loaded) {
                b.on("play", function() {
                    try {
                        b.stop(a)
                    } catch (c) {
                        console.error(c)
                    }
                });
                return b
            }
            b._clearEndTimer(a);
            var c = a ? b._nodeById(a) : b._activeNode();
            if (c) {
                c._pos = 0;
                if (b._webAudio) {
                    if (!c.bufferSource || c.paused)
                        return b;
                    c.paused = true;
                    typeof c.bufferSource.stop === "undefined" ? c.bufferSource.noteOff(0) : c.bufferSource.stop(0)
                } else if (!isNaN(c.duration)) {
                    c.pause();
                    c.currentTime = 0
                }
            }
            return b
        },
        mute: function(a) {
            var b = this;
            if (!b._loaded) {
                b.on("play", function() {
                    b.mute(a)
                });
                return b
            }
            var c = a ? b._nodeById(a) : b._activeNode();
            if (c)
                b._webAudio ? c.gain.value = 0 : c.muted = true;
            return b
        },
        unmute: function(a) {
            var b = this;
            if (!b._loaded) {
                b.on("play", function() {
                    b.unmute(a)
                });
                return b
            }
            var c = a ? b._nodeById(a) : b._activeNode();
            if (c)
                b._webAudio ? c.gain.value = b._volume : c.muted = false;
            return b
        },
        volume: function(a, b) {
            var c = this
              , a = parseFloat(a);
            if (a >= 0 && a <= 1) {
                c._volume = a;
                if (!c._loaded) {
                    c.on("play", function() {
                        c.volume(a, b)
                    });
                    return c
                }
                var d = b ? c._nodeById(b) : c._activeNode();
                if (d)
                    c._webAudio ? d.gain.value = a : d.volume = a * p.volume();
                return c
            }
            return c._volume
        },
        loop: function(a) {
            if (typeof a === "boolean") {
                this._loop = a;
                return this
            }
            return this._loop
        },
        sprite: function(a) {
            if (typeof a === "object") {
                this._sprite = a;
                return this
            }
            return this._sprite
        },
        pos: function(b, c) {
            var d = this;
            if (!d._loaded) {
                d.on("load", function() {
                    d.pos(b)
                });
                return typeof b === "number" ? d : d._pos || 0
            }
            var b = parseFloat(b)
              , e = c ? d._nodeById(c) : d._activeNode();
            if (e) {
                if (b >= 0) {
                    d.pause(c);
                    e._pos = b;
                    d.play(e._sprite, c);
                    return d
                }
                return d._webAudio ? e._pos + (a.currentTime - d._playStart) : e.currentTime
            }
            if (b >= 0)
                return d;
            for (e = 0; e < d._audioNode.length; e++)
                if (d._audioNode[e].paused && d._audioNode[e].readyState === 4)
                    return d._webAudio ? d._audioNode[e]._pos : d._audioNode[e].currentTime
        },
        pos3d: function(a, b, c, d) {
            var e = this
              , b = typeof b === "undefined" || !b ? 0 : b
              , c = typeof c === "undefined" || !c ? -0.5 : c;
            if (!e._loaded) {
                e.on("play", function() {
                    e.pos3d(a, b, c, d)
                });
                return e
            }
            if (a >= 0 || a < 0) {
                if (e._webAudio) {
                    var f = d ? e._nodeById(d) : e._activeNode();
                    if (f) {
                        e._pos3d = [a, b, c];
                        f.panner.setPosition(a, b, c);
                        f.panner.panningModel = e._model || "HRTF"
                    }
                }
            } else
                return e._pos3d;
            return e
        },
        fade: function(a, b, c, d, e) {
            var f = this
              , g = Math.abs(a - b)
              , k = a > b ? "down" : "up"
              , g = g / 0.01
              , p = c / g;
            if (!f._loaded) {
                f.on("load", function() {
                    f.fade(a, b, c, d, e)
                });
                return f
            }
            f.volume(a, e);
            for (var n = 1; n <= g; n++)
                (function() {
                    var a = Math.round(1E3 * (f._volume + (k === "up" ? 0.01 : -0.01) * n)) / 1E3;
                    setTimeout(function() {
                        f.volume(a, e);
                        a === b && d && d()
                    }, p * n)
                }
                )()
        },
        fadeIn: function(a, b, c) {
            return this.volume(0).play().fade(0, a, b, c)
        },
        fadeOut: function(a, b, c, d) {
            var e = this;
            return e.fade(e._volume, a, b, function() {
                c && c();
                e.pause(d);
                e.on("end")
            }, d)
        },
        _nodeById: function(a) {
            for (var b = this._audioNode[0], c = 0; c < this._audioNode.length; c++)
                if (this._audioNode[c].id === a) {
                    b = this._audioNode[c];
                    break
                }
            return b
        },
        _activeNode: function() {
            for (var a = null, b = 0; b < this._audioNode.length; b++)
                if (!this._audioNode[b].paused) {
                    a = this._audioNode[b];
                    break
                }
            this._drainPool();
            return a
        },
        _inactiveNode: function(a) {
            for (var b = null, c = 0; c < this._audioNode.length; c++)
                if (this._audioNode[c].paused && this._audioNode[c].readyState === 4) {
                    a(this._audioNode[c]);
                    b = true;
                    break
                }
            this._drainPool();
            if (!b) {
                var d;
                if (this._webAudio) {
                    d = this._setupAudioNode();
                    a(d)
                } else {
                    this.load();
                    d = this._audioNode[this._audioNode.length - 1];
                    var e = navigator.isCocoonJS ? "canplaythrough" : "loadedmetadata"
                      , f = function() {
                        d.removeEventListener(e, f, false);
                        a(d)
                    };
                    d.addEventListener(e, f, false)
                }
            }
        },
        _drainPool: function() {
            var a = 0, b;
            for (b = 0; b < this._audioNode.length; b++)
                this._audioNode[b].paused && a++;
            for (b = this._audioNode.length - 1; b >= 0; b--) {
                if (a <= 5)
                    break;
                if (this._audioNode[b].paused) {
                    this._webAudio && this._audioNode[b].disconnect(0);
                    a--;
                    this._audioNode.splice(b, 1)
                }
            }
        },
        _clearEndTimer: function(a) {
            for (var b = -1, c = 0; c < this._onendTimer.length; c++)
                if (this._onendTimer[c].id === a) {
                    b = c;
                    break
                }
            if (a = this._onendTimer[b]) {
                clearTimeout(a.timer);
                this._onendTimer.splice(b, 1)
            }
        },
        _setupAudioNode: function() {
            var b = this._audioNode
              , c = this._audioNode.length;
            b[c] = typeof a.createGain === "undefined" ? a.createGainNode() : a.createGain();
            b[c].gain.value = this._volume;
            b[c].paused = true;
            b[c]._pos = 0;
            b[c].readyState = 4;
            b[c].connect(e);
            b[c].panner = a.createPanner();
            b[c].panner.panningModel = this._model || "equalpower";
            b[c].panner.setPosition(this._pos3d[0], this._pos3d[1], this._pos3d[2]);
            b[c].panner.connect(b[c]);
            return b[c]
        },
        unload: function() {
            for (var a = this._sounds, c = 0; c < a.length; c++) {
                if (!a[c]._paused) {
                    this.stop(a[c]._id);
                    this._emit("end", a[c]._id)
                }
                if (!this._webAudio) {
                    a[c]._node.src = "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=";
                    a[c]._node.removeEventListener("error", a[c]._errorFn, false);
                    a[c]._node.removeEventListener(p._canPlayEvent, a[c]._loadFn, false)
                }
                delete a[c]._node;
                this._clearTimer(a[c]._id);
                var d = p._howls.indexOf(this);
                d >= 0 && p._howls.splice(d, 1)
            }
            a = true;
            for (c = 0; c < p._howls.length; c++)
                if (p._howls[c]._src === this._src) {
                    a = false;
                    break
                }
            b && a && delete b[this._src];
            this._state = "unloaded";
            this._sounds = [];
            return null
        },
        on: function(a, b) {
            var c = this["_on" + a];
            if (typeof b === "function")
                c.push(b);
            else
                for (var d = 0; d < c.length; d++)
                    b ? c[d].call(this, b) : c[d].call(this);
            return this
        },
        off: function(a, b) {
            var c = this["_on" + a];
            if (b)
                for (var d = 0; d < c.length; d++) {
                    if (b === c[d]) {
                        c.splice(d, 1);
                        break
                    }
                }
            else
                this["_on" + a] = [];
            return this
        }
    };
    if (d)
        var q = function(c, d, e) {
            a.decodeAudioData(c, function(a) {
                if (a) {
                    b[e] = a;
                    r(d, a)
                }
            }, function(a) {
                d.on("loaderror", a)
            })
        }
          , r = function(a, b) {
            a._duration = b ? b.duration : a._duration;
            if (Object.getOwnPropertyNames(a._sprite).length === 0)
                a._sprite = {
                    _default: [0, a._duration * 1E3]
                };
            if (!a._loaded) {
                a._loaded = true;
                a.on("load");
                soundLoadded()
            }
            a._autoplay && a.play()
        };
    "function" === typeof define && define.amd && define(function() {
        return {
            Howler: p,
            Howl: n
        }
    });
    "undefined" !== typeof exports && (exports.Howler = p,
    exports.Howl = n);
    "undefined" !== typeof window && (window.Howler = p,
    window.Howl = n)
}
)();
var isIE = !!document.documentMode;
function howlerWrapper() {
    this.howler;
    var b = {
        urls: [],
        sprite: {},
        onpause: function() {}
    }
      , a = []
      , d = [];
    this.gAudioSettingsConvertion = function(a) {
        for (var d = 0; d < a.resources.length; d++)
            b.urls.push(a.resources[d]);
        var f = isIE ? "{'silentaudio': [1, 10, false], " : "{'silentaudio': [1, 10, true], ";
        $.each(a.spritemap, function(a, b) {
            f = !0 == b.loop ? f + ("'" + a + "': [" + Math.round(1E3 * b.start) + ", " + Math.round(1E3 * (b.end - b.start)) + ", true],") : f + ("'" + a + "': [" + Math.round(1E3 * b.start) + ", " + Math.round(1E3 * (b.end - b.start)) + "],")
        });
        f = f.substring(0, f.length - 1);
        f += "}";
        b.sprite = eval("(" + f + ")");
        return b
    }
    ;
    this.player = function(a) {
        b = this.gAudioSettingsConvertion(a);
        this.howler = new Howl(b)
    }
    ;
    this.play = function() {
        null == this.howler && (this.howler = new Howl(b));
        if (0 < arguments.length) {
            var c = arguments[0];
            a = this.updateActiveNode();
            this.howler.play(c, function(b) {
                b && a.push([b, c])
            })
        } else if (0 == d.length)
            this.stop();
        else {
            for (var e = 0; e < d.length; e++)
                3 == b.sprite[d[e][1]].length && b.sprite[d[e][1]][2] ? this.howler.stop(d[e][0]).play(d[e][1], function(b) {
                    a.push([b, d[e][1]])
                }) : (this.howler.play(d[e][1], d[e][0]),
                a.push(d[e]));
            d = []
        }
    }
    ;
    this.stop = function() {
        if (null != this.howler)
            if (0 < arguments.length) {
                for (var b = [], e = 0; e < a.length; e++)
                    a[e][1] == arguments[0] ? this.howler.stop(a[e][0]) : b.push(a[e]);
                a = b
            } else {
                for (e = 0; e < a.length; e++)
                    this.howler.stop(a[e][0]);
                d = [];
                a = []
            }
    }
    ;
    this.pause = function() {
        if (!(null == this.howler || 0 < d.length)) {
            for (var b = this.howler._activeNode(); b; ) {
                for (var b = b.id, e = 0; e < a.length; e++)
                    if (a[e][0] == b) {
                        d.push(a[e]);
                        break
                    }
                this.howler.pause(b);
                b = this.howler._activeNode()
            }
            a = []
        }
    }
    ;
    this.updateActiveNode = function() {
        var b = [], d;
        if (null == this.howler)
            return b;
        for (var f = 0; f < this.howler._audioNode.length; f++)
            if (!this.howler._audioNode[f].paused) {
                d = this.howler._audioNode[f];
                for (var g = 0; g < a.length; g++)
                    if (a[g][0] == d.id) {
                        b.push(a[g]);
                        break
                    }
            }
        return b
    }
    ;
    this.update = function() {}
    ;
    this.resume = function() {
        this.play()
    }
    ;
    this.isPlaying = function() {
        return null == this.howler ? !1 : 0 < this.updateActiveNode().length ? !0 : !1
    }
    ;
    this.unload = function() {
        this.howler.unload();
        d = [];
        a = [];
        this.howler = null
    }
    ;
    this.setVolume = function(a) {
        this.howler.volume(a)
    }
    ;
    this.stopSoundsExcept = function() {
        if (null != this.howler && 0 < arguments.length)
            for (var b = 0; b < a.length; b++)
                arguments[0] != a[b][1] && this.howler.stop(a[b][0])
    }
    ;
    this.stopSoundsExceptThese = function(b) {
        if (null != this.howler && null != b)
            for (var d = 0; d < a.length; d++)
                -1 == b.indexOf(a[d][1]) && this.howler.stop(a[d][0])
    }
}
soundStopped = function() {}
;
soundLoadded = function() {}
;
disableSoundPlay = function() {}
;
function loadLanguage() {
    if (window.parent != window.self)
        window.parent.languageCode ? document.write("<script type='text/javascript' src='language/" + window.parent.languageCode + "/language.js'><\/script>") : document.write("<script type='text/javascript' src='language/en/language.js'><\/script>");
    else {
        var b = document.getElementsByTagName("head")[0]
          , a = document.createElement("script");
        a.setAttribute("type", "text/javascript");
        languageCode ? a.setAttribute("src", "language/" + languageCode + "/language.js") : a.setAttribute("src", "language/en/language.js");
        b.appendChild(a);
        $(a).load(function() {
            "function" == typeof window.load && (window.load(),
            0 == $("head").find("link").size() && (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) ? $("head").append('<link rel="stylesheet" type="text/css" id="commoncss" href="./common.css"/>') : (navigator.userAgent.match(/iPad/i),
            $("head").append('<link rel="stylesheet" type="text/css" id="commoncss" href="./common_ipad.css"/>')),
            $("head").append('<link rel="apple-touch-icon" sizes="114x114" href="apple-touch-icon-iphone4.png" />')))
        })
    }
}
loadLanguage();
function Layout() {
    this.MESSAGE_BAR = {
        x: 170,
        y: 523,
        w: 900,
        h: 90
    };
    this.BIG_WIN = {
        x: -35,
        y: 200
    };
    this.REELS = {
        x: 92,
        y: 96
    };
    this.orientation = 0;
    this.symbolHeight = this.symbolWidth = 132;
    this.reelGap = 8;
    this.paylineEndHeight = this.paylineEndWidth = this.canvasYoffset = 32;
    this.paylineEndFontSize = 20;
    this.paylines = [];
    this.minionFalling = {
        st: {
            mask: {
                x: 0,
                y: 0,
                w: 960,
                h: 193
            },
            param: {
                a: 1,
                f: 15,
                s: 13,
                y: -131
            },
            m0: {
                x: 259,
                y: -97,
                a: 1
            },
            m1: {
                x: 537,
                y: -97,
                a: 1
            },
            m2: {
                x: 120,
                y: -97,
                a: 1
            },
            m3: {
                x: 680,
                y: -97,
                a: 1
            },
            m4: {
                x: 400,
                y: -97,
                a: 1
            }
        },
        out: {
            mask: {
                x: 0,
                y: 0,
                w: 960,
                h: 315
            },
            param: {
                a: 0,
                f: 25,
                s: 13,
                y: 180
            },
            m0: {
                x: 259,
                y: 180,
                a: 1
            },
            m1: {
                x: 537,
                y: 180,
                a: 1
            },
            m2: {
                x: 120,
                y: 180,
                a: 1
            },
            m3: {
                x: 680,
                y: 180,
                a: 1
            }
        }
    };
    this.paylineColours = "rgb(153, 189, 103);rgb(0, 160, 198);rgb(255, 187, 189);rgb(255, 219, 13);rgb(230, 0, 0);rgb(160, 31, 130);rgb(97, 172, 196);rgb(239, 129, 33);rgb(194, 150, 53);rgb(26, 139, 69);rgb(136, 114, 168);rgb(212, 92, 147);rgb(140, 182, 125);rgb(237, 212, 137);rgb(182, 141, 50);rgb(60, 175, 195);rgb(167, 48, 139);rgb(231, 143, 116);rgb(231, 152, 182);rgb(31, 103, 160);rgb(255, 0, 0);rgb(227, 236, 75);rgb(196, 225, 67);rgb(0, 160, 198);rgb(129, 84, 166)".split(";");
    this.paylineEndPositions = [];
    this.payLineEndsLeft = {
        x: 53,
        y: 94
    };
    this.payLineEndsRight = {
        x: 795,
        y: 94
    };
    this.paylineEndVerticalStep = 31;
    this.paylineEndOffsetX = 20;
    this.paylineEndHeadXLeft = 9;
    this.paylineEndHeadXRight = 7;
    this.reelBorderMarginXLeft = -1;
    this.reelBorderMarginXRight = 1;
    this.paylineEndsLeftNumber = [24, 4, 12, 20, 14, 10, 1, 11, 15, 19, 13, 3, 5];
    this.paylineEndsRightNumber = [6, 2, 25, 16, 23, 8, 1, 9, 22, 17, 18, 7, 21];
    this.generatePaylineEndPositions = function() {
        var b, a, d;
        this.paylineEndPositions = [];
        for (b = a = 0; b < this.paylineEndsLeftNumber.length; b++)
            this.paylineEndPositions[this.paylineEndsLeftNumber[b] - 1] = this.paylineEndPositions[this.paylineEndsLeftNumber[b] - 1] || [],
            d = b * this.paylineEndVerticalStep,
            this.paylineEndPositions[this.paylineEndsLeftNumber[b] - 1].push({
                x: a,
                y: d
            });
        a = 50;
        for (b = 0; b < this.paylineEndsRightNumber.length; b++)
            this.paylineEndPositions[this.paylineEndsRightNumber[b] - 1] = this.paylineEndPositions[this.paylineEndsRightNumber[b] - 1] || [],
            d = b * this.paylineEndVerticalStep,
            this.paylineEndPositions[this.paylineEndsRightNumber[b] - 1].push({
                x: a,
                y: d
            })
    }
    ;
    this.paylineShapes = [[1, -1, -1, -1, 1], [0, -1, -1, -1, 0], [2, -1, -1, -1, 2], [0, -1, 2, -1, 0], [2, -1, 0, -1, 2], [0, 0, 1, 0, 0], [2, 2, 1, 2, 2], [1, 0, 0, 0, 1], [1, 2, 2, 2, 1], [1, 0, 1, 0, 1], [1, 2, 1, 2, 1], [0, 1, 0, 1, 0], [2, 1, 2, 1, 2], [1, 1, 0, 1, 1], [1, 1, 2, 1, 1], [0, 1, 1, 1, 0], [2, 1, 1, 1, 2], [0, -1, 2, 2, 2], [2, -1, 0, 0, 0], [0, 2, 0, 2, 0], [2, 0, 2, 0, -1], [1, 0, 2, 0, -1], [1, 2, 0, 2, -1], [0, 0, -1, 2, 2], [2, 2, -1, 0, 0]];
    this.paylinePointModifier = [[1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 0, 0, 0, 0], [1, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 1, 1], [0, 0, 0, 0, 1], [0, 0, 0, 0, 1], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 0, 0, 0, 0], [1, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 1, 1, 1], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 1, 1]];
    this.generatePaylineVectors = function() {
        this.generatePaylineEndPositions();
        this.paylines = createPaylineVectorsCustom(this.paylineShapes, this.paylinePointModifier, this.paylineEndPositions, this.paylineEndHeight, this.REELS, this.payLineEndsLeft, this.payLineEndsRight, this.reelGap, this.symbolWidth, this.symbolHeight)
    }
    ;
    this.orient = function(b) {
        this.orientation = b;
        switch (b) {
        case 0:
        case 1:
        case 2:
            this.width = 960,
            this.height = 492,
            this.GAME_NAME = {
                x: 340,
                y: 0
            },
            this.REELBG = {
                x: 0,
                y: 0
            },
            this.BTNBG = {
                x: 0,
                y: 492
            },
            this.NUM_LINES_METER = {
                x: 714,
                y: 120
            },
            this.SPIN_BTN = {
                x: 560,
                y: 1320
            },
            this.BET_BTN = {
                x: 800,
                y: 40
            },
            this.LINE_BTN = {
                x: 650,
                y: 40
            },
            this.RULES_BTN = {
                x: 650,
                y: 180
            },
            this.AUTOPLAY_BTN = {
                x: 800,
                y: 180
            },
            this.MENU_BTN = {
                x: 1,
                y: 2
            }
        }
    }
}
;function AssetManager() {
    this.errorCount = this.successCount = 0;
    this.cache = {};
    this.downloadQueue = []
}
AssetManager.prototype.queueDownload = function(b) {
    this.downloadQueue.push(b)
}
;
AssetManager.prototype.queueFiles = function(b) {
    for (var a = 0; a < b.length; a++)
        this.downloadQueue.push(b[a])
}
;
AssetManager.prototype.isDone = function() {
    return this.downloadQueue.length == this.successCount + this.errorCount
}
;
AssetManager.prototype.downloadAll = function(b, a) {
    var d = 1;
    0 === this.downloadQueue.length ? b() : d = this.downloadQueue.length;
    for (var c = 0; c < this.downloadQueue.length; c++) {
        var e = this.downloadQueue[c]
          , f = new Image
          , g = this;
        f.addEventListener("load", function() {
            g.successCount += 1;
            a(g.successCount, d);
            g.isDone() && b()
        }, !1);
        f.addEventListener("error", function(a) {
            g.errorCount += 1;
            a = a.target.src.split("/");
            console.log("Error!\n\nCould not find file: " + a[a.length - 1] + " on the server.");
            g.isDone() && b()
        }, !1);
        f.src = e;
        this.cache[e] = f
    }
}
;
AssetManager.prototype.getAsset = function(b) {
    return "undefined" == typeof this.cache[b] ? (console.log("Error!\n\nCould not find file: " + b + " in the Asset Manager.\nCheck to make sure it is included in the download queue."),
    null) : this.cache[b]
}
;
AssetManager.prototype.addAsset = function(b) {
    this.downloadQueue.push(b)
}
;
function InRange(b, a, d) {
    return a <= b && b <= d
}
function ngImage(b) {
    this.image = b;
    this.frameCount = this.image.numframes;
    this.width = this.image.width / this.frameCount;
    this.height = this.image.height;
    this.currentFrame = this.Y = this.X = 0;
    this.animRunning = !1;
    this.animRate = 10;
    this.loop = !1;
    this.elapsedTime = this.loopStartFrame = 0;
    this.setPosition = function(a, b) {
        this.X = a;
        this.Y = b
    }
    ;
    this.startAnim = function(a, b) {
        this.loop = a;
        InRange(b, 0, this.frameCount) && (this.currentFrame = b,
        this.elapsedTime = 1E3 * b * this.animRate,
        this.animRunning = !0)
    }
    ;
    this.stopAnim = function(a) {
        this.animRunning = !1;
        a && (this.currentFrame = 0)
    }
    ;
    this.draw = function() {
        try {
            var a = this.width
              , b = this.height;
            ctx.drawImage(this.image, this.currentFrame * a, 0, a, b, this.X, this.Y, a, b)
        } catch (c) {}
    }
    ;
    this.draw2 = function(a, b, c) {
        try {
            var e = this.width
              , f = this.height;
            ctx.drawImage(this.image, a * e, 0, e, f, b, c, e, f)
        } catch (g) {}
    }
    ;
    this.update = function(a) {
        this.animRunning && (this.elapsedTime += a,
        this.currentFrame = Math.round(this.elapsedTime * this.animRate / 1E3),
        this.loop ? this.currentFrame = 0 != this.loopStartFrame && this.currentFrame >= this.loopStartFrame ? this.currentFrame % (this.frameCount - this.loopStartFrame) + this.loopStartFrame : this.currentFrame % this.frameCount : this.currentFrame >= this.frameCount && (this.currentFrame = this.frameCount - 1,
        this.animRunning = !1))
    }
}
function ngImage2(b) {
    this.image = b;
    this.currentFrame = this.Y = this.X = this.frameCount = 0;
    this.animRunning = !1;
    this.animRate = 10;
    this.loop = !1;
    this.elapsedTime = this.loopStartFrame = 0;
    this.actions = null;
    this.nextActionIndex = 0;
    this.setAnimConfig = function(a, b) {
        this.frameCount = b.length;
        this.textureIndexes = [];
        this.alpha = [];
        this.xOffset = [];
        this.yOffset = [];
        this.scale = [];
        this.rotation = [];
        this.actions = [];
        for (var c = 0; c < b.length; c++)
            "undefined" === typeof b[c].t ? this.textureIndexes.push(0) : this.textureIndexes.push(b[c].t),
            "undefined" === typeof b[c].a ? this.alpha.push(1) : this.alpha.push(b[c].a),
            "undefined" === typeof b[c].x ? this.xOffset.push(0) : this.xOffset.push(b[c].x),
            "undefined" === typeof b[c].y ? this.yOffset.push(0) : this.yOffset.push(b[c].y),
            "undefined" === typeof b[c].s ? this.scale.push(1) : this.scale.push(b[c].s),
            "undefined" === typeof b[c].r ? this.rotation.push(0) : this.rotation.push(b[c].r),
            "undefined" != typeof b[c].l && (this.loopStartFrame = c),
            "function" === typeof b[c].a && this.actions.push({
                t: 1E3 * c / this.animRate,
                f: b[c].a
            });
        for (c = 0; c < a.length; ++c)
            if (void 0 === a[c].designW && (a[c].designW = a[c].w),
            void 0 === a[c].designH)
                a[c].designH = a[c].h;
        this.spriteDefs = a
    }
    ;
    this.setPosition = function(a, b) {
        this.X = a;
        this.Y = b
    }
    ;
    this.startAnim = function(a, b) {
        this.loop = a;
        InRange(b, 0, this.frameCount) && (this.currentFrame = b,
        this.elapsedTime = 1E3 * b * this.animRate,
        this.animRunning = !0)
    }
    ;
    this.stopAnim = function(a) {
        this.animRunning = !1;
        a && (this.nextActionIndex = this.currentFrame = 0)
    }
    ;
    this.stopAtlastFrame = function() {
        this.animRunning = !1;
        this.currentFrame = this.frameCount - 1
    }
    ;
    this.draw = function() {
        try {
            var a = gameViewMan.viewScale
              , b = ctx.globalAlpha
              , c = this.scale[this.currentFrame]
              , e = this.spriteDefs[this.textureIndexes[this.currentFrame]];
            0 != this.rotation[this.currentFrame] ? (ctx.save(),
            ctx.translate(this.X + this.xOffset[this.currentFrame] + this.rotation[this.currentFrame].x, this.Y + this.yOffset[this.currentFrame] + this.rotation[this.currentFrame].y),
            ctx.rotate(Math.PI / 360 * this.rotation[this.currentFrame].rt),
            ctx.globalAlpha = this.alpha[this.currentFrame],
            ctx.drawImage(this.image, e.x, e.y, e.w, e.h, -this.rotation[this.currentFrame].x * a, -this.rotation[this.currentFrame].y * a, e.designW * c * a, e.designH * c * a),
            ctx.restore()) : (ctx.globalAlpha = this.alpha[this.currentFrame],
            ctx.drawImage(this.image, e.x, e.y, e.w, e.h, (this.X + this.xOffset[this.currentFrame]) * a, (this.Y + this.yOffset[this.currentFrame]) * a, e.designW * c * a, e.designH * c * a));
            ctx.globalAlpha = b
        } catch (f) {}
    }
    ;
    this.drawXY = function(a, b) {
        try {
            var c = gameViewMan.viewScale
              , e = ctx.globalAlpha
              , f = this.scale[this.currentFrame]
              , g = this.spriteDefs[this.textureIndexes[this.currentFrame]];
            ctx.globalAlpha = this.alpha[this.currentFrame];
            ctx.drawImage(this.image, g.x, g.y, g.w, g.h, (a + this.xOffset[this.currentFrame]) * c, (b + this.yOffset[this.currentFrame]) * c, g.designW * f * c, g.designH * f * c);
            ctx.globalAlpha = e
        } catch (k) {}
    }
    ;
    this.update = function(a) {
        this.animRunning && ((this.elapsedTime += a,
        this.actions.length > this.nextActionIndex && this.elapsedTime >= this.actions[this.nextActionIndex].t && (this.actions[this.nextActionIndex].f.call(this),
        this.nextActionIndex++),
        this.currentFrame = Math.round(this.elapsedTime * this.animRate / 1E3),
        this.loop) ? 0 != this.loopStartFrame && this.currentFrame >= this.loopStartFrame ? this.currentFrame = this.currentFrame % (this.frameCount - this.loopStartFrame) + this.loopStartFrame : (this.currentFrame %= this.frameCount,
        0 == this.currentFrame && (this.nextActionIndex = 0)) : this.currentFrame >= this.frameCount && (this.currentFrame = this.frameCount - 1,
        this.animRunning = !1,
        this.nextActionIndex = 0))
    }
}
function PopupBackground() {
    this.draw = function(b) {
        b.beginPath();
        b.moveTo(this.X + this.radius, this.Y);
        b.lineTo(this.X + this.width - this.radius, this.Y);
        b.quadraticCurveTo(this.X + this.width, this.Y, this.X + this.width, this.Y + this.radius);
        b.lineTo(this.X + this.width, this.Y + this.height - this.radius);
        b.quadraticCurveTo(this.X + this.width, this.Y + this.height, this.X + this.width - this.radius, this.Y + this.height);
        b.lineTo(this.X + this.radius, this.Y + this.height);
        b.quadraticCurveTo(this.X, this.Y + this.height, this.X, this.Y + this.height - this.radius);
        b.lineTo(this.X, this.Y + this.radius);
        b.quadraticCurveTo(this.X, this.Y, this.X + this.radius, this.Y);
        b.closePath();
        if (null != this.colorStop_0) {
            var a = b.createLinearGradient(this.X, this.Y, this.X, this.Y + this.height);
            a.addColorStop(this.colorStop_0[0], this.colorStop_0[1]);
            null != this.colorStop_1 && a.addColorStop(this.colorStop_1[0], this.colorStop_1[1]);
            null != this.colorStop_2 && a.addColorStop(this.colorStop_2[0], this.colorStop_2[1]);
            b.fillStyle = a
        } else
            b.fillStyle = this.color;
        b.lineWidth = this.stokeWidth;
        b.strokeStyle = this.stokeColor;
        b.stroke();
        b.fill()
    }
    ;
    this.color = "#FFFFFF";
    this.colorStop_2 = this.colorStop_1 = this.colorStop_0 = null;
    this.Y = this.X = 0;
    this.radius = 5;
    this.height = this.width = 100;
    this.stokeWidth = 5;
    this.setPosition = function(b, a) {
        this.X = b;
        this.Y = a
    }
    ;
    this.setStyle = function(b) {
        this.color = b.color;
        this.colorStop_0 = b.colorStop_0;
        this.colorStop_1 = b.colorStop_1;
        this.colorStop_2 = b.colorStop_2;
        this.radius = b.radius;
        this.width = b.width;
        this.height = b.height;
        this.stokeWidth = b.stokeWidth;
        this.stokeColor = b.stokeColor
    }
}
function Text() {
    this.m_Text = "";
    this.m_Color = "#FFFFFF";
    this.draw = function(d) {
        if (this.visible) {
            var c = d === b ? gameViewMan.viewScale : 1;
            d.lineJoin = "round";
            d.textAlign = this.align;
            var e = "" == this.fontStr || null == this.fontStr ? this.font : this.fontStr;
            if (1 !== c) {
                var f = a.exec(e);
                if (f)
                    var g = parseInt(f[0]) * c
                      , e = e.replace(f[0], g)
            }
            d.font = e;
            null != this.gradient_x0 && null != this.gradient_y0 && null != this.gradient_x1 && null != this.gradient_y1 ? (e = d.createLinearGradient(this.gradient_x0 + this.X - 5, this.gradient_y0 + this.Y - 20, this.gradient_x1 + this.X - 5, this.gradient_y1 + this.Y - 20),
            null != this.colorStop_0 && e.addColorStop(this.colorStop_0[0], this.colorStop_0[1]),
            null != this.colorStop_1 && e.addColorStop(this.colorStop_1[0], this.colorStop_1[1]),
            null != this.colorStop_2 && e.addColorStop(this.colorStop_2[0], this.colorStop_2[1]),
            d.fillStyle = e) : d.fillStyle = this.m_Color;
            null != this.stroke_0_Color && null != this.stroke_0_Width && (d.strokeStyle = this.stroke_0_Color,
            d.lineWidth = this.stroke_0_Width * c,
            d.strokeText(this.m_Text, this.X * c, this.Y * c));
            null != this.stroke_1_Color && null != this.stroke_1_Width && (d.strokeStyle = this.stroke_1_Color,
            d.lineWidth = this.stroke_1_Width * c,
            d.strokeText(this.m_Text, this.X * c, this.Y * c));
            d.fillText(this.m_Text, this.X * c, this.Y * c)
        }
    }
    ;
    this.drawShadowed = function(a, b) {
        a.font = this.font;
        a.textAlign = this.align;
        a.fillStyle = "#000000";
        b = b || 1;
        a.fillText(this.m_Text, this.X + b, this.Y + b);
        a.fillStyle = this.m_Color;
        a.fillText(this.m_Text, this.X, this.Y)
    }
    ;
    this.align = "right";
    this.fontWeight = this.fontStyle = this.font = null;
    this.fontSize = "15px";
    this.fontFamily = "arial";
    this.max_width = this.colorStop_2 = this.colorStop_1 = this.colorStop_0 = this.gradient_y1 = this.gradient_x1 = this.gradient_y0 = this.gradient_x0 = this.stroke_1_Width = this.stroke_1_Color = this.stroke_0_Width = this.stroke_0_Color = null;
    this.fontStr = "";
    this.visible = !0;
    this.Y = this.X = 0;
    var b = document.getElementById("c").getContext("2d")
      , a = /\d+/;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y
    }
    ;
    this.setVisibility = function(a) {
        this.visible = !1 == a ? !1 : !0
    }
    ;
    this.setFormat = function(a) {
        this.align = a.align;
        this.m_Color = a.m_Color;
        this.fontStyle = a.font.fontStyle;
        this.fontWeight = a.font.fontWeight;
        this.fontSize = a.font.fontSize;
        this.fontFamily = a.font.fontFamily;
        this.stroke_0_Color = a.stroke_0_Color;
        this.stroke_0_Width = a.stroke_0_Width;
        this.stroke_1_Color = a.stroke_1_Color;
        this.stroke_1_Width = a.stroke_1_Width;
        this.gradient_x0 = a.gradient_x0;
        this.gradient_y0 = a.gradient_y0;
        this.gradient_x1 = a.gradient_x1;
        this.gradient_y1 = a.gradient_y1;
        this.colorStop_0 = a.colorStop_0;
        this.colorStop_1 = a.colorStop_1;
        this.colorStop_2 = a.colorStop_2;
        this.max_width = a.max_width;
        this.fontStr = "";
        this.fontStr += null == this.fontStyle ? "" : this.fontStyle + " ";
        this.fontStr += null == this.fontWeight ? "" : this.fontWeight + " ";
        this.fontStr += null == this.fontSize ? "" : this.fontSize + " ";
        this.fontStr += null == this.fontFamily ? "" : this.fontFamily + " ";
        this.fontStr = 0 < this.fontStr.length ? this.fontStr.substring(0, this.fontStr.length - 1) : this.fontStr
    }
}
function TextFast(b, a) {
    this.m_Text = "";
    this.m_Color = "#FFFFFF";
    this.draw = function(a) {
        if (this.visible) {
            var b = e >= d.width ? d.width : e
              , c = g >= d.height ? d.height : g
              , r = gameViewMan.viewScale;
            a.drawImage(d, 0, 0, b, c, (this.X - k) * r, (this.Y - f) * r, b * r, c * r)
        }
    }
    ;
    this.drawShadowed = function(a) {
        this.visible && (a.font = this.font,
        a.textAlign = this.align,
        a.fillStyle = "#000000",
        a.fillText(this.m_Text, this.X + 2, this.Y + 2),
        a.fillStyle = this.m_Color,
        a.fillText(this.m_Text, this.X, this.Y))
    }
    ;
    this.align = "right";
    this.fontWeight = this.fontStyle = this.font = null;
    this.fontSize = "15px";
    this.fontFamily = "arial";
    this.max_width = this.colorStop_2 = this.colorStop_1 = this.colorStop_0 = this.gradient_y1 = this.gradient_x1 = this.gradient_y0 = this.gradient_x0 = this.stroke_1_Width = this.stroke_1_Color = this.stroke_0_Width = this.stroke_0_Color = null;
    this.fontStr = "";
    this.Y = this.X = 0;
    this.visible = !0;
    var d = document.createElement("canvas");
    d.width = b;
    d.height = a;
    var c = d.getContext("2d")
      , e = b
      , f = a
      , g = a
      , k = 0;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y
    }
    ;
    this.setText = function(a) {
        this.m_Text = a;
        c.lineJoin = "round";
        c.textAlign = "left";
        c.font = "" == this.fontStr || null == this.fontStr ? this.font : this.fontStr;
        if (null != this.max_width)
            for (a = parseInt(this.fontSize.substring(0, this.fontStr.length - 2)); c.measureText(this.m_Text).width > this.max_width; )
                a--,
                this.fontStr = "",
                this.fontStr += null == this.fontStyle ? "" : this.fontStyle + " ",
                this.fontStr += null == this.fontWeight ? "" : this.fontWeight + " ",
                this.fontStr += a + "px ",
                this.fontStr += null == this.fontFamily ? "" : this.fontFamily + " ",
                this.fontStr = 0 < this.fontStr.length ? this.fontStr.substring(0, this.fontStr.length - 1) : this.fontStr,
                ctx.font = this.fontStr;
        null != this.gradient_x0 && null != this.gradient_y0 && null != this.gradient_x1 && null != this.gradient_y1 ? (a = c.createLinearGradient(this.gradient_x0 + this.X - 5, this.gradient_y0 + this.Y - 20, this.gradient_x1 + this.X - 5, this.gradient_y1 + this.Y - 20),
        null != this.colorStop_0 && a.addColorStop(this.colorStop_0[0], this.colorStop_0[1]),
        null != this.colorStop_1 && a.addColorStop(this.colorStop_1[0], this.colorStop_1[1]),
        null != this.colorStop_2 && a.addColorStop(this.colorStop_2[0], this.colorStop_2[1]),
        c.fillStyle = a) : c.fillStyle = this.m_Color;
        f = parseInt(this.font.substring(0, this.font.length - 2));
        g = Math.floor(1.3 * f);
        g > d.height && (g = d.height);
        a = 0;
        null != this.stroke_0_Width && (a += Number(this.stroke_0_Width));
        null != this.stroke_1_Width && (a += Number(this.stroke_1_Width));
        e = c.measureText(this.m_Text).width + 2 * a;
        c.clearRect(0, 0, d.width, d.height);
        null != this.stroke_0_Color && null != this.stroke_0_Width && (c.strokeStyle = this.stroke_0_Color,
        c.lineWidth = this.stroke_0_Width,
        c.strokeText(this.m_Text, a, f));
        null != this.stroke_1_Color && null != this.stroke_1_Width && (c.strokeStyle = this.stroke_1_Color,
        c.lineWidth = this.stroke_1_Width,
        c.strokeText(this.m_Text, a, f));
        "center" == this.align && (k = Math.floor(e / 2));
        c.fillText(this.m_Text, a, f)
    }
    ;
    this.setFormat = function(a) {
        this.align = a.align;
        this.m_Color = a.m_Color;
        this.fontStyle = a.font.fontStyle;
        this.fontWeight = a.font.fontWeight;
        this.fontSize = a.font.fontSize;
        this.fontFamily = a.font.fontFamily;
        this.stroke_0_Color = a.stroke_0_Color;
        this.stroke_0_Width = a.stroke_0_Width;
        this.stroke_1_Color = a.stroke_1_Color;
        this.stroke_1_Width = a.stroke_1_Width;
        this.gradient_x0 = a.gradient_x0;
        this.gradient_y0 = a.gradient_y0;
        this.gradient_x1 = a.gradient_x1;
        this.gradient_y1 = a.gradient_y1;
        this.colorStop_0 = a.colorStop_0;
        this.colorStop_1 = a.colorStop_1;
        this.colorStop_2 = a.colorStop_2;
        this.max_width = a.max_width;
        this.fontStr = "";
        this.fontStr += null == this.fontStyle ? "" : this.fontStyle + " ";
        this.fontStr += null == this.fontWeight ? "" : this.fontWeight + " ";
        this.fontStr += null == this.fontSize ? "" : this.fontSize + " ";
        this.fontStr += null == this.fontFamily ? "" : this.fontFamily + " ";
        this.fontStr = 0 < this.fontStr.length ? this.fontStr.substring(0, this.fontStr.length - 1) : this.fontStr
    }
    ;
    this.setVisibility = function(a) {
        this.visible = a
    }
}
function Message() {
    this.BTN_NO = 0;
    this.BTN_YES = 1;
    this.BTN_CANCEL = 2;
    this.BTN_SUBMIT = 3;
    this.BTN_OK = 4;
    this.overlay = $("<div id='msgOverlay' class='msgOverlay'>").appendTo($("body"));
    this.msgBox = $("<div id='msgBox' class='msgBox'>").appendTo($("body"));
    this.msgBox_1 = $("<div id='msgBox_1' class='msgBox_1' >").appendTo($("#msgBox"));
    this.captionDiv = $("<div id='msgCaption' class='msgCaption'>").appendTo(this.msgBox_1);
    this.contentDiv = $("<div id='msgContent' class='msgContent'>").appendTo(this.msgBox_1);
    this.buttonsDiv = $("<div id='msgButtons' class='msgButtons'>").appendTo(this.msgBox_1);
    this.callback = "";
    this.noBtn = $("<input type='button' class='msgButton' value='" + MESSAGE_BTN_NO + "'/>");
    this.yesBtn = $("<input type='button' class='msgButton' value='" + MESSAGE_BTN_YES + "'/>");
    this.cancelBtn = $("<input type='button' class='msgButton' value='" + MESSAGE_BTN_CANCEL + "'/>");
    this.submitBtn = $("<input type='button' class='msgButton' value='" + MESSAGE_BTN_SUBMIT + "'/>");
    this.okBtn = $("<input type='button' class='msgButton' value='" + MESSAGE_BTN_OK + "'/>");
    this.messageBox = function(b, a, d, c) {
        "none" == this.msgBox.css("display") && game.modalState++;
        this.captionDiv.html(b);
        this.contentDiv.html(a);
        this.buttonsDiv.empty();
        this.callback = c;
        for (var e = this, b = 0; b < d.length; b++)
            d[b] == this.BTN_NO ? this.buttonsDiv.append(this.noBtn.bind("click", function() {
                e.DoAction(e.BTN_NO)
            })) : d[b] == this.BTN_YES ? this.buttonsDiv.append(this.yesBtn.bind("click", function() {
                e.DoAction(e.BTN_YES)
            })) : d[b] == this.BTN_CANCEL ? this.buttonsDiv.append(this.cancelBtn.bind("click", function() {
                e.DoAction(e.BTN_CANCEL)
            })) : d[b] == this.BTN_SUBMIT ? this.buttonsDiv.append(this.submitBtn.bind("click", function() {
                e.DoAction(e.BTN_SUBMIT)
            })) : d[b] == this.BTN_OK ? this.buttonsDiv.append(this.okBtn.bind("click", function() {
                e.DoAction(e.BTN_OK)
            })) : this.buttonsDiv.append($("<input type='button' class='msgButton' value='" + d[b] + "'/>").bind("click", {
                button: b
            }, function(a) {
                e.DoAction(a.data.button)
            }));
        this.overlay.show();
        setTimeout(function() {
            e.msgBox.show()
        }, 200);
        this.msgBox.css("margin-top", -(this.msgBox.height() / 2) + "px");
        $("#msgBox_1").removeClass("msgBox_1");
        this.changeOrientation(gameScale)
    }
    ;
    this.SetFormat = function(b) {
        b ? ($("#msgBox_1").addClass("msgBox_1"),
        $("#msgBox").removeClass("msgBox"),
        $("#msgBox").addClass("msgBoxFreeRounds"),
        $("#msgCaption").removeClass("msgCaption"),
        $("#msgCaption").addClass("msgCaptionFreeRounds"),
        $("#msgContent").removeClass("msgContent"),
        $("#msgContent").addClass("msgContentFreeRounds"),
        $("#msgButtons").removeClass("msgButtons"),
        $("#msgButtons").addClass("msgButtonsFreeRounds"),
        $("#msgButtons input").each(function(a, b) {
            $(b).addClass("msgButtonFreeRounds");
            $(b).removeClass("msgButton");
            b.value == MESSAGE_BTN_YES || b.value == MESSAGE_BTN_OK ? $(b).addClass("use_now") : b.value == MESSAGE_BTN_NO && $(b).addClass("use_later")
        })) : ($("#msgBox_1").removeClass("msgBox_1"),
        $("#msgBox").addClass("msgBox"),
        $("#msgBox").removeClass("msgBoxFreeRounds"),
        $("#msgCaption").addClass("msgCaption"),
        $("#msgCaption").removeClass("msgCaptionFreeRounds"),
        $("#msgContent").addClass("msgContent"),
        $("#msgContent").removeClass("msgContentFreeRounds"),
        $("#msgButtons").addClass("msgButtons"),
        $("#msgButtons").removeClass("msgButtonsFreeRounds"),
        $("#msgButtons input").each(function(a, b) {
            $(b).addClass("msgButton");
            $(b).removeClass("msgButtonFreeRounds");
            b.value == MESSAGE_BTN_YES || b.value == MESSAGE_BTN_OK ? $(b).removeClass("use_now") : b.value == MESSAGE_BTN_NO && $(b).removeClass("use_later")
        }))
    }
    ;
    this.DoAction = function(b) {
        this.Close();
        "" != this.callback && this.callback(b)
    }
    ;
    this.Close = function() {
        this.overlay.hide();
        this.msgBox.hide();
        game.modalState--
    }
    ;
    this.Hide = function() {
        "block" == this.msgBox.css("display") && (this.overlay.css("visibility", "hidden"),
        this.msgBox.css("visibility", "hidden"))
    }
    ;
    this.Show = function() {
        "block" == this.msgBox.css("display") && (this.overlay.css("visibility", "visible"),
        this.msgBox.css("visibility", "visible"))
    }
    ;
    this.changeOrientation = function(b) {
        var a = gameViewMan.viewScale;
        0.1 == b && (b = 1);
        this.msgBox.css("-webkit-transform", "scale(" + b * a + ")");
        this.msgBox.css("-moz-transform", "scale(" + b * a + ")");
        this.msgBox.css("-ms-transform", "scale(" + b * a + ")");
        this.msgBox.css("-o-transform", "scale(" + b * a + ")")
    }
    ;
    this.setVisibility = function(b) {
        b ? this.Show() : this.Hide()
    }
}
function Account(b, a) {
    this.balance = b;
    this.way243 = !1;
    null != a && (this.way243 = a.way243);
    this.newBalance = 0;
    this.betAmounts = [];
    this.winAmount = 0;
    this.paylinesSelected = this.NUM_PAYLINES = 20;
    this.betAmounts[0] = 1;
    this.betAmounts[1] = 2;
    this.betAmounts[2] = 5;
    this.betAmounts[3] = 10;
    this.betAmounts[4] = 20;
    this.currentBetIndex = 0;
    this.reelsSelected = 5;
    this.way243BetMultiplier = [1, 3, 7, 15, 25];
    this.cur_fcp = this.cur_fcs = this.cur_wcp = this.cur_wcs = this.cur_ds = this.cur_ts = this.cur_cc = "";
    this.creditDenom = 1;
    this.displayAsCredits = !1;
    this.fullPrecision = this.switchToCents = this.baseValueInCents = !0;
    this.fractionalSymbol = this.wholeSymbol = "";
    this.minSuperbet = this.superbet = 0;
    this.currentOnScreenBalance = b;
    this.targetOnScreenWinAmount = this.targetOnScreenBalance = this.startOnScreenWinAmount = this.startOnScreenBalance = this.currentOnScreenWinAmount = 0;
    this.rollUpCounter = this.ROLLUP_TIME = 2E3;
    var d = 0;
    this.update = function(a) {
        if (this.rollUpCounter < this.ROLLUP_TIME) {
            this.rollUpCounter = this.rollUpCounter + a;
            d != 1 && (d = 1);
            if (this.rollUpCounter >= this.ROLLUP_TIME) {
                this.rollUpCounter = this.ROLLUP_TIME;
                d = 2
            }
            this.currentOnScreenWinAmount = this.rollUpCounter / this.ROLLUP_TIME * (this.targetOnScreenWinAmount - this.startOnScreenWinAmount) + this.startOnScreenWinAmount;
            this.currentOnScreenBalance = this.rollUpCounter / this.ROLLUP_TIME * (this.targetOnScreenBalance - this.startOnScreenBalance) + this.startOnScreenBalance
        }
    }
    ;
    this.rollUpState = function() {
        arguments.length > 0 && (d = arguments[0]);
        return d
    }
    ;
    this.recover = function(a) {
        this.currentOnScreenWinAmount = a;
        this.rollUpCounter = this.ROLLUP_TIME;
        this.winAmount = a;
        this.balance = this.newBalance;
        d = 0
    }
    ;
    this.addWin = function(a) {
        if (this.balance < this.newBalance || this.winAmount < a) {
            this.startOnScreenWinAmount = this.winAmount;
            this.targetOnScreenWinAmount = a;
            this.startOnScreenBalance = this.balance;
            this.targetOnScreenBalance = this.newBalance;
            this.rollUpCounter = 0;
            this.winAmount = a;
            this.balance = this.newBalance;
            typeof game.ui.addWin === "function" && game.ui.addWin(a)
        }
    }
    ;
    this.clearWin = function() {
        this.currentOnScreenWinAmount = this.targetOnScreenWinAmount = this.startOnScreenWinAmount = this.winAmount = 0
    }
    ;
    this.takeBet = function() {
        if (this.way243) {
            if (this.betAmounts[this.currentBetIndex] <= this.balance) {
                this.currentOnScreenBalance = this.balance = this.balance - this.betAmounts[this.currentBetIndex] * (this.way243BetMultiplier[this.reelsSelected - 1] + this.superbet);
                typeof game.ui.takeBet === "function" && game.ui.takeBet(this.betAmounts[this.currentBetIndex] * (this.way243BetMultiplier[this.reelsSelected - 1] + this.superbet))
            }
        } else if (this.betAmounts[this.currentBetIndex] <= this.balance) {
            this.currentOnScreenBalance = this.balance = this.balance - this.betAmounts[this.currentBetIndex] * (this.paylinesSelected + this.superbet);
            typeof game.ui.takeBet === "function" && game.ui.takeBet(this.betAmounts[this.currentBetIndex] * (this.paylinesSelected + this.superbet))
        }
        d = 0
    }
    ;
    this.setBalance = function(a) {
        if (this.rollUpCounter == this.ROLLUP_TIME) {
            this.balance = Number(a);
            this.newBalance = Number(a);
            this.currentOnScreenBalance = Number(a);
            d = 0
        } else if (this.targetOnScreenBalance != a) {
            this.rollUpCounter = this.ROLLUP_TIME;
            this.balance = Number(a);
            this.newBalance = Number(a);
            this.currentOnScreenBalance = Number(a);
            d = 0
        }
    }
    ;
    this.syncBalance = function() {
        this.balance != this.newBalance && this.setBalance(this.newBalance)
    }
    ;
    this.snapMeters = function() {
        this.currentOnScreenBalance = this.balance;
        this.currentOnScreenWinAmount = this.winAmount;
        this.rollUpCounter = this.ROLLUP_TIME;
        d = 0
    }
    ;
    this.setNumPaylines = function(a, b) {
        this.NUM_PAYLINES = a;
        this.paylinesSelected = b
    }
    ;
    this.setMaxPaylines = function() {
        this.paylinesSelected = this.NUM_PAYLINES
    }
    ;
    this.setMaxBet = function() {
        this.currentBetIndex = this.betAmounts.length - 1
    }
    ;
    this.setBetAmounts = function(a) {
        this.betAmounts.length = 0;
        for (var a = a.split("|"), b = 0; b < a.length - 1; b++)
            this.betAmounts.push(Number(a[b]))
    }
    ;
    this.setCurrentBetAmount = function(a) {
        for (var b = 0; b < this.betAmounts.length; b++)
            if (a == this.betAmounts[b]) {
                this.currentBetIndex = b;
                break
            }
    }
    ;
    this.getBetAmount = function() {
        return this.way243 ? this.betAmounts[this.currentBetIndex] * (this.way243BetMultiplier[this.reelsSelected - 1] + this.superbet) : this.betAmounts[this.currentBetIndex] * (this.paylinesSelected + this.superbet)
    }
    ;
    this.getScratchBetAmount = function() {
        return this.betAmounts[this.currentBetIndex]
    }
    ;
    this.getBetPerLine = function() {
        return this.betAmounts[this.currentBetIndex]
    }
    ;
    this.setBetPerLine = function(a) {
        for (var b = 0; b < this.betAmounts.length; b++)
            if (this.betAmounts[b] == a) {
                this.currentBetIndex = b;
                break
            }
    }
    ;
    this.incBetIndex = function() {
        this.currentBetIndex++;
        this.currentBetIndex = this.currentBetIndex % this.betAmounts.length
    }
    ;
    this.decBetIndex = function() {
        this.currentBetIndex--;
        if (this.currentBetIndex < 0)
            this.currentBetIndex = this.betAmounts.length - 1
    }
    ;
    this.getBetIndex = function() {
        return this.currentBetIndex
    }
    ;
    this.getBetAmountsLength = function() {
        return this.betAmounts.length
    }
    ;
    this.getMinBetAmount = function() {
        return this.betAmounts[0]
    }
    ;
    this.setBetIndex = function(a) {
        this.currentBetIndex = a
    }
    ;
    this.setPaylines = function(a) {
        this.paylinesSelected = a > this.NUM_PAYLINES ? this.NUM_PAYLINES : a < 1 ? 1 : a
    }
    ;
    this.incPaylines = function() {
        switch (this.paylinesSelected) {
        case 1:
            this.paylinesSelected = 3;
            break;
        case 3:
            this.paylinesSelected = 5;
            break;
        case 5:
            this.paylinesSelected = 10;
            break;
        case 10:
            this.paylinesSelected = 15;
            break;
        case 15:
            this.paylinesSelected = 20;
            break;
        case 20:
            this.paylinesSelected = this.NUM_PAYLINES > 20 ? 25 : 1;
            break;
        case 25:
            this.paylinesSelected = this.NUM_PAYLINES > 25 ? 30 : 1;
            break;
        case 30:
            this.paylinesSelected = 40;
            break;
        case 40:
            this.paylinesSelected = 50;
            break;
        case 50:
            this.paylinesSelected = 1
        }
    }
    ;
    this.decPaylines = function() {
        switch (this.paylinesSelected) {
        case 1:
            this.paylinesSelected = this.NUM_PAYLINES > 25 ? 50 : this.NUM_PAYLINES > 20 ? 25 : this.NUM_PAYLINES;
            break;
        case 3:
            this.paylinesSelected = 1;
            break;
        case 5:
            this.paylinesSelected = 3;
            break;
        case 10:
            this.paylinesSelected = 5;
            break;
        case 15:
            this.paylinesSelected = 10;
            break;
        case 20:
            this.paylinesSelected = 15;
            break;
        case 25:
            this.paylinesSelected = 20;
            break;
        case 30:
            this.paylinesSelected = 25;
            break;
        case 40:
            this.paylinesSelected = 30;
            break;
        case 50:
            this.paylinesSelected = 40
        }
    }
    ;
    this.setReels = function(a) {
        this.reelsSelected = a > 5 ? 5 : a < 1 ? 1 : a
    }
    ;
    this.incReels = function() {
        this.reelsSelected++;
        if (this.reelsSelected > 5)
            this.reelsSelected = 1
    }
    ;
    this.decReels = function() {
        this.reelsSelected--;
        if (this.reelsSelected < 1)
            this.reelsSelected = 5
    }
    ;
    this.canBet = function() {
        //console.log("#####GAME_INTERACTION-WindowObj at canBet to check lowBalanceCheck");
		return typeof windowObj.clientLowBalanceCheck !== "undefined" && !windowObj.clientLowBalanceCheck() || typeof game.freeRounds !== "undefined" && game.freeRounds.inFreeRounds ? true : this.way243 ? this.betAmounts[this.currentBetIndex] * (this.way243BetMultiplier[this.reelsSelected - 1] + this.superbet) <= this.balance : this.betAmounts[this.currentBetIndex] * (this.paylinesSelected + this.superbet) <= this.balance
    }
    ;
    this.getBalanceStr = function() {
        return this.getCurrencyString(this.balance)
    }
    ;
    this.getBetAmountStr = function() {
        return this.way243 ? this.getCurrencyString(this.betAmounts[this.currentBetIndex] * (this.way243BetMultiplier[this.reelsSelected - 1] + this.superbet)) : this.getCurrencyString(this.betAmounts[this.currentBetIndex] * (this.paylinesSelected + this.superbet))
    }
    ;
    this.getScratchBetAmountStr = function() {
        return this.getCurrencyString(this.betAmounts[this.currentBetIndex])
    }
    ;
    this.getBetPerLineStr = function() {
        return this.getCurrencyString(this.betAmounts[this.currentBetIndex])
    }
    ;
    this.getWinAmountStr = function() {
        return this.getCurrencyString(this.winAmount)
    }
    ;
    this.setDisplayAsCredits = function(a) {
        this.displayAsCredits = a
    }
    ;
    this.getCurrencyString = function(a) {
        if (this.displayAsCredits)
            a = String(Math.floor(a / this.creditDenom));
        else {
            var b, d;
            this.baseValueInCents && (a = a / 100);
            b = Math.floor(a);
            d = Math.round((a - b) * 100);
            if (d >= 100) {
                d = 0;
                b++
            }
            a = this.cur_ts != null && this.cur_ts != "" ? this.InsertCommas(b) : b;
            a = b > 0 ? this.AddWholeCurrencySymbol(a, d) : this.AddFractionCurrencySymbol(d)
        }
        return a
    }
    ;
    this.InsertCommas = function(a) {
        for (var b = "", a = a + "", d = 0, g = 0, g = a.length - 1; g >= 0; g--) {
            d++;
            b = a.charAt(g) + b;
            d % 3 == 0 && g > 0 && (b = "" + this.cur_ts + b)
        }
        return b
    }
    ;
    this.AddWholeCurrencySymbol = function(a, b) {
        var d = "";
        b > 0 ? d = b < 10 ? "" + this.cur_ds + "0" + b : "" + this.cur_ds + b : this.fullPrecision && (d = "" + this.cur_ds + "00");
        d = a + d;
        this.cur_wcp == "L" ? d = this.wholeSymbol + d : this.cur_wcp == "R" && (d = d + this.wholeSymbol);
        return d
    }
    ;
    this.AddFractionCurrencySymbol = function(a) {
        if (this.switchToCents)
            a = this.cur_fcp == "L" ? this.fractionalSymbol + a : a + this.fractionalSymbol;
        else {
            a = a < 10 ? "0" + this.cur_ds + "0" + a : "0" + this.cur_ds + a;
            a = this.cur_wcp == "L" ? this.wholeSymbol + a : a + this.wholeSymbol
        }
        return a
    }
    ;
    this.setCurrency = function(a) {
        a = a.split("|");
        this.cur_cc = a[0];
        this.cur_ts = a[1];
        this.cur_ds = a[2];
        this.cur_wcs = a[3];
        this.cur_wcp = a[4];
        this.cur_fcs = a[5];
        this.cur_fcp = a[6];
        if (this.cur_wcs != "") {
            a = this.cur_wcs.substr(0, this.cur_wcs.length - 1).split(";");
            this.wholeSymbol = String.fromCharCode.apply(String, a)
        }
        if (this.cur_fcs != "") {
            a = this.cur_fcs.substr(0, this.cur_fcs.length - 1).split(";");
            this.fractionalSymbol = String.fromCharCode.apply(String, a)
        }
        if ($.trim(this.fractionalSymbol) == "")
            this.switchToCents = false
    }
}
function SoundDialog(b) {
    this.soundSelected = -1;
    this.textHeight = 15;
    this.buttonGap = 10;
    this.scale = 1;
    this.payHeight = this.payWidth = 0;
    this.txt = new Text;
    this.txt.font = "24px arial";
    this.txt.align = "center";
    this.txt.m_Color = "#FFFFFF";
    this.txt.stroke_0_Color = "black";
    this.txt.stroke_0_Width = 3;
    this.config = {};
    Object.getPrototypeOf(b).fillRectR = function(a, b, c, e, f) {
        "undefined" === typeof f && (f = 5);
        this.beginPath();
        this.moveTo(a + f, b);
        this.lineTo(a + c - f, b);
        this.quadraticCurveTo(a + c, b, a + c, b + f);
        this.lineTo(a + c, b + e - f);
        this.quadraticCurveTo(a + c, b + e, a + c - f, b + e);
        this.lineTo(a + f, b + e);
        this.quadraticCurveTo(a, b + e, a, b + e - f);
        this.lineTo(a, b + f);
        this.quadraticCurveTo(a, b, a + f, b);
        this.closePath();
        this.fill()
    }
    ;
    Object.getPrototypeOf(b).strokeRectR = function(a, b, c, e, f) {
        "undefined" === typeof f && (f = 5);
        this.beginPath();
        this.moveTo(a + f, b);
        this.lineTo(a + c - f, b);
        this.quadraticCurveTo(a + c, b, a + c, b + f);
        this.lineTo(a + c, b + e - f);
        this.quadraticCurveTo(a + c, b + e, a + c - f, b + e);
        this.lineTo(a + f, b + e);
        this.quadraticCurveTo(a, b + e, a, b + e - f);
        this.lineTo(a, b + f);
        this.quadraticCurveTo(a, b, a + f, b);
        this.closePath();
        this.stroke()
    }
    ;
    this.drawDialog = function(a) {
        this.config = a;
        this.soundSelected = 0;
        this.payWidth = a.W;
        this.payHeight = a.H;
        this.txt.m_Text = TXT_USE_SOUND;
        this.txt.setPosition({
            x: a.X + 200,
            y: a.Y - 20
        });
        this.txt.draw(b);
        var d = b.createLinearGradient(a.X, this.payHeight * (1 - this.scale) / 2 + a.Y, a.X, this.payHeight - this.payHeight * (1 - this.scale) / 2 + a.Y);
        d.addColorStop(0, "rgb(181,189,200)");
        d.addColorStop(0.36, "rgb(130,140,149)");
        d.addColorStop(1, "rgb(40,52,59)");
        var c = b.createLinearGradient(a.X, this.payHeight * (1 - this.scale) / 2 + a.Y, a.X, this.payHeight - this.payHeight * (1 - this.scale) / 2 + a.Y);
        c.addColorStop(0, "rgb(100,100,100)");
        c.addColorStop(0.2, "rgb(100,100,100)");
        c.addColorStop(0.8, "rgb(100,100,100)");
        c.addColorStop(1, "rgb(0,0,0)");
        for (var e = 0; 2 > e; e++)
            a.V == e && (this.scale = 0.95,
            this.txt.font = "22px arial"),
            b.beginPath(),
            b.lineWidth = 2,
            b.strokeStyle = "rgb(153, 189, 103)",
            b.fillStyle = d,
            b.fillRectR(a.X + this.payWidth * (1 - this.scale) / 2 + (this.payWidth + this.buttonGap) * e, this.payHeight * (1 - this.scale) / 2 + a.Y, this.payWidth * this.scale, this.payHeight * this.scale, 10),
            b.strokeStyle = c,
            b.strokeRectR(a.X + this.payWidth * (1 - this.scale) / 2 + 1 + (this.payWidth + this.buttonGap) * e, this.payHeight * (1 - this.scale) / 2 + a.Y, this.payWidth * this.scale - 2, this.payHeight * this.scale - 2, 10),
            this.txt.m_Text = 0 == e ? MESSAGE_BTN_YES : MESSAGE_BTN_NO,
            this.txt.setPosition({
                x: a.X + this.payWidth / 2 + (this.payWidth + this.buttonGap) * e,
                y: (this.payHeight - this.textHeight) / 2 + this.textHeight - 2 + a.Y
            }),
            this.txt.draw(b),
            this.scale = 1,
            this.txt.font = "24px arial"
    }
    ;
    this.isOver = function(a) {
        return 0 == soundDialog.soundSelected ? a.x > this.config.X && a.x < this.config.X + this.config.W && a.y > this.config.Y - 20 && a.y < this.config.Y + this.config.H - 20 ? 0 : a.x > this.config.X + this.config.W + 10 && a.x < this.config.X + 2 * this.config.W + 10 && a.y > this.config.Y - 20 && a.y < this.config.Y + this.config.H - 20 ? 1 : -1 : -1
    }
    ;
    this.isClicked = function() {
        return this.config.V
    }
}
function Button(b, a) {
    this.image = b;
    this.designW = a.designW || a.nwidth;
    this.designH = a.designH || a.nheight;
    this.width = a.nwidth;
    this.height = a.nheight;
    this.Y = this.X = 0;
    this.nx = a.nx;
    this.ny = a.ny;
    this.nwidth = a.nwidth;
    this.nheight = a.nheight;
    this.dx = a.dx || a.nx;
    this.dy = a.dy || a.ny;
    this.dwidth = a.dwidth || a.nwidth;
    this.dheight = a.dheight || a.nheight;
    this.ax = "undefined" === a.ax ? 0 : a.ax;
    this.ay = "undefined" === a.ay ? 0 : a.ay;
    this.awidth = "undefined" === a.awidth ? 0 : a.awidth;
    this.aheight = "undefined" === a.aheight ? 0 : a.aheight;
    this.isActive = this.isDisabled = this.isDown = !1;
    this.visible = !0;
    this.scale = 0.9;
    this.hitPadding = 0;
    var d = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y
    }
    ;
    this.updateScale = function() {
        this.isDown && (this.scale -= 0.01,
        0.7 >= this.scale && (this.scale = 0.7))
    }
    ;
    this.draw = function() {
        var a = gameViewMan.viewScale, b, f, g, k, p = this.designW / this.nwidth, n = this.designH / this.nheight;
        this.isActive ? (b = this.ax,
        f = this.ay,
        g = this.awidth,
        k = this.aheight) : this.isDisabled ? (b = this.dx,
        f = this.dy,
        g = this.dwidth,
        k = this.dheight) : (b = this.nx,
        f = this.ny,
        g = this.nwidth,
        k = this.nheight);
        this.isDown ? d.drawImage(this.image, b, f, g, k, (this.X + g * p / 2 * (1 - this.scale)) * a, (this.Y + k * n / 2 * (1 - this.scale)) * a, this.designW * this.scale * a, this.designH * this.scale * a) : d.drawImage(this.image, b, f, g, k, this.X * a, this.Y * a, this.designW * a, this.designH * a)
    }
    ;
    this.isOver = function(a) {
        return this.isDisabled ? !1 : a.x > this.X - this.hitPadding && a.x < this.X + this.designW + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.designH + this.hitPadding ? !0 : !1
    }
}
function Button2(b, a) {
    this.designW = b.designW || b.width;
    this.designH = b.designH || b.height;
    this.width = b.width;
    this.height = b.height;
    this.radius = b.radius;
    this.Y = this.X = 0;
    this.borderGrad = this.fillGrad = null;
    this.textCol = "rgb(100,100,100)";
    this.isDisabled = this.isDown = !1;
    this.scale = 0.9;
    this.hitPadding = 0;
    this.txt = new Text;
    this.txt.font = "24px arial";
    this.txt.align = "center";
    this.txt.m_Color = "#FFFFFF";
    this.txt.stroke_0_Color = "black";
    this.txt.stroke_0_Width = 3;
    this.txt.m_Text = a;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y;
        this.txt.setPosition({
            x: this.X + this.width / 2,
            y: this.Y + this.height / 2 + 10
        })
    }
    ;
    this.setColours = function(a, b, e) {
        this.fillGrad = a;
        this.borderGrad = b;
        this.textCol = e
    }
    ;
    this.updateScale = function() {
        this.isDown && (this.scale -= 0.01,
        0.7 >= this.scale && (this.scale = 0.7))
    }
    ;
    this.draw = function() {
        try {
            if (!this.isDisabled) {
                ctx.lineWidth = 2;
                ctx.strokeStyle = "rgb(153, 189, 103)";
                var a = ctx.createLinearGradient(this.X, this.Y, this.X, this.Y + this.height);
                a.addColorStop(0, "rgb(181,189,200)");
                a.addColorStop(0.36, "rgb(130,140,149)");
                a.addColorStop(1, "rgb(40,52,59)");
                var b = ctx.createLinearGradient(this.X, this.Y, this.X, this.Y + this.height);
                b.addColorStop(0, "rgb(100,100,100)");
                b.addColorStop(0.2, "rgb(100,100,100)");
                b.addColorStop(0.8, "rgb(100,100,100)");
                b.addColorStop(1, "rgb(0,0,0)");
                ctx.fillStyle = a;
                ctx.strokeStyle = b;
                this.isDown ? (ctx.fillRectR(this.X + 4, this.Y + 4, this.width - 8, this.height - 8, this.radius),
                ctx.strokeRectR(this.X + 4, this.Y + 4, this.width - 8, this.height - 8, this.radius)) : (ctx.fillRectR(this.X, this.Y, this.width, this.height, this.radius),
                ctx.strokeRectR(this.X, this.Y, this.width, this.height, this.radius));
                this.txt.draw(ctx)
            }
        } catch (e) {}
    }
    ;
    this.isOver = function(a) {
        return this.isDisabled ? !1 : a.x > this.X - this.hitPadding && a.x < this.X + this.designW + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.designH + this.hitPadding ? !0 : !1
    }
}
function Button3(b, a, d) {
    this.image = b;
    this.designW = a.designW || a.nwidth;
    this.designH = a.designH || a.nheight;
    this.width = a.nwidth;
    this.height = a.nheight;
    this.Y = this.X = 0;
    this.nx = a.nx;
    this.ny = a.ny;
    this.nwidth = a.nwidth;
    this.nheight = a.nheight;
    this.dx = a.dx;
    this.dy = a.dy;
    this.dwidth = a.dwidth;
    this.dheight = a.dheight;
    this.ax = "undefined" === a.ax ? 0 : a.ax;
    this.ay = "undefined" === a.ay ? 0 : a.ay;
    this.awidth = "undefined" === a.awidth ? 0 : a.awidth;
    this.aheight = "undefined" === a.aheight ? 0 : a.aheight;
    this.isActive = this.isDisabled = this.isDown = !1;
    this.scale = 0.9;
    this.hitPadding = 0;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y
    }
    ;
    this.updateScale = function() {
        this.isDown && (this.scale -= 0.01,
        0.7 >= this.scale && (this.scale = 0.7))
    }
    ;
    this.draw = function() {
        var a = gameViewMan.viewScale, b, f, g, k, p = this.designW / this.nwidth, n = this.designH / this.nheight;
        this.isActive ? (b = this.ax,
        f = this.ay,
        g = this.awidth,
        k = this.aheight) : this.isDisabled ? (b = this.dx,
        f = this.dy,
        g = this.dwidth,
        k = this.dheight) : (b = this.nx,
        f = this.ny,
        g = this.nwidth,
        k = this.nheight);
        this.isDown ? d.drawImage(this.image, b, f, g, k, (this.X + g * p / 2 * (1 - this.scale)) * a, (this.Y + k * n / 2 * (1 - this.scale)) * a, this.designW * this.scale * a, this.designH * this.scale * a) : d.drawImage(this.image, b, f, g, k, this.X * a, this.Y * a, this.designW * a, this.designH * a)
    }
    ;
    this.isOver = function(a) {
        return this.isDisabled ? !1 : a.x > this.X - this.hitPadding && a.x < this.X + this.designW + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.designH + this.hitPadding ? !0 : !1
    }
}
function deg2rad(b) {
    return 0.017453292519943295 * b
}
function rad2deg(b) {
    return 57.29577951308232 * b
}
function getOffset(b) {
    for (var a = 0, d = 0; b && !isNaN(b.offsetLeft) && !isNaN(b.offsetTop); )
        a += b.offsetLeft - b.scrollLeft,
        d += b.offsetTop - b.scrollTop,
        b = b.offsetParent;
    return {
        top: d,
        left: a
    }
}
var convertToBitfield = function(b, a, d, c, e) {
    var f = Array(4);
    f[0] = [1, 2, 4, 8, 16];
    f[1] = [32, 64, 128, 256, 512];
    f[2] = [1024, 2048, 4096, 8192, 16384];
    f[3] = [32768, 65536, 131072, 262144, 524288];
    var g = 0;
    -1 != b && (g |= f[b][0]);
    -1 != a && (g |= f[a][1]);
    -1 != d && (g |= f[d][2]);
    -1 != c && (g |= f[c][3]);
    -1 != e && (g |= f[e][4]);
    return g
};
function RemoveDelimiter(b, a) {
    b.charAt(b.length - 1) == a && (b = b.substr(0, b.length - 1));
    return b
}
TranslateReelString = function(b) {
    var a;
    a = RemoveDelimiter(b, "|");
    var b = ""
      , d = 0
      , c = ""
      , e = []
      , e = a.split("|");
    for (a = 0; a < e.length; a++) {
        var f = e[a]
          , g = []
          , g = f.split(">");
        g[1] = RemoveDelimiter(g[1], ";");
        var g = CreateDecodedString(g[1], 5, ";").split(";")
          , k = "";
        if ("" != f) {
            for (var k = f = "", p = 0; p < g.length; p++)
                "" != g[p] && (f = f + k + g[p],
                k = ";");
            k = c + f;
            c = "|";
            d++;
            b += k
        }
    }
    return b
}
;
TranslateReplacedReelString = function(b) {
    var a;
    a = RemoveDelimiter(b, "|");
    var b = ""
      , d = 0
      , c = ""
      , e = []
      , e = a.split("|");
    for (a = 0; a < e.length; a++) {
        var f = e[a]
          , g = []
          , k = f.split(">");
        k[1] = RemoveDelimiter(k[1], ";");
        var g = CreateDecodedString(k[1], 5, ";").split(";")
          , p = "";
        if ("" != f) {
            for (var p = f = "", n = 0; n < g.length; n++)
                "" != g[n] && (f = f + p + g[n],
                p = ";");
            p = f;
            b = b + c + k[0] + "#" + p;
            c = "|";
            d++
        }
    }
    return b
}
;
function CreateDecodedString(b, a, d) {
    for (var b = b.split(d), d = Array(b.length), c = 0; c < b.length; c++)
        d[c] = DecodeReelStripNumbers(parseInt(b[c], 36), a, ",");
    return d.join(",")
}
function DecodeReelStripNumbers(b, a, d) {
    for (var c = "", e = Math.pow(2, 3) - 1, e = b & e, f = 3, g = 0; g < e; g++) {
        var k = Math.pow(2, a + f) - 1
          , c = c + ((b & k) >> f)
          , f = f + a;
        g < e - 1 && (c += d)
    }
    return c
}
function applyCanvasMask(b, a, d, c, e) {
    if (!document.createElement("canvas").getContext && !e)
        return b;
    if (!document.createElement("canvas").getContext && e)
        return b.src;
    var f = document.createElement("canvas")
      , g = f.getContext("2d")
      , k = document.createElement("canvas")
      , p = k.getContext("2d")
      , n = null
      , q = null
      , r = null;
    k.width = d;
    k.height = c;
    f.width = d;
    f.height = 2 * c;
    g.drawImage(b, 0, 0);
    g.drawImage(a, 0, c);
    n = g.getImageData(0, 0, d, c);
    q = n.data;
    r = g.getImageData(0, c, d, c).data;
    b = 3;
    for (a = q.length; b < a; b += 4)
        q[b] = r[b];
    e && p.clearRect(0, 0, d, c);
    p.putImageData(n, 0, 0);
    return k
}
function parseErrorMsg(b) {
    var a = "";
    switch (b) {
    case "ERROR":
        a = TXT_ERROR;
        break;
    case "ERROR_PROTOCOL":
        a = TXT_ERROR_PROTOCOL;
        break;
    case "ERROR_PROTOCOL_SEQUENCE":
        a = TXT_ERROR_PROTOCOL_SEQUENCE;
        break;
    case "ERROR_UNKNOWN_PARAMETER":
        a = TXT_ERROR_UNKNOWN_PARAMETER;
        break;
    case "ERROR_MISSING_PARAMETER":
        a = TXT_ERROR_MISSING_PARAMETER;
        break;
    case "ERROR_PARAMETER_VALUE":
        a = TXT_ERROR_PARAMETER_VALUE;
        break;
    case "ERROR_BET_LIMITS":
        a = TXT_ERROR_BET_LIMITS;
        break;
    case "ERROR_LINES":
        a = TXT_ERROR_LINES;
        break;
    case "ERROR_FEATURE_PARAMETERS":
        a = TXT_ERROR_FEATURE_PARAMETERS;
        break;
    case "ERROR_JACKPOT":
        a = TXT_ERROR_JACKPOT;
        break;
    case "ERROR_UNKNOWN":
        a = TXT_ERROR_UNKNOWN;
        break;
    case "ERROR_NULL":
        a = TXT_ERROR_NULL;
        break;
    case "ERROR_INSUFFICIENTFUNDS":
        a = TXT_ERROR_INSUFFICIENTFUNDS;
        break;
    case "ERROR_STATESAVE":
        a = TXT_ERROR_STATESAVE;
        break;
    case "ERROR_STARTGAME":
        a = TXT_ERROR_STARTGAME;
        break;
    case "ERROR_ENDGAME":
        a = TXT_ERROR_ENDGAME;
        break;
    case "ERROR_GAMENOTSUPPORTED":
        a = TXT_ERROR_GAMENOTSUPPORTED;
        break;
    case "ERROR_TIMEOUT":
        a = TXT_ERROR_TIMEOUT;
        break;
    case "ERROR_SERVLET":
        a = TXT_ERROR_SERVLET;
        break;
    case "ERROR_GAMING_LIMITS":
        a = TXT_ERROR_GAMING_LIMITS;
        break;
    case "ERROR_INVALID_SESSION":
        a = TXT_ERROR_INVALID_SESSION;
        break;
    case "ERROR_ACCOUNT_BLOCKED":
        a = TXT_ERROR_ACCOUNT_BLOCKED;
        break;
    case "ERROR_DEFAULT":
        a = TXT_ERROR_DEFAULT;
        break;
    case "INFO_RECOVERING":
        a = TXT_RECOVERING;
        break;
    default:
        a = TXT_ERROR_DEFAULT
    }
    return a
}
function parseTextFormatToCSS(b) {
    if ($.isArray(b))
        $.each(b, function(a) {
            b[a] = parseTextFormatToCSS(b[a])
        });
    else {
        var a = b.indexOf("#C")
          , d = b.indexOf("[");
        -1 != a && -1 != d ? (a = b.substring(a + 1, d),
        b = b.replace("#" + a + "[", "<span class='txt_" + a + "'>"),
        b = parseTextFormatToCSS(b)) : b = b.replace(/]/g, "</span>")
    }
    return b
}
function Clock() {
    this.enabled = !1;
    this.timeStr = "";
    this.text = new TextFast(80,30);
    this.text.font = "20px arial";
    this.text.align = "left";
    this.text.m_Color = "#FFFFFF";
    this.updateCounter = this.UPDATE_FREQUENCY = 1E3;
    this.position = {
        x: 830,
        y: 20
    };
    this.backgroundPosition = {
        offsetX: -5,
        offsetY: -this.position.y,
        width: 60,
        height: 24
    };
    this.setClockSize = function(b) {
        0 == b ? (this.text.font = "20px arial",
        this.position = {
            x: 830,
            y: 20
        },
        this.backgroundPosition = {
            offsetX: -5,
            offsetY: -this.position.y,
            width: 60,
            height: 24
        }) : 1 == b && (this.text.font = "25px arial",
        this.position = {
            x: 815,
            y: 23
        },
        this.backgroundPosition = {
            offsetX: -5,
            offsetY: -this.position.y,
            width: 75,
            height: 32
        })
    }
    ;
    this.init = function(b) {
        var a = new Date;
        this.timeStr = ("0" + a.getHours()).slice(-2) + ":" + ("0" + a.getMinutes()).slice(-2);
        this.text.setText(this.timeStr);
        "undefined" !== typeof b && (this.position = b,
        this.backgroundPosition.offsetY = -this.position.y);
        this.text.setPosition(this.position)
    }
    ;
    this.update = function(b) {
        this.updateCounter -= b;
        0 >= this.updateCounter && (b = new Date,
        this.timeStr = ("0" + b.getHours()).slice(-2) + ":" + ("0" + b.getMinutes()).slice(-2),
        this.timeStr != this.text.m_Text && this.text.setText(this.timeStr),
        this.updateCounter = this.UPDATE_FREQUENCY)
    }
    ;
    this.draw = function() {
        if (this.enabled) {
            var b = gameViewMan.viewScale;
            ctx.beginPath();
            ctx.rect((this.position.x + this.backgroundPosition.offsetX) * b, (this.position.y + this.backgroundPosition.offsetY) * b, this.backgroundPosition.width * b, this.backgroundPosition.height * b);
            ctx.fillStyle = "rgba(0,0,0,0.4)";
            ctx.fill();
            this.text.draw(ctx)
        }
    }
}
function Meters(b) {
    void 0 === b && (b = {});
    gameViewMan.addDirtyObject(this);
    var a = b.meterWidth || 960
      , d = b.meterHeight || 32
      , c = gameViewMan.maxCanvasWidth
      , e = d * (c / a)
      , f = 24
      , g = 24
      , k = 26
      , p = 26
      , n = document.createElement("canvas");
    n.width = c;
    n.height = e;
    var q = n.getContext("2d");
    this.textBalanceLabel = new Text;
    this.textBalanceLabel.align = "left";
    this.textBalanceLabel.m_Color = "yellow";
    this.textBetLabel = new Text;
    this.textBetLabel.align = "left";
    this.textBetLabel.m_Color = "yellow";
    this.textWinLabel = new Text;
    this.textWinLabel.align = "left";
    this.textWinLabel.m_Color = "yellow";
    this.textBalanceValue = new Text;
    this.textBalanceValue.align = "left";
    this.textBalanceValue.m_Color = "#FFFFFF";
    this.textBetValue = new Text;
    this.textBetValue.align = "left";
    this.textBetValue.m_Color = "#FFFFFF";
    this.textWinValue = new Text;
    this.textWinValue.align = "left";
    this.textWinValue.m_Color = "#FFFFFF";
    var r = {};
    this.meterBGImage = b.meterBGImage;
    this.meterBackroundGradient = [{
        p: 0,
        col: "#000000"
    }, {
        p: 1,
        col: "#000000"
    }];
    this.setBackground = function(a) {
        this.meterBackroundGradient = a;
        this.dirty = !0
    }
    ;
    this.getBackground = function() {
        return this.meterBackroundGradient
    }
    ;
    this.setFontColour = function(a, b) {
        this.textBalanceLabel.m_Color = a;
        this.textBetLabel.m_Color = a;
        this.textWinLabel.m_Color = a;
        this.textBalanceValue.m_Color = b;
        this.textBetValue.m_Color = b;
        this.textWinValue.m_Color = b
    }
    ;
    this.getLabelColour = function() {
        return this.textBalanceLabel.m_Color
    }
    ;
    this.getValueColour = function() {
        return this.textBalanceValue.m_Color
    }
    ;
    this.refreshTexture = function() {
        var b = gameViewMan.viewScale
          , c = this.meterBGImage;
        if (c)
            q.clearRect(0, 0, a * b, d * b),
            q.drawImage(c, 0, 0, c.width, c.height, 0, 0, c.width * b, c.height * b);
        else {
            c = this.meterBackroundGradient;
            r = q.createLinearGradient(0, 0, 0, d * b);
            for (var e = 0; e < c.length; e++)
                r.addColorStop(c[e].p, c[e].col);
            q.beginPath();
            q.rect(0, 0, a * b, d * b);
            q.fillStyle = r;
            q.fill()
        }
        this.textBalanceLabel.drawShadowed(q, b);
        this.textBetLabel.drawShadowed(q, b);
        this.textWinLabel.drawShadowed(q, b);
        this.textBalanceValue.drawShadowed(q, b);
        this.textBetValue.drawShadowed(q, b);
        this.textWinValue.drawShadowed(q, b)
    }
    ;
    this.updateMeterLabels = function() {
        var b = gameViewMan.viewScale;
        f = Number(METER_LABEL_SIZE_L.slice(0, -2)) * b;
        g = Number(METER_VALUE_SIZE_L.slice(0, -2)) * b;
        k = d * b - (d * b - f) / 2 - 4 * b;
        p = d * b - (d * b - g) / 2 - 4 * b;
        this.textBalanceLabel.font = f + "px arial";
        this.textBetLabel.font = f + "px arial";
        this.textWinLabel.font = f + "px arial";
        this.textBalanceValue.font = g + "px arial";
        this.textBetValue.font = g + "px arial";
        this.textWinValue.font = g + "px arial";
        var c = Math.floor(0.02 * a) * b;
        this.textBalanceLabel.setPosition({
            x: c,
            y: k
        });
        var e = Number(METER_BALANCE_WIDTH.slice(0, -1))
          , n = Math.floor(a * ((2 + e) / 100)) * b;
        this.textBetLabel.setPosition({
            x: n,
            y: k
        });
        var r = Number(METER_BET_WIDTH.slice(0, -1))
          , b = Math.floor(a * ((2 + e + r) / 100)) * b;
        this.textWinLabel.setPosition({
            x: b,
            y: k
        });
        q.lineJoin = "round";
        q.textAlign = "left";
        q.font = this.textBalanceLabel.font;
        c = q.measureText(this.textBalanceLabel.m_Text).width + c + 5;
        this.textBalanceValue.setPosition({
            x: c,
            y: p
        });
        c = q.measureText(this.textBetLabel.m_Text).width + n + 5;
        this.textBetValue.setPosition({
            x: c,
            y: p
        });
        c = q.measureText(this.textWinLabel.m_Text).width + b + 5;
        this.textWinValue.setPosition({
            x: c,
            y: p
        })
    }
    ;
    this.setMeterLabels = function(a, b, c) {
        this.textBalanceLabel.m_Text = a;
        this.textBetLabel.m_Text = b;
        this.textWinLabel.m_Text = c;
        this.dirty = !0
    }
    ;
    this.setMeterBalanceValue = function(a) {
        this.textBalanceValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.setMeterBetValue = function(a) {
        this.textBetValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.setMeterWinValue = function(a) {
        this.textWinValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.draw = function() {
        this.dirty && (this.dirty = !1,
        this.updateMeterLabels(),
        this.refreshTexture());
        var b = gameViewMan.viewScale
          , c = d * b;
        ctx.drawImage(n, 0, 0, a * b, c, 0, "undefined" != typeof game.jackpotMeters && game.jackpotMeters.isJackPotGame ? -64 * b : -32 * b, a * b, c)
    }
}
function JackPotMeters() {
    var b = document.createElement("canvas");
    b.width = 960;
    b.height = 32;
    var a = b.getContext("2d")
      , d = {};
    this.meterBackroundGradient = [{
        p: 0,
        col: "#000000"
    }, {
        p: 1,
        col: "#000000"
    }];
    this.isJackPotGame = !1;
    this.refreshTexture = function() {
        a.beginPath();
        a.rect(0, 0, 960, 32);
        a.fillStyle = d;
        a.fill()
    }
    ;
    this.setBackground = function(b) {
        this.meterBackroundGradient = b;
        d = a.createLinearGradient(0, 0, 0, 32);
        for (var e = 0; e < b.length; e++)
            d.addColorStop(b[e].p, b[e].col);
        this.refreshTexture()
    }
    ;
    this.setBackground(this.meterBackroundGradient);
    this.getBackground = function() {
        return this.meterBackroundGradient
    }
    ;
    this.draw = function() {
        this.isJackPotGame && ctx.drawImage(b, 0, -32)
    }
}
function DecimalSeparator() {
    console.log("#####GAME_INTERACTION-WindowObj at get languageCode");
	var b = windowObj.languageCode
      , b = b.substring(0, 2);
    switch (b) {
    case "en":
    case "ja":
    case "ko":
    case "zh":
    case "th":
        b = ".";
        break;
    default:
        b = ","
    }
    return b
}
function Slider(b, a) {
    this.y = this.x = 0;
    this.width = b.w;
    this.height = b.h;
    this.baseLineWidth = b.baseLineFmt.width;
    this.baseLineCol = b.baseLineFmt.col;
    this.selectedLineWidth = b.selectedLineFmt.width;
    this.selectedLineCol = b.selectedLineFmt.col;
    this.selectedLineColAlt = b.selectedLineFmt.colAlt;
    this.selectorRadius = b.selectorFmt.radius;
    this.selectorCol = b.selectorFmt.col;
    this.selectorOffset = b.selectorFmt.textOffset;
    this.values = [];
    this.currentIndex = this.value = 0;
    this.imgMenu = a;
    this.isDisabled = this.isDown = !1;
    this.hitPadding = 50;
    this.txtMin = new Text;
    this.txtMin.font = "20px arial";
    this.txtMin.align = "right";
    this.txtMin.m_Color = "#FFFFFF";
    this.txtMax = new Text;
    this.txtMax.font = "20px arial";
    this.txtMax.align = "left";
    this.txtMax.m_Color = "#FFFFFF";
    this.txtCurrent = new Text;
    this.txtCurrent.font = b.valueFmt.font;
    this.txtCurrent.align = b.valueFmt.align;
    this.txtCurrent.m_Color = b.valueFmt.col;
    this.drawMinMax = !0;
    this.drawCurrentBackground = !1;
    this.drawCurrentTxt = !0;
    var d = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.setPosition = function(a) {
        this.x = a.x;
        this.y = a.y;
        this.txtMin.setPosition({
            x: this.x - 28,
            y: this.y + this.height / 2 + 8
        });
        this.txtMax.setPosition({
            x: this.x + this.width + 28,
            y: this.y + this.height / 2 + 8
        });
        this.txtCurrent.setPosition({
            x: this.x + this.value * this.width,
            y: this.y + this.height / 2 - this.selectorOffset
        })
    }
    ;
    this.setValues = function(a) {
        this.values = a;
        this.txtMin.m_Text = this.values[0];
        this.txtMax.m_Text = this.values[this.values.length - 1]
    }
    ;
    this.setValue = function(a) {
        var b = 100 * ((a.x - this.x) / this.width)
          , d = 0
          , d = a.x < this.x ? 0 : a.x >= this.x + this.width ? this.values.length - 1 : Math.floor(b / (100 / this.values.length));
        this.value = d / (this.values.length - 1);
        this.txtCurrent.m_Text = this.values[d];
        this.txtCurrent.setPosition({
            x: this.x + this.value * this.width,
            y: this.y + this.height / 2 - this.selectorOffset
        });
        return this.currentIndex = d
    }
    ;
    this.setValueIndex = function(a) {
        this.value = a / (this.values.length - 1);
        this.txtCurrent.m_Text = this.values[a];
        this.txtCurrent.setPosition({
            x: this.x + this.value * this.width,
            y: this.y + this.height / 2 - this.selectorOffset
        });
        this.currentIndex = a;
        return this.values[a]
    }
    ;
    this.getCurrentIndex = function() {
        return this.currentIndex
    }
    ;
    this.getValue = function(a) {
        return this.values[a]
    }
    ;
    this.getNumValues = function() {
        return this.values.length
    }
    ;
    this.draw = function(a) {
        var b = gameViewMan.viewScale
          , f = d.lineCap;
        d.lineCap = "round";
        d.lineWidth = this.baseLineWidth * b;
        d.strokeStyle = this.baseLineCol;
        d.beginPath();
        d.moveTo(this.x * b, (this.y + this.height / 2) * b);
        d.lineTo((this.x + this.width) * b, (this.y + this.height / 2) * b);
        d.stroke();
        d.lineWidth = this.selectedLineWidth;
        d.strokeStyle = this.isDisabled ? this.baseLineCol : a ? this.selectedLineColAlt : this.selectedLineCol;
        d.beginPath();
        d.moveTo(this.x * b, (this.y + this.height / 2) * b);
        d.lineTo((this.x + this.value * this.width) * b, (this.y + this.height / 2) * b);
        d.stroke();
        d.lineCap = f;
        d.beginPath();
        d.arc((this.x + this.value * this.width) * b, (this.y + this.height / 2) * b, (this.selectorRadius + 4) * b, 0, 2 * Math.PI, !1);
        d.fillStyle = this.isDisabled ? "#888" : "#FFF";
        d.fill();
        d.beginPath();
        d.arc((this.x + this.value * this.width) * b, (this.y + this.height / 2) * b, this.selectorRadius * b, 0, 2 * Math.PI, !1);
        d.fillStyle = this.selectorCol;
        d.fill();
        d.beginPath();
        d.lineWidth = 2 * b;
        d.strokeStyle = this.selectorCol;
        d.arc((this.x + this.value * this.width) * b, (this.y + this.height / 2) * b, (this.selectorRadius + 4) * b, 0, 2 * Math.PI, !1);
        d.stroke();
        d.beginPath();
        d.fillStyle = this.isDisabled ? "#888" : a ? this.selectedLineColAlt : this.selectedLineCol;
        d.arc((this.x + this.value * this.width) * b, (this.y + this.height / 2) * b, (this.selectorRadius - 5) * b, 0, 2 * Math.PI, !1);
        d.fill();
        this.isDisabled ? (this.txtMin.m_Color = this.baseLineCol,
        this.txtMax.m_Color = this.baseLineCol) : (this.txtMin.m_Color = "#FFFFFF",
        this.txtMax.m_Color = "#FFFFFF");
        this.drawMinMax && (this.txtMin.draw(d),
        this.txtMax.draw(d));
        this.drawCurrentBackground && (d.save(),
        d.font = this.txtCurrent.font,
        a = d.measureText(this.txtCurrent.m_Text).width + 8,
        d.fillStyle = "rgba(0,0,0,0.8)",
        d.fillRectR((this.x + this.value * this.width - a / 2) * b, (this.y - 50) * b, a * b, 34 * b, 10 * b),
        d.restore());
        this.drawCurrentTxt && this.txtCurrent.draw(d)
    }
    ;
    this.isOver = function(a) {
        return this.isDisabled ? !1 : a.x > this.x - this.hitPadding && a.x < this.x + this.width + this.hitPadding && a.y > this.y - this.hitPadding && a.y < this.y + this.height + this.hitPadding ? !0 : !1
    }
}
;function StopOption(b, a) {
    this.focused = !1;
    this.canBeFocused = !0;
    this.numberAutoplayGames = 0;
    this.mandatory = !1;
    this.glow2 = 0;
    this.pulseRate2 = 300;
    this.direction2 = 0;
    this.txtTitle;
    this.txtValue;
    this.compareValue = this.previousValue = this.value = 0;
    if ("undefined" == typeof b)
        this.y = this.x = 0;
    else {
        this.layout = a;
        this.keypadFrameFormat = a.keypadFrameFormat;
        this.img = b.img;
        this.x = Number(b.x);
        this.y = Number(b.y);
        this.txtTitle = new Text;
        this.txtValue = new Text;
        this.txtTitle.m_Text = b.title;
        this.txtTitle.font = b.titleFmt.font;
        this.txtTitle.align = b.titleFmt.align;
        this.txtTitle.m_Color = b.titleFmt.col;
        this.titleOffsetX = b.titleFmt.x;
        this.titleOffsetY = b.titleFmt.y;
        this.txtValue.m_Text = "test";
        this.txtValue.font = b.valueFmt.font;
        this.txtValue.align = b.valueFmt.align;
        this.valueTxtCol = this.txtValue.m_Color = b.valueFmt.col;
        this.valueOffsetX = b.valueFmt.x;
        this.valueOffsetY = b.valueFmt.y;
        this.clearBtnOffsetX = b.clearBtnFmt.x;
        this.clearBtnOffsetY = b.clearBtnFmt.y;
        var d = this.x
          , c = this.y;
        this.txtTitle.setPosition({
            x: this.x + this.titleOffsetX,
            y: this.y + this.titleOffsetY
        });
        this.txtValue.setPosition({
            x: this.x + this.valueOffsetX,
            y: this.y + this.valueOffsetY
        });
        this.btnFocus = new Button(b.img,{
            nx: 0,
            ny: 0,
            nwidth: b.focusSize.w,
            nheight: b.focusSize.h,
            dx: 0,
            dy: 0,
            dwidth: b.focusSize.w,
            dheight: b.focusSize.h
        });
        this.btnFocus.setPosition({
            x: d,
            y: c - 20
        });
        this.btnClear = new Button(b.img,b.clearBtnFmt);
        this.btnClear.setPosition({
            x: this.x + this.clearBtnOffsetX,
            y: this.y + this.clearBtnOffsetY
        });
        this.btnClear.hitPadding = 10
    }
}
StopOption.prototype.setPosition = function(b, a) {
    this.x = b;
    this.y = a;
    this.btnFocus.setPosition({
        x: this.x,
        y: this.y - 20
    });
    this.txtTitle.setPosition({
        x: this.x + this.titleOffsetX,
        y: this.y + this.titleOffsetY
    });
    this.txtValue.setPosition({
        x: this.x + this.valueOffsetX,
        y: this.y + this.valueOffsetY
    });
    this.btnClear.setPosition({
        x: this.x + this.clearBtnOffsetX,
        y: this.y + this.clearBtnOffsetY
    })
}
;
StopOption.prototype.setFocus = function(b) {
    this.focused = b
}
;
StopOption.prototype.canFocus = function() {
    return this.canBeFocused
}
;
StopOption.prototype.canPlay = function() {
    return !0
}
;
StopOption.prototype.draw = function(b) {
    this.txtTitle.draw(b);
    this.txtValue.draw(b)
}
;
StopOption.prototype.update = function(b) {
    0 == this.direction2 ? (this.glow2 += b,
    this.glow2 >= this.pulseRate2 && (this.direction2 = 1,
    this.glow2 = this.pulseRate2)) : (this.glow2 -= b,
    0 >= this.glow2 && (this.glow2 = this.direction2 = 0))
}
;
StopOption.prototype.processClick = function(b) {
    return this.btnFocus.isOver(b) ? this.btnFocus.isDown = !0 : !1
}
;
StopOption.prototype.processClickRelease = function(b) {
    return this.btnFocus.isOver(b) && this.btnFocus.isDown ? !0 : !1
}
;
StopOption.prototype.buttonsUp = function() {
    this.btnFocus.isDown = !1;
    this.btnClear.isDown = !1
}
;
StopOption.prototype.processKey = function() {}
;
StopOption.prototype.restoreSetting = function() {}
;
StopOption.prototype.saveSetting = function() {
    this.previousValue = this.value
}
;
StopOption.prototype.resetSetting = function() {}
;
StopOption.prototype.compareValues = function() {
    return !1
}
;
StopOption.prototype.setNumberAutoplayGames = function(b) {
    this.numberAutoplayGames = b
}
;
function APSO_LossLimit(b, a) {
    StopOption.call(this, b, a);
    this.mandatory ? (this.value = -2,
    this.txtValue.m_Color = this.layout.UI_WARN,
    this.txtValue.m_Text = TXT_AP_ENTER_VALUE,
    this.btnClear.isActive = !0) : (this.value = -1,
    this.txtValue.m_Color = this.valueTxtCol,
    this.txtValue.m_Text = TXT_AP_NO_LIMIT,
    this.btnClear.isActive = !1);
    this.txtAsterix = new Text;
    this.txtAsterix.font = "bold 45px arial";
    this.txtAsterix.align = "center";
    this.txtAsterix.m_Color = this.layout.UI_WARN;
    this.txtAsterix.m_Text = "*";
    var d = 0;
    "undefined" != typeof AP_STOP_OPTION_OFFSET && (d = AP_STOP_OPTION_OFFSET);
    this.txtAsterix.setPosition({
        x: 320 + d,
        y: 410
    });
    this.glow = 0;
    this.pulseRate = 600;
    this.direction = 0;
    this.update = function(a) {
        if (this.direction == 0) {
            this.glow = this.glow + a;
            if (this.glow >= this.pulseRate) {
                this.direction = 1;
                this.glow = this.pulseRate
            }
        } else {
            this.glow = this.glow - a;
            if (this.glow <= 0)
                this.glow = this.direction = 0
        }
        StopOption.prototype.update.call(this, a)
    }
    ;
    this.processKey = function(a) {
        switch (a) {
        case "Back":
            if (this.value != -1 && this.value != -2) {
                this.value = Math.floor(this.value / 10);
                this.txtValue.m_Color = this.valueTxtCol;
                this.txtValue.m_Text = game.account.getCurrencyString(this.value);
                this.txtAsterix.m_Color = this.valueTxtCol
            }
            break;
        case "NoLimit":
            this.value = -1;
            this.txtValue.m_Color = this.valueTxtCol;
            this.txtValue.m_Text = TXT_AP_NO_LIMIT;
            this.txtAsterix.m_Color = this.valueTxtCol;
            break;
        case "Clear":
            if (this.mandatory) {
                this.value = -2;
                this.txtValue.m_Color = this.layout.UI_WARN;
                this.txtValue.m_Text = TXT_AP_ENTER_VALUE;
                this.txtAsterix.m_Color = this.layout.UI_WARN
            } else {
                this.value = -1;
                this.txtValue.m_Color = this.valueTxtCol;
                this.txtValue.m_Text = TXT_AP_NO_LIMIT;
                this.txtAsterix.m_Color = this.valueTxtCol
            }
            break;
        default:
            if (this.value <= -1)
                this.value = Number(a);
            else if (this.value < 1E8)
                this.value = this.value * 10 + Number(a);
            this.txtValue.m_Color = this.valueTxtCol;
            this.txtValue.m_Text = game.account.getCurrencyString(this.value);
            this.txtAsterix.m_Color = this.valueTxtCol
        }
    }
    ;
    this.draw = function(a) {
        a.save();
        var b = gameViewMan.viewScale;
        a.fillStyle = this.layout.UI_LIGHT_GREY;
        a.fillRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b);
        this.mandatory && this.txtAsterix.draw(a);
        if (this.focused) {
            if (this.value == -2 && this.mandatory) {
                a.strokeStyle = this.layout.UI_WARN;
                this.btnClear.isActive = true
            } else {
                a.strokeStyle = this.layout.UI_HIGHLIGHT;
                this.btnClear.isActive = false
            }
            a.lineWidth = 2;
            a.strokeRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b);
            a.beginPath();
            a.moveTo((this.x + 270 + 250) * b, (this.y + 15) * b);
            a.lineTo(this.keypadFrameFormat.x * b, (this.y + 15) * b);
            a.stroke();
            a.strokeRectR(this.keypadFrameFormat.x * b, this.keypadFrameFormat.y * b, this.keypadFrameFormat.w * b, this.keypadFrameFormat.h * b, this.keypadFrameFormat.r * b);
            if (this.value == -2 && this.mandatory) {
                a.strokeStyle = "#FFF";
                var d = a.globalAlpha;
                a.globalAlpha = this.glow2 / this.pulseRate2;
                a.lineWidth = 3 * b;
                a.beginPath();
                a.moveTo((this.x + 290) * b, (this.y - 2) * b);
                a.lineTo((this.x + 290) * b, (this.y + 32) * b);
                a.stroke();
                a.globalAlpha = d
            }
        } else {
            a.strokeStyle = this.layout.UI_LIGHT_GREY;
            a.lineWidth = 2 * b;
            a.strokeRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b)
        }
        a.restore();
        this.txtTitle.draw(a);
        if (this.value == -2 && this.numberAutoplayGames != 0 && this.focused == false && this.mandatory) {
            d = a.globalAlpha;
            a.globalAlpha = this.glow / this.pulseRate;
            this.txtValue.draw(a);
            a.globalAlpha = d
        } else
            this.txtValue.draw(a);
        this.btnClear.draw()
    }
    ;
    this.processClick = function(a) {
        if (this.btnClear.isOver(a))
            return this.btnClear.isDown = true;
        return StopOption.prototype.processClick.call(this, a)
    }
    ;
    this.processClickRelease = function(a, b) {
        if (this.btnClear.isOver(a) && this.btnClear.isDown) {
            this.processKey("Clear");
            return true
        }
        return StopOption.prototype.processClickRelease.call(this, a, b)
    }
    ;
    this.canPlay = function() {
        return this.value == -2 && this.mandatory ? false : true
    }
    ;
    this.restoreSetting = function() {
        this.value = this.previousValue;
        this.txtValue.m_Color = "#FFFFFF";
        if (this.value == -2 && this.mandatory) {
            this.txtValue.m_Color = this.layout.UI_WARN;
            this.txtValue.m_Text = TXT_AP_ENTER_VALUE;
            this.txtAsterix.m_Color = this.layout.UI_WARN;
            this.btnClear.isActive = true
        } else {
            if (this.value == -1) {
                this.txtValue.m_Color = this.valueTxtCol;
                this.txtValue.m_Text = TXT_AP_NO_LIMIT
            } else {
                this.txtValue.m_Color = this.valueTxtCol;
                this.txtValue.m_Text = game.account.getCurrencyString(this.value)
            }
            this.txtAsterix.m_Color = this.valueTxtCol;
            this.btnClear.isActive = false
        }
    }
    ;
    this.resetSetting = function() {
        if (this.mandatory) {
            this.value = -2;
            this.txtValue.m_Color = this.layout.UI_WARN;
            this.txtValue.m_Text = TXT_AP_ENTER_VALUE;
            this.txtAsterix.m_Color = this.layout.UI_WARN;
            this.btnClear.isActive = true
        } else {
            this.value = -1;
            this.txtValue.m_Color = this.valueTxtCol;
            this.txtValue.m_Text = TXT_AP_NO_LIMIT;
            this.txtAsterix.m_Color = this.valueTxtCol;
            this.btnClear.isActive = false
        }
        this.focused = false
    }
    ;
    this.compareValues = function() {
        return this.value == -1 ? false : this.compareValue >= this.value
    }
}
APSO_LossLimit.prototype = new StopOption;
APSO_LossLimit.prototype.constructor = StopOption;
function APSO_SingleWin(b, a) {
    StopOption.call(this, b, a);
    this.value = -1;
    this.txtValue.m_Text = TXT_AP_NO_LIMIT;
    this.processKey = function(a) {
        switch (a) {
        case "Back":
            -1 != this.value && (this.value = Math.floor(this.value / 10),
            this.txtValue.m_Text = game.account.getCurrencyString(this.value));
            break;
        case "NoLimit":
            this.value = -1;
            this.txtValue.m_Text = TXT_AP_NO_LIMIT;
            break;
        case "Clear":
            this.value = -1;
            this.txtValue.m_Text = TXT_AP_NO_LIMIT;
            break;
        default:
            -1 >= this.value ? this.value = Number(a) : 1E8 > this.value && (this.value = 10 * this.value + Number(a)),
            this.txtValue.m_Text = game.account.getCurrencyString(this.value)
        }
    }
    ;
    this.draw = function(a) {
        var b = gameViewMan.viewScale;
        a.save();
        a.fillStyle = this.layout.UI_LIGHT_GREY;
        a.fillRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b);
        this.focused ? (a.strokeStyle = this.layout.UI_HIGHLIGHT,
        a.lineWidth = 2 * b,
        a.strokeRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b),
        a.strokeStyle = this.layout.UI_HIGHLIGHT,
        a.beginPath(),
        a.moveTo((this.x + 270 + 250) * b, (this.y + 15) * b),
        a.lineTo(this.keypadFrameFormat.x * b, (this.y + 15) * b),
        a.stroke(),
        a.strokeRectR(this.keypadFrameFormat.x * b, this.keypadFrameFormat.y * b, this.keypadFrameFormat.w * b, this.keypadFrameFormat.h * b, this.keypadFrameFormat.r * b)) : (a.strokeStyle = this.layout.UI_LIGHT_GREY,
        a.lineWidth = 2 * b,
        a.strokeRectR((this.x + 270) * b, (this.y - 7) * b, 250 * b, 44 * b, 24 * b));
        a.restore();
        StopOption.prototype.draw.call(this, a);
        this.btnClear.draw()
    }
    ;
    this.processClick = function(a) {
        return this.btnClear.isOver(a) ? this.btnClear.isDown = !0 : StopOption.prototype.processClick.call(this, a)
    }
    ;
    this.processClickRelease = function(a, b) {
        return this.btnClear.isOver(a) && this.btnClear.isDown ? (this.processKey("Clear"),
        !0) : StopOption.prototype.processClickRelease.call(this, a, b)
    }
    ;
    this.restoreSetting = function() {
        this.value = this.previousValue;
        this.txtValue.m_Text = -1 == this.value ? TXT_AP_NO_LIMIT : game.account.getCurrencyString(this.value)
    }
    ;
    this.resetSetting = function() {
        this.value = -1;
        this.txtValue.m_Text = TXT_AP_NO_LIMIT;
        this.focused = !1
    }
    ;
    this.compareValues = function() {
        return -1 == this.value ? !1 : this.compareValue >= this.value
    }
}
APSO_SingleWin.prototype = new StopOption;
APSO_SingleWin.prototype.constructor = StopOption;
function APSO_Jackpot(b, a) {
    StopOption.call(this, b, a);
    this.canBeFocused = this.value = !1;
    this.draw = function(a) {
        var b = gameViewMan.viewScale
          , e = 35 * b
          , f = (this.x + 270) * b
          , b = this.y * b
          , g = f + 0.125 * e
          , k = b + 0.625 * e;
        a.save();
        a.strokeStyle = this.layout.UI_LIGHT_GREY;
        a.lineWidth = 4;
        a.strokeRect(f, b, e, e);
        !0 == this.value && (a.strokeStyle = this.layout.UI_HIGHLIGHT,
        a.lineWidth = 8,
        a.beginPath(),
        a.moveTo(g, k),
        a.lineTo(f + 0.5 * e, b + 0.75 * e),
        a.lineTo(f + 0.8 * e, b + 0.2 * e),
        a.stroke());
        a.restore();
        this.txtTitle.draw(a)
    }
    ;
    this.processClickRelease = function(a) {
        return this.btnFocus.isOver(a) && this.btnFocus.isDown ? (this.value = !this.value,
        !0) : !1
    }
    ;
    this.restoreSetting = function() {
        this.value = this.previousValue
    }
    ;
    this.resetSetting = function() {
        this.value = !1
    }
}
APSO_Jackpot.prototype = new StopOption;
APSO_Jackpot.prototype.constructor = StopOption;
function AutoPlayOptions(b) {
    this.manager = b;
    this.stopOptions = [];
    this.stopOptionMode = 0;
    this.position = {
        x: 0,
        y: 72
    };
    this.size = {
        w: 960,
        h: 500
    };
    b = "22px arial";
    "undefined" != typeof AP_STOP_OPTION_FONT && (b = AP_STOP_OPTION_FONT);
    this.titleFontFormat = {
        x: 235,
        y: 22,
        font: b,
        align: "right",
        col: "#FFFFFF"
    };
    this.valueFontFormat = {
        x: 465,
        y: 22,
        font: "22px arial",
        align: "right",
        col: "#FFFFFF"
    };
    this.jackpotFontFormat = {
        x: 235,
        y: 25,
        font: b,
        align: "right",
        col: "#FFFFFF"
    };
    this.BTN_LAST_SETTINGS_POS = {
        x: 455,
        y: 90
    };
    this.BTN_GAME_NUMBER_SLIDER_POS = {
        x: 85,
        y: 230
    };
    this.TXT_AUTOPLAY_SPINS_TITLE_POS = {
        x: 310,
        y: 175
    };
    this.TXT_STOP_AUTOPLAY_TITLE_POS = {
        x: 310,
        y: 330
    };
    this.KEYPAD_POS = {
        x: 680,
        y: 130
    };
    this.KEYPAD_SPACING = {
        x: 94,
        y: 95
    };
    this.BTN_0_POS = {
        x: this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 3 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_1_POS = {
        x: 0 + this.KEYPAD_POS.x,
        y: 2 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_2_POS = {
        x: this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 2 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_3_POS = {
        x: 2 * this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 2 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_4_POS = {
        x: 0 + this.KEYPAD_POS.x,
        y: this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_5_POS = {
        x: this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_6_POS = {
        x: 2 * this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_7_POS = {
        x: 0 + this.KEYPAD_POS.x,
        y: 0 + this.KEYPAD_POS.y
    };
    this.BTN_8_POS = {
        x: this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 0 + this.KEYPAD_POS.y
    };
    this.BTN_9_POS = {
        x: 2 * this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 0 + this.KEYPAD_POS.y
    };
    this.BTN_BACK_POS = {
        x: 2 * this.KEYPAD_SPACING.x + this.KEYPAD_POS.x,
        y: 3 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.BTN_NO_LIMIT_POS = {
        x: 0 + this.KEYPAD_POS.x,
        y: 3 * this.KEYPAD_SPACING.y + this.KEYPAD_POS.y
    };
    this.btn0Layout = {
        nx: 756,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 756,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn1Layout = {
        nx: 0,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 0,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn2Layout = {
        nx: 75,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 75,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn3Layout = {
        nx: 150,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 150,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn4Layout = {
        nx: 226,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 226,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn5Layout = {
        nx: 301,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 301,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn6Layout = {
        nx: 376,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 376,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn7Layout = {
        nx: 454,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 454,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn8Layout = {
        nx: 529,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 529,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btn9Layout = {
        nx: 605,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 605,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btnBackLayout = {
        nx: 831,
        ny: 204,
        nwidth: 62,
        nheight: 68,
        dx: 831,
        dy: 204,
        dwidth: 62,
        dheight: 68
    };
    this.btnNoLimitLayout = {
        nx: 681,
        ny: 204,
        nwidth: 70,
        nheight: 68,
        dx: 681,
        dy: 204,
        dwidth: 70,
        dheight: 68
    };
    this.btnLastSettingsLayout = {
        nx: 620,
        ny: 0,
        nwidth: 60,
        nheight: 58,
        dx: 620,
        dy: 70,
        dwidth: 60,
        dheight: 58
    };
    this.numberAutoplayGames = this.currentOption = 0;
    this.optionsFocused = this.showOptions = !1;
    this.previousSpinCountIndex = 0;
    this.btnLastSettings = {};
    this.btnGameNumberSlider = {};
    this.txtStopAutoplayTitle = {};
    this.txtAutoplaySpinsTitle = {};
    this.btn0 = {};
    this.btn1 = {};
    this.btn2 = {};
    this.btn3 = {};
    this.btn4 = {};
    this.btn5 = {};
    this.btn6 = {};
    this.btn7 = {};
    this.btn8 = {};
    this.btn9 = {};
    this.btnBack = {};
    this.btnNoLimit = {};
    this.imgElements = {};
    this.LS_HIDE = 0;
    this.LS_REVEAL = 1;
    this.LS_SHOW = 2;
    this.lastSettingsState = this.LS_HIDE;
    this.lastSettingsTimer = 0;
    this.lastSettingsRevealTime = 500;
    this.lastSettingsCurOffset = 0;
    this.lastSettingsOffset = 70;
    this.AP_SMALL = 0;
    this.AP_TRANSITION = 1;
    this.AP_FULL = 2;
    this.AP_TRANSITION2 = 3;
    this.apScreenState = this.AP_SMALL;
    this.apScreenTimer = 0;
    this.apScreenTransitionTime = 300;
    this.apScreenCurOffset = this.apScreenOffset = 170;
    this.PULSE_OFF = 0;
    this.PULSE_ON = 1;
    this.pulseState = this.PULSE_OFF;
    this.pulseTimer = 0;
    this.pulseTime = 1400;
    this.pulseCurValue = 0;
    this.pulseInitialDelay = 200;
    var a = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.initAssets = function(a) {
        var b = 0;
        "undefined" != typeof AP_STOP_OPTION_OFFSET && (b = AP_STOP_OPTION_OFFSET);
        this.imgElements = game.ASSET_MANAGER.getAsset("menu_ui.png");
        this.layout = a;
        this.stopOptions.push(new APSO_LossLimit({
            x: 70 + b,
            y: 370,
            title: TXT_AP_LOSS_LIMIT_TITLE,
            titleFmt: this.titleFontFormat,
            valueFmt: this.valueFontFormat,
            img: this.imgElements,
            focusSize: {
                w: 550,
                h: 70
            },
            clearBtnFmt: {
                x: 480,
                y: -3,
                nx: 258,
                ny: 293,
                nwidth: 36,
                nheight: 36,
                dx: 258,
                dy: 293,
                dwidth: 36,
                dheight: 36,
                ax: 309,
                ay: 293,
                awidth: 38,
                aheight: 36
            }
        },this.layout));
        this.stopOptions.push(new APSO_SingleWin({
            x: 70 + b,
            y: 440,
            title: TXT_AP_SINGLE_WIN_TITLE,
            titleFmt: this.titleFontFormat,
            valueFmt: this.valueFontFormat,
            img: this.imgElements,
            focusSize: {
                w: 550,
                h: 70
            },
            clearBtnFmt: {
                x: 480,
                y: -3,
                nx: 258,
                ny: 293,
                nwidth: 36,
                nheight: 36,
                dx: 258,
                dy: 293,
                dwidth: 36,
                dheight: 36
            }
        },this.layout));
		console.log("#####GAME_INTERACTION-WindowObj at check JackpotSupported");
        "undefined" != typeof windowObj.isJackpotSupported && windowObj.isJackpotSupported() && this.stopOptions.push(new APSO_Jackpot({
            x: 70 + b,
            y: 500,
            title: TXT_AP_JACKPOT_WIN_TITLE,
            titleFmt: this.jackpotFontFormat,
            valueFmt: this.valueFontFormat,
            img: this.imgElements,
            focusSize: {
                w: 300,
                h: 50
            },
            clearBtnFmt: {
                x: 210,
                y: 36,
                nx: 267,
                ny: 209,
                nwidth: 35,
                nheight: 35,
                dx: 267,
                dy: 209,
                dwidth: 35,
                dheight: 35
            }
        },this.layout));
        this.btnLastSettings = new Button(this.imgElements,this.btnLastSettingsLayout);
        this.btnLastSettings.isDisabled = !0;
        this.btnGameNumberSlider = new Slider(game.ui.layout.gameNumberSliderConfig,this.imgElements);
        this.setMaxAutoPlays(game.maxAutoPlays);
        this.btn0 = new Button(this.imgElements,this.btn0Layout);
        this.btn1 = new Button(this.imgElements,this.btn1Layout);
        this.btn2 = new Button(this.imgElements,this.btn2Layout);
        this.btn3 = new Button(this.imgElements,this.btn3Layout);
        this.btn4 = new Button(this.imgElements,this.btn4Layout);
        this.btn5 = new Button(this.imgElements,this.btn5Layout);
        this.btn6 = new Button(this.imgElements,this.btn6Layout);
        this.btn7 = new Button(this.imgElements,this.btn7Layout);
        this.btn8 = new Button(this.imgElements,this.btn8Layout);
        this.btn9 = new Button(this.imgElements,this.btn9Layout);
        this.btnBack = new Button(this.imgElements,this.btnBackLayout);
        this.btnNoLimit = new Button(this.imgElements,this.btnNoLimitLayout);
        this.btn0.hitPadding = this.layout.keypadHitPadding;
        this.btn1.hitPadding = this.layout.keypadHitPadding;
        this.btn2.hitPadding = this.layout.keypadHitPadding;
        this.btn3.hitPadding = this.layout.keypadHitPadding;
        this.btn4.hitPadding = this.layout.keypadHitPadding;
        this.btn5.hitPadding = this.layout.keypadHitPadding;
        this.btn6.hitPadding = this.layout.keypadHitPadding;
        this.btn7.hitPadding = this.layout.keypadHitPadding;
        this.btn8.hitPadding = this.layout.keypadHitPadding;
        this.btn9.hitPadding = this.layout.keypadHitPadding;
        this.btnBack.hitPadding = this.layout.keypadHitPadding;
        this.btnNoLimit.hitPadding = this.layout.keypadHitPadding;
        this.txtStopAutoplayTitle = new Text;
        this.txtStopAutoplayTitle.font = "bold 22px arial";
        this.txtStopAutoplayTitle.align = "center";
        this.txtStopAutoplayTitle.m_Text = TXT_AP_STOP_IF;
        this.txtStopAutoplayTitle.m_Color = this.layout.UI_HIGHLIGHT;
        this.txtAutoplaySpinsTitle = new Text;
        this.txtAutoplaySpinsTitle.font = "bold 22px arial";
        this.txtAutoplaySpinsTitle.align = "center";
        this.txtAutoplaySpinsTitle.m_Text = TXT_AP_AUTOPLAY_SPINS;
        this.txtAutoplaySpinsTitle.m_Color = this.layout.UI_HIGHLIGHT
    }
    ;
    this.setMaxAutoPlays = function(a) {
        for (var b = [], e = 0; e <= a; e += 5)
            b.push(e);
        this.btnGameNumberSlider.setValues(b);
        this.btnGameNumberSlider.setValueIndex(0)
    }
    ;
    this.changeOrientation = function() {
        this.btnLastSettings.setPosition(this.BTN_LAST_SETTINGS_POS);
        this.btnGameNumberSlider.setPosition(this.BTN_GAME_NUMBER_SLIDER_POS);
        this.btn0.setPosition(this.BTN_0_POS);
        this.btn1.setPosition(this.BTN_1_POS);
        this.btn2.setPosition(this.BTN_2_POS);
        this.btn3.setPosition(this.BTN_3_POS);
        this.btn4.setPosition(this.BTN_4_POS);
        this.btn5.setPosition(this.BTN_5_POS);
        this.btn6.setPosition(this.BTN_6_POS);
        this.btn7.setPosition(this.BTN_7_POS);
        this.btn8.setPosition(this.BTN_8_POS);
        this.btn9.setPosition(this.BTN_9_POS);
        this.btnBack.setPosition(this.BTN_BACK_POS);
        this.btnNoLimit.setPosition(this.BTN_NO_LIMIT_POS);
        this.txtStopAutoplayTitle.setPosition(this.TXT_STOP_AUTOPLAY_TITLE_POS);
        this.txtAutoplaySpinsTitle.setPosition(this.TXT_AUTOPLAY_SPINS_TITLE_POS)
    }
    ;
    this.showAutoOptions = function(a) {
        a && (this.lastSettingsTimer = 0,
        this.lastSettingsState = this.LS_REVEAL);
        this.showOptions = a
    }
    ;
    this.setMandatory = function(a) {
        this.stopOptionMode = a;
        1 == this.stopOptionMode && (this.stopOptions[0].mandatory = !1);
        2 == this.stopOptionMode && (this.stopOptions[0].mandatory = !0)
    }
    ;
    this.update = function(a) {
        for (var b = 0; b < this.stopOptions.length; b++)
            this.stopOptions[b].update(a);
        this.lastSettingsState == this.LS_REVEAL && (this.lastSettingsTimer += a,
        this.lastSettingsCurOffset = Math.floor(this.lastSettingsOffset * (this.lastSettingsTimer / this.lastSettingsRevealTime)),
        this.lastSettingsTimer > this.lastSettingsRevealTime && (this.lastSettingsCurOffset = this.lastSettingsOffset,
        this.lastSettingsState = this.LS_SHOW),
        this.btnLastSettings.setPosition({
            x: this.BTN_LAST_SETTINGS_POS.x,
            y: this.BTN_LAST_SETTINGS_POS.y + this.lastSettingsCurOffset - this.lastSettingsOffset
        }));
        this.apScreenState == this.AP_TRANSITION && (this.apScreenTimer += a,
        this.apScreenCurOffset = this.apScreenOffset - Math.floor(this.apScreenOffset * (this.apScreenTimer / this.apScreenTransitionTime)),
        0 > this.apScreenCurOffset && (this.apScreenCurOffset = 0,
        this.apScreenState = this.AP_FULL));
        this.apScreenState == this.AP_TRANSITION2 && (this.apScreenTimer += a,
        this.apScreenCurOffset = Math.floor(this.apScreenOffset * (this.apScreenTimer / this.apScreenTransitionTime)),
        this.apScreenCurOffset >= this.apScreenOffset && (this.apScreenCurOffset = this.apScreenOffset,
        this.apScreenState = this.AP_SMALL));
        if (this.pulseState == this.PULSE_ON && (this.pulseTimer += a,
        this.pulseCurValue = 1 - this.pulseTimer / this.pulseTime,
        this.pulseTimer <= this.pulseInitialDelay && (this.pulseCurValue = 0),
        this.pulseTimer > this.pulseTime))
            this.pulseState = this.PULSE_OFF,
            this.pulseCurValue = 0
    }
    ;
    this.startPulse = function() {
        this.pulseState = this.PULSE_ON;
        this.pulseTimer = 0;
        this.pulseCurValue = 1
    }
    ;
    this.setNumberAutoplayGames = function(a) {
        this.numberAutoplayGames = a;
        for (var b = 0; b < this.stopOptions.length; b++)
            this.stopOptions[b].setNumberAutoplayGames(a)
    }
    ;
    this.resetOptions = function() {
        var a = this.btnGameNumberSlider.setValueIndex(0);
        this.manager.setGameCount(a);
        for (a = 0; a < this.stopOptions.length; a++)
            this.stopOptions[a].resetSetting();
        this.optionsFocused = !1;
        this.apScreenCurOffset = this.apScreenOffset;
        this.apScreenState = this.AP_SMALL;
        this.apScreenTimer = 0
    }
    ;
    this.makeUISmall = function() {
        for (var a = 0; a < this.stopOptions.length; a++)
            this.stopOptions[a].setFocus(!1);
        this.optionsFocused = !1;
        this.apScreenCurOffset = this.apScreenOffset;
        this.apScreenState = this.AP_SMALL;
        this.apScreenTimer = 0
    }
    ;
    this.saveOptions = function() {
        for (var a = 0; a < this.stopOptions.length; a++)
            this.stopOptions[a].saveSetting();
        this.previousSpinCountIndex = this.btnGameNumberSlider.getCurrentIndex();
        this.btnLastSettings.isDisabled = !1
    }
    ;
    this.restoreOptions = function() {
        for (var a = 0; a < this.stopOptions.length; a++)
            this.stopOptions[a].restoreSetting();
        a = this.btnGameNumberSlider.setValueIndex(this.previousSpinCountIndex);
        this.manager.setGameCount(a)
    }
    ;
    this.canAutoPlay = function() {
        for (var a = 0; a < this.stopOptions.length; a++)
            if (!this.stopOptions[a].canPlay())
                return !1;
        return 0 == this.numberAutoplayGames ? !1 : !0
    }
    ;
    this.setStopOptionFocus = function(a) {
        if (this.stopOptions[a].canFocus())
            for (var b = 0; b < this.stopOptions.length; b++)
                b == a ? (this.stopOptions[b].setFocus(!0),
                this.currentOption = b,
                this.optionsFocused = !0) : this.stopOptions[b].setFocus(!1)
    }
    ;
    this.processClick = function(a) {
        var b = {
            x: a.x - this.apScreenCurOffset,
            y: a.y
        };
        if (!this.showOptions)
            return !1;
        if (0 != this.numberAutoplayGames && 0 != this.stopOptionMode) {
            if (this.optionsFocused) {
                if (this.btn0.isOver(b))
                    return this.btn0.isDown = !0;
                if (this.btn1.isOver(b))
                    return this.btn1.isDown = !0;
                if (this.btn2.isOver(b))
                    return this.btn2.isDown = !0;
                if (this.btn3.isOver(b))
                    return this.btn3.isDown = !0;
                if (this.btn4.isOver(b))
                    return this.btn4.isDown = !0;
                if (this.btn5.isOver(b))
                    return this.btn5.isDown = !0;
                if (this.btn6.isOver(b))
                    return this.btn6.isDown = !0;
                if (this.btn7.isOver(b))
                    return this.btn7.isDown = !0;
                if (this.btn8.isOver(b))
                    return this.btn8.isDown = !0;
                if (this.btn9.isOver(b))
                    return this.btn9.isDown = !0;
                if (this.btnBack.isOver(b))
                    return this.btnBack.isDown = !0;
                if (this.btnNoLimit.isOver(b))
                    return this.btnNoLimit.isDown = !0
            }
            for (var e = 0; e < this.stopOptions.length; e++)
                if (this.stopOptions[e].processClick(b))
                    return !0
        }
        if (this.btnGameNumberSlider.isOver(b)) {
            this.btnGameNumberSlider.isDown = !0;
            for (e = 0; e < this.stopOptions.length; e++)
                this.stopOptions[e].setFocus(!1);
            this.optionsFocused = !1;
            return !0
        }
        return 0 != this.stopOptionMode && this.btnLastSettings.isOver(a) ? this.btnLastSettings.isDown = !0 : !1
    }
    ;
    this.processClickRelease = function(a, b) {
        var e = {
            x: a.x - this.apScreenCurOffset,
            y: a.y
        };
        if (!this.showOptions)
            return !1;
        if (0 != this.numberAutoplayGames && 0 != this.stopOptionMode) {
            if (this.optionsFocused) {
                if (this.btn0.isOver(e) && this.btn0.isDown)
                    return this.processKeypadKey("0"),
                    !0;
                if (this.btn1.isOver(e) && this.btn1.isDown)
                    return this.processKeypadKey("1"),
                    !0;
                if (this.btn2.isOver(e) && this.btn2.isDown)
                    return this.processKeypadKey("2"),
                    !0;
                if (this.btn3.isOver(e) && this.btn3.isDown)
                    return this.processKeypadKey("3"),
                    !0;
                if (this.btn4.isOver(e) && this.btn4.isDown)
                    return this.processKeypadKey("4"),
                    !0;
                if (this.btn5.isOver(e) && this.btn5.isDown)
                    return this.processKeypadKey("5"),
                    !0;
                if (this.btn6.isOver(e) && this.btn6.isDown)
                    return this.processKeypadKey("6"),
                    !0;
                if (this.btn7.isOver(e) && this.btn7.isDown)
                    return this.processKeypadKey("7"),
                    !0;
                if (this.btn8.isOver(e) && this.btn8.isDown)
                    return this.processKeypadKey("8"),
                    !0;
                if (this.btn9.isOver(e) && this.btn9.isDown)
                    return this.processKeypadKey("9"),
                    !0;
                if (this.btnBack.isOver(e) && this.btnBack.isDown)
                    return this.processKeypadKey("Back"),
                    !0;
                if (this.btnNoLimit.isOver(e) && this.btnNoLimit.isDown)
                    return this.processKeypadKey("NoLimit"),
                    !0
            }
            for (var f = 0; f < this.stopOptions.length; f++)
                if (this.stopOptions[f].processClickRelease(e, b))
                    return this.setStopOptionFocus(f),
                    this.apScreenState == this.AP_SMALL && (this.apScreenState = this.AP_TRANSITION,
                    this.apScreenTimer = 0,
                    this.apScreenCurOffset = this.apScreenOffset),
                    !0
        }
        if (this.btnGameNumberSlider.isOver(e) && this.btnGameNumberSlider.isDown) {
            e = this.btnGameNumberSlider.setValue(e);
            this.manager.setGameCount(this.btnGameNumberSlider.getValue(e));
            for (f = 0; f < this.stopOptions.length; f++)
                this.stopOptions[f].setFocus(!1);
            this.optionsFocused = !1;
            return !0
        }
        return 0 != this.stopOptionMode && this.btnLastSettings.isOver(a) && this.btnLastSettings.isDown ? (this.restoreOptions(),
        !0) : !1
    }
    ;
    this.processMove = function(a) {
        a = {
            x: a.x - this.apScreenCurOffset,
            y: a.y
        };
        this.btnGameNumberSlider.isOver(a) && this.btnGameNumberSlider.isDown && (a = this.btnGameNumberSlider.setValue(a),
        this.manager.setGameCount(this.btnGameNumberSlider.getValue(a)),
        0 == this.btnGameNumberSlider.getValue(a) && this.apScreenState == this.AP_FULL && (this.apScreenState = this.AP_TRANSITION2,
        this.apScreenCurOffset = this.apScreenTimer = 0))
    }
    ;
    this.buttonsUp = function() {
        for (var a = 0; a < this.stopOptions.length; a++)
            this.stopOptions[a].buttonsUp();
        this.btnLastSettings.isDown = !1;
        this.btnGameNumberSlider.isDown = !1;
        this.btn0.isDown = !1;
        this.btn1.isDown = !1;
        this.btn2.isDown = !1;
        this.btn3.isDown = !1;
        this.btn4.isDown = !1;
        this.btn5.isDown = !1;
        this.btn6.isDown = !1;
        this.btn7.isDown = !1;
        this.btn8.isDown = !1;
        this.btn9.isDown = !1;
        this.btnBack.isDown = !1;
        this.btnNoLimit.isDown = !1
    }
    ;
    this.processKeypadKey = function(a) {
        this.stopOptions[this.currentOption].processKey(a)
    }
    ;
    this.stopOnJackpotWin = function() {
        return 3 > this.stopOptions.length ? !1 : !0 === this.stopOptions[2].value
    }
    ;
    this.getLossLimit = function() {
        return -1 == this.stopOptions[0].value ? Number.MAX_VALUE : this.stopOptions[0].value
    }
    ;
    this.getSingleWinLimit = function() {
        return -1 == this.stopOptions[1].value ? Number.MAX_VALUE : this.stopOptions[1].value
    }
    ;
    this.draw = function() {
        var b = gameViewMan.viewScale;
        if (this.showOptions) {
            !1 == this.btnLastSettings.isDisabled && 0 != this.stopOptionMode && (a.save(),
            a.beginPath(),
            a.moveTo(0, (this.layout.iconBarSize.h + this.layout.iconBarPos.y) * b),
            a.lineTo(gameViewMan.designViewWidth * b, (this.layout.iconBarSize.h + this.layout.iconBarPos.y) * b),
            a.lineTo(gameViewMan.designViewWidth * b, (this.layout.iconBarSize.h + this.layout.iconBarPos.y + 70) * b),
            a.lineTo(0, (this.layout.iconBarSize.h + this.layout.iconBarPos.y + 70) * b),
            a.clip(),
            a.fillStyle = this.layout.tabBackgroundColour,
            a.fillRect(411 * b, (this.layout.iconBarPos.y + this.layout.iconBarSize.h + 2 + (this.lastSettingsCurOffset - this.lastSettingsOffset)) * b, 137 * b, 58 * b),
            this.btnLastSettings.draw(),
            a.restore());
            a.save();
            a.translate(this.apScreenCurOffset * b, 0);
            this.txtAutoplaySpinsTitle.draw(a);
            this.btnGameNumberSlider.draw(!1);
            if (0 != this.stopOptionMode) {
                if (this.pulseState == this.PULSE_ON) {
                    var c = a.globalAlpha;
                    a.globalAlpha = this.pulseCurValue;
                    a.fillStyle = this.layout.UI_WARN;
                    var e = 0;
                    "undefined" != typeof AP_STOP_OPTION_OFFSET && (e = AP_STOP_OPTION_OFFSET);
                    a.fillRectR((320 + e) * b, 350 * b, 285 * b, 68 * b, 40 * b);
                    a.globalAlpha = c
                }
                b = a.globalAlpha;
                0 == this.numberAutoplayGames && (a.globalAlpha = 0.3);
                for (c = 0; c < this.stopOptions.length; c++)
                    this.stopOptions[c].draw(a);
                this.txtStopAutoplayTitle.draw(a);
                a.globalAlpha = b;
                !1 == this.optionsFocused && (a.globalAlpha = this.apScreenState != this.AP_SMALL ? 0.3 : 0);
                this.btn0.draw();
                this.btn1.draw();
                this.btn2.draw();
                this.btn3.draw();
                this.btn4.draw();
                this.btn5.draw();
                this.btn6.draw();
                this.btn7.draw();
                this.btn8.draw();
                this.btn9.draw();
                this.btnBack.draw();
                this.btnNoLimit.draw();
                a.globalAlpha = b
            }
            a.restore()
        }
    }
}
function AutoPlayManager() {
    this.autoPlayOptions = new AutoPlayOptions(this);
    this.sessionPlayed = !0;
    this.mustSetBet = this.inSession = !1;
    this.singleWin = this.sessionLoss = 0;
    this.stopReasonsStr = "";
    this.startSession = function(b) {
        this.sessionPlayed = this.inSession = !0;
        this.saveOptions();
        this.sessionLoss = b
    }
    ;
    this.endSession = function() {
        this.inSession = !1;
        this.showReasons()
    }
    ;
    this.startRound = function() {
        this.singleWin = 0
    }
    ;
    this.setMandatory = function(b) {
        this.autoPlayOptions.setMandatory(b)
    }
    ;
    this.initAssets = function(b) {
        this.autoPlayOptions.initAssets(b)
    }
    ;
    this.update = function(b) {
        this.autoPlayOptions.update(b)
    }
    ;
    this.changeOrientation = function(b) {
        return this.autoPlayOptions.changeOrientation(b)
    }
    ;
    this.processClick = function(b, a) {
        return this.autoPlayOptions.processClick(b, a)
    }
    ;
    this.processClickRelease = function(b, a) {
        return this.autoPlayOptions.processClickRelease(b, a)
    }
    ;
    this.processMove = function(b) {
        return this.autoPlayOptions.processMove(b)
    }
    ;
    this.buttonsUp = function() {
        this.autoPlayOptions.buttonsUp()
    }
    ;
    this.autoPlayNumberChanged = function(b) {
        this.autoPlayOptions.setNumberAutoplayGames(b)
    }
    ;
    this.shouldAutoPlayStop = function() {
        this.stopReasonsStr = "";
        var b = !1;
		console.log("#####GAME_INTERACTION-WindowObj at check jackpot supported and decide autoplay stop if jackpot win");
        "undefined" != typeof windowObj.isJackpotSupported && (windowObj.isJackpotSupported() && 1 == JPT && this.autoPlayOptions.stopOnJackpotWin()) && (this.stopReasonsStr += TXT_AP_LOSS_JACKPOT_WON,
        b = !0);
        this.sessionLoss >= this.autoPlayOptions.getLossLimit() && (this.stopReasonsStr += TXT_AP_LOSS_LIMIT_EXCEEDED,
        b = !0);
        this.singleWin >= this.autoPlayOptions.getSingleWinLimit() && (this.stopReasonsStr += TXT_AP_SINGLE_WIN_EXCEEDED,
        b = !0);
        return b
    }
    ;
    this.resetOptions = function() {
        this.autoPlayOptions.resetOptions()
    }
    ;
    this.restoreOptions = function() {
        this.autoPlayOptions.restoreOptions()
    }
    ;
    this.saveOptions = function() {
        this.autoPlayOptions.saveOptions()
    }
    ;
    this.canAutoPlay = function() {
        return this.autoPlayOptions.canAutoPlay() && !this.mustSetBet
    }
    ;
    this.showReasons = function() {
        "" != this.stopReasonsStr && game.message.messageBox(TXT_AP_AUTOPLAY, TXT_AP_REASONS + " " + this.stopReasonsStr, [game.message.BTN_OK], "");
        this.stopReasonsStr = ""
    }
    ;
    this.showReasonCantStart = function() {
        game.message.messageBox(TXT_AP_AUTOPLAY, TXT_AP_REASON_CANT_START, [game.message.BTN_OK], "")
    }
    ;
    this.draw = function() {
        this.autoPlayOptions.draw()
    }
    ;
    this.setGameCount = function(b) {
        0 == game.autoPlayGames && 0 < b && 2 == this.autoPlayOptions.stopOptionMode && (this.mustSetBet = !1);
        0 == b && (this.mustSetBet = !1);
        game.ui.setGameCount(b);
        this.autoPlayNumberChanged(b)
    }
    ;
    this.startPulse = function() {
        this.autoPlayOptions.startPulse()
    }
    ;
    this.addWin = function(b) {
        this.inSession && (this.sessionLoss -= b - this.singleWin,
        this.singleWin = b)
    }
    ;
    this.takeBet = function(b) {
        this.inSession && (this.sessionLoss += b)
    }
    ;
    this.setMaxAutoPlays = function(b) {
        this.autoPlayOptions.setMaxAutoPlays(b)
    }
    ;
    this.getLossLimit = function() {
        return this.autoPlayOptions.getLossLimit()
    }
    ;
    this.getSingleWinLimit = function() {
        return this.autoPlayOptions.getSingleWinLimit()
    }
    ;
    this.makeUISmall = function() {
        this.autoPlayOptions.makeUISmall()
    }
}
;function UILayout() {
    this.orientation = 0;
    this.btnSpin = {
        nx: 0,
        ny: 0,
        nwidth: 140,
        nheight: 140,
        dx: 147,
        dy: 0,
        dwidth: 140,
        dheight: 140
    };
    this.btnStartAutoPlay = {
        nx: 0,
        ny: 144,
        nwidth: 140,
        nheight: 155,
        dx: 147,
        dy: 143,
        dwidth: 140,
        dheight: 155
    };
    this.btnStopAutoPlay = {
        nx: 0,
        ny: 301,
        nwidth: 140,
        nheight: 155,
        dx: 147,
        dy: 301,
        dwidth: 140,
        dheight: 155
    };
    this.btnHomeGame = {
        nx: 305,
        ny: 87,
        nwidth: 70,
        nheight: 70,
        dx: 460,
        dy: 87,
        dwidth: 70,
        dheight: 70
    };
    this.btnCashierGame = {
        nx: 305,
        ny: 161,
        nwidth: 70,
        nheight: 70,
        dx: 460,
        dy: 161,
        dwidth: 70,
        dheight: 70
    };
    this.btnSettings = {
        nx: 305,
        ny: 11,
        nwidth: 70,
        nheight: 70,
        dx: 305,
        dy: 11,
        dwidth: 1,
        dheight: 1
    };
    this.btnHold = {
        nx: 0,
        ny: 0,
        nwidth: 800,
        nheight: 468,
        dx: 0,
        dy: 0,
        dwidth: 800,
        dheight: 468
    };
    this.imgWinMeterBackground = {
        x: 0,
        y: 469,
        w: 570,
        h: 59
    };
    this.btnInGameBet = {
        nx: 305,
        ny: 11,
        nwidth: 70,
        nheight: 70,
        dx: 460,
        dy: 13,
        dwidth: 70,
        dheight: 70
    };
    this.coinInGameBet = {
        x: 660,
        y: 275,
        w: 16,
        h: 37
    };
    this.btnHomeSettings = {
        nx: 20,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 20,
        dy: 70,
        dwidth: 76,
        dheight: 46
    };
    this.btnCashier = {
        nx: 87,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 87,
        dy: 70,
        dwidth: 76,
        dheight: 46
    };
    this.btnMute = {
        nx: 165,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 168,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 165,
        ay: 139,
        awidth: 76,
        aheight: 46
    };
    this.btnMuteOff = {
        nx: 237,
        ny: 1,
        nwidth: 76,
        nheight: 46,
        dx: 237,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 237,
        ay: 140,
        awidth: 76,
        aheight: 46
    };
    this.btnAutoplaySettings = {
        nx: 312,
        ny: 0,
        nwidth: 86,
        nheight: 46,
        dx: 312,
        dy: 70,
        dwidth: 86,
        dheight: 46,
        ax: 312,
        ay: 139,
        awidth: 86,
        aheight: 46
    };
    this.btnInfo = {
        nx: 400,
        ny: 0,
        nwidth: 60,
        nheight: 46,
        dx: 400,
        dy: 70,
        dwidth: 60,
        dheight: 46,
        ax: 400,
        ay: 139,
        awidth: 60,
        aheight: 46
    };
    this.btnBetSettings = {
        nx: 462,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 462,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 462,
        ay: 139,
        awidth: 76,
        aheight: 46
    };
    this.btnClose = {
        nx: 675,
        ny: 0,
        nwidth: 60,
        nheight: 46,
        dx: 675,
        dy: 70,
        dwidth: 60,
        dheight: 46,
        ax: 675,
        ay: 139,
        awidth: 60,
        aheight: 46
    };
    this.btnMaxLines = {
        nx: 121,
        ny: 273,
        nwidth: 104,
        nheight: 64,
        dx: 541,
        dy: 273,
        dwidth: 104,
        dheight: 64
    };
    this.btnMaxBet = {
        nx: 0,
        ny: 280,
        nwidth: 104,
        nheight: 49,
        dx: 420,
        dy: 280,
        dwidth: 104,
        dheight: 49
    };
    this.btnFreeRounds = {
        nx: 0,
        ny: 0,
        nwidth: 62,
        nheight: 62,
        dx: 308,
        dy: 246,
        dwidth: 0,
        dheight: 0
    };
    this.defaultHomeGameBtnPos = {
        x: 5,
        y: 5
    };
    this.defaultCashierGameBtnPos = {
        x: 100,
        y: 5
    };
    this.defaultSettingsBtnPos = {
        x: 885,
        y: 5
    };
    this.defaultFreeRoundsBtnPos = {
        x: 750,
        y: 5
    };
    this.defaultSpinBtnPos = {
        x: 815,
        y: 226
    };
    this.defaultStartAutoplayBtnPos = {
        x: 815,
        y: 226
    };
    this.defaultStopAutoplayBtnPos = {
        x: 815,
        y: 226
    };
    this.defaultGamesRemainingMeterPos = {
        x: 885,
        y: 368
    };
    this.defaultGamesRemainingMeterPos2 = {
        x: 885,
        y: 363
    };
    this.defaultWinMeterPos = {
        x: 480,
        y: 492
    };
    this.defaultWinMeterBGPos = {
        x: 195,
        y: 446
    };
    this.inGameBetPos = {
        x: 815,
        y: 226
    };
    this.btnInGameBetPos = {
        x: -70,
        y: 34
    };
    this.igbIconPos = {
        x: -540,
        y: 48
    };
    this.inGameSliderPos = {
        x: -450,
        y: 54
    };
    this.inGameSliderBackground = {
        x: -555,
        y: 44,
        w: 585,
        h: 50,
        c: 25
    };
    this.igbClipPolygon1 = [{
        x: -600,
        y: -20
    }, {
        x: 60,
        y: -20
    }, {
        x: 60,
        y: 44
    }, {
        x: 8,
        y: 44
    }, {
        x: 4,
        y: 59
    }, {
        x: 4,
        y: 70
    }, {
        x: 4,
        y: 80
    }, {
        x: 8,
        y: 94
    }, {
        x: 8,
        y: 100
    }, {
        x: -600,
        y: 100
    }];
    this.igbClipPolygon2 = [{
        x: -600,
        y: -20
    }, {
        x: 60,
        y: -20
    }, {
        x: 60,
        y: 44
    }, {
        x: 15,
        y: 44
    }, {
        x: 10,
        y: 59
    }, {
        x: 10,
        y: 70
    }, {
        x: 10,
        y: 80
    }, {
        x: 14,
        y: 94
    }, {
        x: 14,
        y: 100
    }, {
        x: -600,
        y: 100
    }];
    this.defaultHoldBtnPos = {
        x: 70,
        y: 50
    };
    this.iconBarPos = {
        x: 0,
        y: 10
    };
    this.iconBarSize = {
        w: 960,
        h: 73
    };
    this.iconBarIconOffset = 14;
    this.defaultHomeSettingsBtnPos = {
        x: 25,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultCashierBtnPos = {
        x: 165,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultMuteBtnPos = {
        x: 310,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultAutoplaySettingsBtnPos = {
        x: 440,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultInfoBtnPos = {
        x: 590,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultBetSettingsBtnPos = {
        x: 715,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultCloseBtnPos = {
        x: 855,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultMaxLinesPos = {
        x: 85,
        y: 188
    };
    this.defaultLinesSliderPos = {
        x: 310,
        y: 200
    };
    this.defaultMaxBetPos = {
        x: 90,
        y: 370
    };
    this.defaultBetSliderPos = {
        x: 310,
        y: 370
    };
    this.defaultInsufficientFundsPos = {
        x: 470,
        y: 530
    };
    this.keypadHitPadding = 10;
    this.hitPadding = 20;
    this.keypadFrameFormat = {
        x: 664,
        y: 115,
        w: 280,
        h: 380,
        r: 44
    };
    this.UI_HIGHLIGHT = "#7effbe";
    this.UI_WARN = "#f17c68";
    this.UI_LIGHT_GREY = "#3d3b3b";
    this.UI_DARK_GREY = "#252525";
    this.UI_WHITE = "#FFFFFF";
    this.sliderCol = this.UI_HIGHLIGHT;
    this.baseLineCol = this.UI_LIGHT_GREY;
    this.sliderFontFmt = {
        font: "36px arial",
        align: "center",
        col: this.UI_WHITE
    };
    this.baseLineFmt = {
        width: 20,
        col: this.baseLineCol
    };
    this.selectedLineFmt = {
        width: 20,
        col: this.sliderCol,
        colAlt: this.UI_WARN
    };
    this.selectorFmt = {
        radius: 15,
        col: this.UI_LIGHT_GREY,
        textOffset: 40
    };
    this.sliderInGameFontFmt = {
        font: "24px arial",
        align: "center",
        col: this.UI_WHITE
    };
    this.baseLineInGameFmt = {
        width: 15,
        col: this.baseLineCol
    };
    this.selectedLineInGameFmt = {
        width: 15,
        col: this.sliderCol,
        colAlt: this.UI_WARN
    };
    this.selectorInGameFmt = {
        radius: 12,
        col: this.UI_LIGHT_GREY,
        textOffset: 40
    };
    this.tabBackgroundColour = this.UI_LIGHT_GREY;
    this.iconBarColour = this.UI_DARK_GREY;
    this.meterLabelCol = this.UI_HIGHLIGHT;
    this.meterValueCol = this.UI_WHITE;
    this.meterBackgroundCol = [{
        p: 0,
        col: "#000"
    }, {
        p: 1,
        col: "#000"
    }];
    this.betSliderConfig = {
        w: 450,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.betInGameSliderConfig = {
        w: 300,
        h: 30,
        valueFmt: this.sliderInGameFontFmt,
        baseLineFmt: this.baseLineInGameFmt,
        selectedLineFmt: this.selectedLineInGameFmt,
        selectorFmt: this.selectorInGameFmt
    };
    this.linesSliderConfig = {
        w: 450,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.gameNumberSliderConfig = {
        w: 465,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.orient = function(b) {
        this.orientation = b;
        this.HOME_GAME_BTN = this.defaultHomeGameBtnPos;
        this.CASHIER_GAME_BTN = this.defaultCashierGameBtnPos;
        this.SETTINGS_BTN = this.defaultSettingsBtnPos;
        this.SPIN_BTN = this.defaultSpinBtnPos;
        this.START_AUTOPLAY_BTN = this.defaultStartAutoplayBtnPos;
        this.STOP_AUTOPLAY_BTN = this.defaultStopAutoplayBtnPos;
        this.GAMES_REMAINING_METER = this.defaultGamesRemainingMeterPos;
        this.WIN_METER = this.defaultWinMeterPos;
        this.WIN_METER_BG = this.defaultWinMeterBGPos;
        this.HOLD_BTN = this.defaultHoldBtnPos;
        this.FREE_ROUNDS_BTN = this.defaultFreeRoundsBtnPos;
        this.MUTE_BTN = this.defaultMuteBtnPos;
        this.INFO_BTN = this.defaultInfoBtnPos;
        this.HOME_SETTINGS_BTN = this.defaultHomeSettingsBtnPos;
        this.CLOSE_BTN = this.defaultCloseBtnPos;
        this.CASHIER_BTN = this.defaultCashierBtnPos;
        this.AUTOPLAY_SETTINGS_BTN = this.defaultAutoplaySettingsBtnPos;
        this.BET_SETTINGS_BTN = this.defaultBetSettingsBtnPos;
        this.LINES_SLIDER_BTN = this.defaultLinesSliderPos;
        this.BET_SLIDER_BTN = this.defaultBetSliderPos;
        this.MAX_LINES_BTN = this.defaultMaxLinesPos;
        this.MAX_BET_BTN = this.defaultMaxBetPos;
        this.INSUFFICIENT_FUNDS = this.defaultInsufficientFundsPos
    }
}
;function SubButton(b, a) {
    this.image = a;
    this.id = b.id;
    this.position = {
        x: 0,
        y: 0
    };
    this.target = {
        x: 0,
        y: 0
    };
    this.smallTarget = {
        x: 0,
        y: 0
    };
    this.hitRadius = 40;
    this.enabled = !0;
    this.nx = b.layout.nx;
    this.ny = b.layout.ny;
    this.nw = b.layout.nwidth;
    this.nh = b.layout.nheight;
    this.ax = b.layout.ax;
    this.ay = b.layout.ay;
    this.aw = b.layout.awidth;
    this.ah = b.layout.aheight;
    this.adjust = b.adjust;
    this.grow = this.selected = !1;
    this.growSize = 8;
    this.growCurSize = 0;
    var d = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.clear = function() {
        this.grow = !1;
        this.growCurSize = 0
    }
    ;
    this.draw = function() {
        if (this.enabled) {
            var a = gameViewMan.viewScale;
            d.fillStyle = "rgba(0,0,0,0.8)";
            var b = 40 + this.growCurSize;
            d.lineWidth = 3 * a;
            var f = 0
              , g = 0;
            d.strokeStyle = this.selected ? game.ui.layout.UI_HIGHLIGHT : "#FFFFFF";
            f = this.growCurSize / this.growSize * (this.target.x - this.position.x) + this.position.x;
            g = this.growCurSize / this.growSize * (this.target.y - this.position.y) + this.position.y;
            d.beginPath();
            d.arc(f * a, g * a, b * a, 0, 2 * Math.PI, !1);
            d.fill();
            d.beginPath();
            d.arc(f * a, g * a, (b - 4) * a, 0, 2 * Math.PI, !1);
            d.stroke();
            this.selected ? d.drawImage(this.image, this.ax, this.ay, this.aw, this.ah, (f - this.aw / 2 + this.adjust.x) * a, (g - this.ah / 2 + this.adjust.y) * a, (this.aw + this.adjust.w) * a, (this.ah + this.adjust.h) * a) : d.drawImage(this.image, this.nx, this.ny, this.nw, this.nh, (f - this.nw / 2 + this.adjust.x) * a, (g - this.nh / 2 + this.adjust.y) * a, (this.nw + this.adjust.w) * a, (this.nh + this.adjust.h) * a)
        }
    }
    ;
    this.setPosition = function(a) {
        this.position = a
    }
    ;
    this.setTarget = function(a) {
        this.target = a
    }
    ;
    this.setSmallTarget = function(a) {
        this.smallTarget = a
    }
    ;
    this.isOver = function(a) {
        return !this.enabled ? !1 : Math.sqrt((a.x - this.position.x) * (a.x - this.position.x) + (a.y - this.position.y) * (a.y - this.position.y)) <= this.hitRadius || Math.sqrt((a.x - this.target.x) * (a.x - this.target.x) + (a.y - this.target.y) * (a.y - this.target.y)) <= this.hitRadius + this.growCurSize || Math.sqrt((a.x - this.smallTarget.x) * (a.x - this.smallTarget.x) + (a.y - this.smallTarget.y) * (a.y - this.smallTarget.y)) <= this.hitRadius - 8 ? this.grow = !0 : this.grow = !1
    }
    ;
    this.update = function(a) {
        this.enabled && (this.grow ? (this.growCurSize += a / 10,
        this.growCurSize >= this.growSize && (this.growCurSize = this.growSize)) : (this.growCurSize -= a / 10,
        0 >= this.growCurSize && (this.growCurSize = 0)))
    }
}
function ButtonHold(b, a) {
    this.image = b;
    this.BS_IDLE = 0;
    this.BS_WAIT = 1;
    this.BS_REVEAL = 2;
    this.BS_OPEN = 3;
    this.state = this.BS_IDLE;
    this.width = a.nwidth;
    this.height = a.nheight;
    this.position = {
        x: 0,
        y: 0
    };
    this.origin = {
        x: 0,
        y: 0
    };
    this.isDisabled = this.isDown = !1;
    this.visible = !0;
    this.scale = 0.9;
    this.distance = 0;
    this.maxDistance = 150;
    this.holdTimer = 0;
    this.holdDelay = 300;
    this.distanceFromOrigin = 0;
    this.subButtons = [];
    this.subButtons.push(new SubButton({
        id: 1,
        layout: game.ui.layout.btnBetSettings,
        adjust: {
            x: 8,
            y: 4,
            w: -10,
            h: -10
        }
    },this.image));
    this.subButtons.push(new SubButton({
        id: 2,
        layout: game.ui.layout.btnAutoplaySettings,
        adjust: {
            x: 12,
            y: 6,
            w: -12,
            h: -12
        }
    },this.image));
    this.subButtons.push(new SubButton({
        id: 3,
        layout: game.ui.layout.btnInfo,
        adjust: {
            x: 7,
            y: -2,
            w: 0,
            h: 0
        }
    },this.image));
    this.subButtons.push(new SubButton({
        id: 4,
        layout: game.ui.layout.btnMute,
        adjust: {
            x: 5,
            y: 4,
            w: -8,
            h: -8
        }
    },this.image));
    this.subButtons.push(new SubButton({
        id: 5,
        layout: game.ui.layout.btnMuteOff,
        adjust: {
            x: 5,
            y: 4,
            w: -8,
            h: -8
        }
    },this.image));
    this.rotOffset = 0;
    this.setPosition = function(a) {
        this.position = a
    }
    ;
    this.update = function(a) {
        if (this.isDown)
            switch (this.state) {
            case this.BS_WAIT:
                this.holdTimer -= a;
                0 >= this.holdTimer && (this.holdTimer = 0,
                this.state = this.BS_REVEAL,
                this.distanceFromOrigin = this.distance = 0);
                break;
            case this.BS_REVEAL:
                this.distance += a / 100 * this.maxDistance;
                this.distance >= this.maxDistance && (this.distance = this.maxDistance,
                this.state = this.BS_OPEN);
                for (var a = {
                    x: this.distance + this.origin.x,
                    y: 0 + this.origin.y
                }, b = {
                    x: this.distance + 30 + this.origin.x,
                    y: 0 + this.origin.y
                }, e = {
                    x: this.distance - 30 + this.origin.x,
                    y: 0 + this.origin.y
                }, f = 0, g = 0, k = this.subButtons.length; g < k; g++)
                    if (this.subButtons[g].enabled) {
                        var p = this.rotatePoint(a, this.origin, f + this.rotOffset)
                          , n = this.rotatePoint(b, this.origin, f + this.rotOffset)
                          , q = this.rotatePoint(e, this.origin, f + this.rotOffset);
                        this.subButtons[g].setPosition(p);
                        this.subButtons[g].setTarget(n);
                        this.subButtons[g].setSmallTarget(q);
                        f += 35
                    }
                break;
            case this.BS_OPEN:
                g = 0;
                for (k = this.subButtons.length; g < k; g++)
                    this.subButtons[g].update(a)
            }
    }
    ;
    this.rotatePoint = function(a, b, e) {
        var e = e * (Math.PI / 180)
          , f = Math.cos(e) * (a.x - b.x) - Math.sin(e) * (a.y - b.y) + b.x
          , a = Math.sin(e) * (a.x - b.x) + Math.cos(e) * (a.y - b.y) + b.y;
        return {
            x: f,
            y: a
        }
    }
    ;
    this.processMove = function(a) {
        this.state == this.BS_OPEN && (this.setSelected(this.getSubButtonID(a)),
        this.distanceFromOrigin = Math.sqrt((a.x - this.origin.x) * (a.x - this.origin.x) + (a.y - this.origin.y) * (a.y - this.origin.y)))
    }
    ;
    this.draw = function() {
        if (this.isDown && (this.state == this.BS_REVEAL || this.state == this.BS_OPEN))
            for (var a = 0, b = this.subButtons.length; a < b; a++)
                this.subButtons[a].draw()
    }
    ;
    this.setOrigin = function(a, b, e) {
        this.origin = a;
        this.rotOffset = 0;
        this.rotOffset = 300 <= this.origin.x && 200 <= this.origin.y ? 180 : 300 <= this.origin.x && 200 > this.origin.y ? 70 : 300 > this.origin.x && 200 <= this.origin.y ? 260 : 0;
        for (var a = this.origin, f = 0, g = this.subButtons.length; f < g; f++)
            this.subButtons[f].setPosition(a),
            this.subButtons[f].clear();
		console.log("#####GAME_INTERACTION-WindowObj at check audio button vsibility");
        if ("function" === typeof windowObj.audioBtnVisibility && !windowObj.audioBtnVisibility())
            this.subButtons[3].enabled = !1,
            this.subButtons[4].enabled = !1;
        else
            switch (b) {
            case game.ui.AUDIO_DISABLED:
                this.subButtons[3].enabled = !1;
                this.subButtons[4].enabled = !1;
                break;
            case game.ui.AUDIO_ON:
                this.subButtons[3].enabled = !0;
                this.subButtons[4].enabled = !1;
                break;
            case game.ui.AUDIO_MUTED:
                this.subButtons[3].enabled = !1,
                this.subButtons[4].enabled = !0
            }
        this.subButtons[1].enabled = e ? !1 : !0;
        this.holdTimer = this.holdDelay;
        this.state = this.BS_WAIT;
        this.distanceFromOrigin = this.distance = 0;
        this.setSelected(0)
    }
    ;
    this.hide = function() {
        this.state = this.BS_IDLE;
        this.distanceFromOrigin = this.distance = 0
    }
    ;
    this.getSubButtonID = function(a) {
        if (this.state == this.BS_OPEN)
            for (var b = 0, e = this.subButtons.length; b < e; b++)
                if (this.subButtons[b].isOver(a))
                    return this.subButtons[b].id;
        return 0
    }
    ;
    this.setSelected = function(a) {
        for (var b = 0, e = this.subButtons.length; b < e; b++)
            this.subButtons[b].selected = a == this.subButtons[b].id ? !0 : !1
    }
    ;
    this.isOver = function(a) {
        return this.isDisabled ? !1 : a.x > this.position.x && a.x < this.position.x + this.width && a.y > this.position.y && a.y < this.position.y + this.height ? !0 : !1
    }
}
function ui() {
    this.isUI3 = !0;
    this.layout = new UILayout;
    this.autoPlayMan = new AutoPlayManager;
    this.disableAllUI = this.uiInitialized = !1;
    this.AUTO_OFF = 0;
    this.AUTO_WAITING_TO_START = 1;
    this.AUTO_PLAYING = 2;
    this.AUTO_WAITING_TO_STOP = 3;
    this.AUDIO_DISABLED = 0;
    this.AUDIO_ON = 1;
    this.AUDIO_MUTED = 2;
    this.VIEW_GAME = 0;
    this.VIEW_SETTINGS = 1;
    this.state = this.VIEW_GAME;
    this.tabView = 0;
    this.autoPlayMode = this.AUTO_OFF;
    this.audioState = this.AUDIO_ON;
    this.insufficientFunds = !1;
    this.disableHomeBtnMidRound = !0;
    this.winMeterShow = this.showCashierGameBtn = this.showCashierBtn = !1;
    this.btnHomeGame = {};
    this.btnCashierGame = {};
    this.btnSettings = {};
    this.btnHold = {};
    this.btnHomeSettings = {};
    this.btnCashier = {};
    this.btnMute = {};
    this.btnMuteOff = {};
    this.btnInfo = {};
    this.btnHelp = {};
    this.btnClose = {};
    this.btnAutoplaySettings = {};
    this.btnBetSettings = {};
    this.btnLinesSlider = {};
    this.btnBetSlider = {};
    this.btnMaxLines = {};
    this.btnMaxBet = {};
    this.btnSpin = {};
    this.btnStartAutoPlay = {};
    this.btnStopAutoPlay = {};
    this.inGameBet = {};
    this.btnFreeRounds = {};
    this.imgGameUI = {};
    this.imgMenuUI = {};
    this.imgFreeRounds = null;
    this.inFreeRounds = !1;
    this.showHomeButton = this.lineSelection = !0;
    this.gameMeterLabelCol = "#FFFF00";
    this.gameMeterValueCol = "#FFFFFF";
    this.gameMeterBackgroundCol = [{
        p: 0,
        col: "#000"
    }, {
        p: 1,
        col: "#000"
    }];
    this.winMeterAlpha = 0.8;
    this.useVariable243Way = !1;
    "undefined" != typeof gameConfig.variableWay243 && (this.useVariable243Way = gameConfig.variableWay243);
    var b = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.setFreeRounds = function(a) {
        if (this.inFreeRounds = a) {
            this.btnAutoplaySettings.isDisabled = true;
            this.btnLinesSlider.isDisabled = true;
            this.btnBetSlider.isDisabled = true;
            this.inGameBet.disable(true);
            this.btnMaxBet.isDisabled = true;
            this.btnMaxLines.isDisabled = true
        } else {
            if (this.lineSelection) {
                this.btnLinesSlider.isDisabled = false;
                this.btnMaxLines.isDisabled = false
            }
            this.btnMaxBet.isDisabled = false;
            this.btnAutoplaySettings.isDisabled = false;
            this.btnBetSlider.isDisabled = false;
            this.inGameBet.disable(false);
            this.btnBetSlider.setValueIndex(game.account.getBetIndex());
            this.inGameBet.setValueIndex(game.account.getBetIndex())
        }
    }
    ;
    this.initAssets = function() {
        this.autoPlayMan.initAssets(this.layout);
        this.imgGameUI = game.ASSET_MANAGER.getAsset("game_ui.png");
        this.imgMenuUI = game.ASSET_MANAGER.getAsset("menu_ui.png");
        if (game.frEnabled)
            this.imgFreeRounds = game.ASSET_MANAGER.getAsset("freespins/btn_FreeRound.png");
        this.btnHomeGame = new Button(this.imgGameUI,this.layout.btnHomeGame);
        this.btnCashierGame = new Button(this.imgGameUI,this.layout.btnCashierGame);
        this.btnSettings = new Button(this.imgGameUI,this.layout.btnSettings);
        this.btnSpin = new Button(this.imgGameUI,this.layout.btnSpin);
        this.btnStartAutoPlay = new Button(this.imgGameUI,this.layout.btnStartAutoPlay);
        this.btnStopAutoPlay = new Button(this.imgGameUI,this.layout.btnStopAutoPlay);
        this.btnHold = new ButtonHold(this.imgMenuUI,this.layout.btnHold);
        this.inGameBet = new InGameBet(this.imgMenuUI,this.layout);
        this.autoPlayGamesRemainingMeter = new Text;
        this.autoPlayGamesRemainingMeter.font = "bold 25px arial";
        this.autoPlayGamesRemainingMeter.align = "center";
        this.autoPlayGamesRemainingMeter.m_Color = "#FFFFFF";
        this.winMeter = new Text;
        this.winMeter.font = typeof WIN_METER_FONT === "undefined" ? "48px arial" : WIN_METER_FONT;
        this.winMeter.align = "center";
        this.winMeter.m_Text = "WIN: OOPS!";
        this.winMeter.m_Color = "#FFFF00";
        this.btnMute = new Button(this.imgMenuUI,this.layout.btnMute);
        this.btnMuteOff = new Button(this.imgMenuUI,this.layout.btnMuteOff);
        this.btnInfo = new Button(this.imgMenuUI,this.layout.btnInfo);
        this.btnHomeSettings = new Button(this.imgMenuUI,this.layout.btnHomeSettings);
        this.btnClose = new Button(this.imgMenuUI,this.layout.btnClose);
        this.btnCashier = new Button(this.imgMenuUI,this.layout.btnCashier);
        this.btnAutoplaySettings = new Button(this.imgMenuUI,this.layout.btnAutoplaySettings);
        this.btnBetSettings = new Button(this.imgMenuUI,this.layout.btnBetSettings);
        this.btnMaxLines = new Button(this.imgMenuUI,this.layout.btnMaxLines);
        this.btnMaxBet = new Button(this.imgMenuUI,this.layout.btnMaxBet);
        if (this.imgFreeRounds != null) {
            this.btnFreeRounds = new Button(this.imgFreeRounds,this.layout.btnFreeRounds);
            this.btnFreeRounds.hitPadding = this.layout.hitPadding;
            this.btnFreeRoundsAnim = new FreeRoundsButtonAnim;
            this.btnFreeRoundsAnim.initFreeRoundButton();
            this.btnFreeRoundsAnim.startAnimation()
        }
        this.btnLinesSlider = new Slider(this.layout.linesSliderConfig,this.imgMenuUI);
        for (var a = [], b = game.account.NUM_PAYLINES, c = 0; c < b; c++)
            a.push(c + 1);
        this.useVariable243Way && (a = [3, 9, 27, 81, 243]);
        this.btnLinesSlider.setValues(a);
        this.btnLinesSlider.setValueIndex(a.length - 1);
        if (arguments.length > 0 && Boolean(arguments[0]) == false) {
            this.lineSelection = false;
            this.btnLinesSlider.isDisabled = true;
            this.btnMaxLines.isDisabled = true
        }
        this.btnBetSlider = new Slider(this.layout.betSliderConfig,this.imgMenuUI);
        a = [];
        b = game.account.betAmounts;
        for (c = 0; c < b.length; c++)
            a.push(game.account.getCurrencyString(b[c]));
        this.btnBetSlider.setValues(a);
        this.btnBetSlider.setValueIndex(game.account.getBetIndex());
        this.inGameBet.setValues(a);
        this.inGameBet.setValueIndex(game.account.getBetIndex());
        this.btnMaxLines.hitPadding = this.layout.hitPadding;
        this.btnMaxBet.hitPadding = this.layout.hitPadding;
        this.btnHomeSettings.hitPadding = this.layout.hitPadding;
        this.btnHomeGame.hitPadding = this.layout.hitPadding;
        this.btnCashierGame.hitPadding = this.layout.hitPadding;
        this.btnSettings.hitPadding = this.layout.hitPadding;
        this.btnClose.hitPadding = this.layout.hitPadding;
        this.btnCashier.hitPadding = this.layout.hitPadding;
        this.btnAutoplaySettings.hitPadding = this.layout.hitPadding;
        this.btnBetSettings.hitPadding = this.layout.hitPadding;
        this.btnMute.hitPadding = this.layout.hitPadding;
        this.btnMuteOff.hitPadding = this.layout.hitPadding;
        this.btnInfo.hitPadding = this.layout.hitPadding;
        this.insufficientFundsTxt = new Text;
        this.insufficientFundsTxt.font = "26px arial";
        this.insufficientFundsTxt.align = "center";
        this.insufficientFundsTxt.m_Color = this.layout.UI_WARN;
        this.insufficientFundsTxt.m_Text = typeof TXT_NOT_ENOUGH_BALANCE_WH_SETTING === "undefined" ? TXT_NOT_ENOUGH_BALANCE : TXT_NOT_ENOUGH_BALANCE_WH_SETTING;
        this.gameMeterBackgroundCol = game.meters.getBackground();
        this.gameMeterLabelCol = game.meters.getLabelColour();
        this.gameMeterValueCol = game.meters.getValueColour();
        this.setTabView(0);
        this.btnStartAutoPlay.isOverDisabled = function(a) {
            return a.x > this.X - this.hitPadding && a.x < this.X + this.nwidth + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.nheight + this.hitPadding ? true : false
        }
        ;
        this.btnSpin.isOverDisabled = function(a) {
            return a.x > this.X - this.hitPadding && a.x < this.X + this.nwidth + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.nheight + this.hitPadding ? true : false
        }
        ;
        this.uiInitialized = true
    }
    ;
    this.changeOrientation = function(a) {
        this.layout.orient(a);
        this.autoPlayMan.changeOrientation(a);
        this.btnMute.setPosition(this.layout.MUTE_BTN);
        this.btnMuteOff.setPosition(this.layout.MUTE_BTN);
        this.btnInfo.setPosition(this.layout.INFO_BTN);
        this.btnHomeSettings.setPosition(this.layout.HOME_SETTINGS_BTN);
        this.btnHomeGame.setPosition(this.layout.HOME_GAME_BTN);
        this.btnCashierGame.setPosition(this.layout.CASHIER_GAME_BTN);
        this.btnHold.setPosition(this.layout.HOLD_BTN);
        this.btnSettings.setPosition(this.layout.SETTINGS_BTN);
        if (this.imgFreeRounds != null) {
            this.btnFreeRounds.setPosition(this.layout.FREE_ROUNDS_BTN);
            this.btnFreeRoundsAnim.setPosition(this.layout.FREE_ROUNDS_BTN.x, this.layout.FREE_ROUNDS_BTN.y)
        }
        this.btnLinesSlider.setPosition(this.layout.LINES_SLIDER_BTN);
        this.btnBetSlider.setPosition(this.layout.BET_SLIDER_BTN);
        this.btnMaxLines.setPosition(this.layout.MAX_LINES_BTN);
        this.btnMaxBet.setPosition(this.layout.MAX_BET_BTN);
        this.btnClose.setPosition(this.layout.CLOSE_BTN);
        this.btnCashier.setPosition(this.layout.CASHIER_BTN);
        this.btnAutoplaySettings.setPosition(this.layout.AUTOPLAY_SETTINGS_BTN);
        this.btnBetSettings.setPosition(this.layout.BET_SETTINGS_BTN);
        this.btnSpin.setPosition(this.layout.SPIN_BTN);
        this.btnStartAutoPlay.setPosition(this.layout.START_AUTOPLAY_BTN);
        this.btnStopAutoPlay.setPosition(this.layout.STOP_AUTOPLAY_BTN);
        this.autoPlayGamesRemainingMeter.setPosition(this.layout.GAMES_REMAINING_METER);
        this.winMeter.setPosition(this.layout.WIN_METER);
        this.insufficientFundsTxt.setPosition(this.layout.INSUFFICIENT_FUNDS);
        this.inGameBet.changeOrientation(a)
    }
    ;
    this.update = function(a) {
        this.btnHold.update(a);
        this.autoPlayMan.update(a);
        this.inGameBet.update(a);
        this.imgFreeRounds != null && this.btnFreeRoundsAnim.update(a)
    }
    ;
    this.setState = function(a) {
        if (a != this.state) {
            this.state = a;
            switch (this.state) {
            case this.VIEW_GAME:
                game.uapi_closePanel(true);
                game.meters.setBackground(this.gameMeterBackgroundCol);
                game.meters.setFontColour(this.gameMeterLabelCol, this.gameMeterValueCol);
                game.meters.refreshTexture();
                game.jackpotMeters.setBackground(game.jackpotMetersBackgroundCol);
                break;
            case this.VIEW_SETTINGS:
                game.uapi_openPanel();
                game.meters.setBackground(this.layout.meterBackgroundCol);
                game.meters.setFontColour(this.layout.meterLabelCol, this.layout.meterValueCol);
                game.meters.refreshTexture();
                game.jackpotMeters.setBackground(this.layout.meterBackgroundCol);
                this.btnBetSlider.setValueIndex(game.account.getBetIndex());
                this.useVariable243Way ? this.btnLinesSlider.setValueIndex(game.account.reelsSelected - 1) : this.btnLinesSlider.setValueIndex(game.account.paylinesSelected - 1)
            }
        }
    }
    ;
    this.processClick = function(a) {
        if (!this.disableAllUI) {
            if (this.state == this.VIEW_GAME) {
                if (this.showHomeButton && this.btnHomeGame.isOver(a)) {
                    this.btnHomeGame.isDown = true;
                    return
                }
                if (this.btnCashierGame.isOver(a)) {
                    this.btnCashierGame.isDown = true;
                    return
                }
                if (this.btnSettings.isOver(a)) {
                    this.btnSettings.isDown = true;
                    return
                }
                if (this.imgFreeRounds != null && game.freeRounds.freeRoundAvailability && this.btnFreeRounds.isOver(a)) {
                    this.btnFreeRounds.isDown = true;
                    this.btnFreeRoundsAnim.stopAnimation();
                    return
                }
                if (this.inGameBet.processClick(a))
                    return;
                switch (this.autoPlayMode) {
                case this.AUTO_OFF:
                    if (this.btnSpin.isOver(a)) {
                        this.btnSpin.isDown = true;
                        return
                    }
                    break;
                case this.AUTO_WAITING_TO_START:
                    if (this.btnStartAutoPlay.isOver(a)) {
                        this.btnStartAutoPlay.isDown = true;
                        this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos2);
                        return
                    }
                    break;
                case this.AUTO_PLAYING:
                    if (this.btnStopAutoPlay.isOver(a)) {
                        this.btnStopAutoPlay.isDown = true;
                        this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos2);
                        return
                    }
                }
                if (this.btnHold.isOver(a) && !this.btnStartAutoPlay.isOverDisabled(a)) {
                    this.btnHold.isDown = true;
                    this.btnHold.setOrigin(a, this.audioState, this.inFreeRounds);
                    this.inGameBet.show(false);
                    return
                }
            }
            if (this.state == this.VIEW_SETTINGS)
                if (this.showHomeButton && this.btnHomeSettings.isOver(a))
                    this.btnHomeSettings.isDown = true;
                else {
					console.log("#####GAME_INTERACTION-WindowObj at check audio button visibility");
                    if (typeof windowObj.audioBtnVisibility !== "function" || windowObj.audioBtnVisibility())
                        if (this.audioState == this.AUDIO_ON) {
                            if (this.btnMute.isOver(a)) {
                                this.btnMute.isDown = true;
                                return
                            }
                        } else if (this.audioState == this.AUDIO_MUTED && this.btnMuteOff.isOver(a)) {
                            this.btnMuteOff.isDown = true;
                            return
                        }
                    if (this.btnInfo.isOver(a))
                        this.btnInfo.isDown = true;
                    else if (this.btnClose.isOver(a))
                        this.btnClose.isDown = true;
                    else if (this.btnAutoplaySettings.isOver(a))
                        this.btnAutoplaySettings.isDown = true;
                    else if (this.btnBetSettings.isOver(a))
                        this.btnBetSettings.isDown = true;
                    else if (this.btnCashier.isOver(a))
                        this.btnCashier.isDown = true;
                    else
                        switch (this.tabView) {
                        case 0:
                            if (this.btnLinesSlider.isOver(a))
                                return this.btnLinesSlider.isDown = true;
                            if (this.btnBetSlider.isOver(a))
                                return this.btnBetSlider.isDown = true;
                            if (this.btnMaxLines.isOver(a))
                                return this.btnMaxLines.isDown = true;
                            if (this.btnMaxBet.isOver(a))
                                return this.btnMaxBet.isDown = true;
                            break;
                        case 1:
                            this.autoPlayMan.processClick(a)
                        }
                }
        }
    }
    ;
    this.refreshPlayButton = function() {
        var a = game.uapi_getAutoPlayGames();
        this.autoPlayMode = a > 0 ? this.AUTO_WAITING_TO_START : this.AUTO_OFF;
        this.setMeterText("autoGame", a)
    }
    ;
    this.processClickRelease = function(a, b) {
        if (!this.disableAllUI) {
            if (this.state == this.VIEW_GAME) {
                if (this.btnHomeGame.isOver(a) && this.btnHomeGame.isDown) {
                    game.uapi_home();
                    b.preventDefault();
                    this.inGameBet.setSmall();
                    game.playSound("click");
                    return
                }
                if (this.btnCashierGame.isOver(a) && this.btnCashierGame.isDown) {
                    game.uapi_cashier();
                    b.preventDefault();
                    this.inGameBet.setSmall();
                    game.playSound("click");
                    return
                }
                if (this.btnSettings.isOver(a) && this.btnSettings.isDown) {
                    this.setState(this.VIEW_SETTINGS);
                    this.setTabView(this.tabView);
                    this.inGameBet.setSmall();
                    if (this.autoPlayMan.sessionPlayed) {
                        this.autoPlayMan.resetOptions();
                        this.autoPlayMan.sessionPlayed = false
                    }
                    return
                }
                if (this.imgFreeRounds != null && game.freeRounds.freeRoundAvailability && this.btnFreeRounds.isOver(a)) {
					console.log("#####GAME_INTERACTION-WindowObj send message to server Free Spin");
                    windowObj.sendMsgToServer("&MSGID=FRRECALLED&");
                    game.enableAllUI(false);
                    return
                }
                if (this.inGameBet.processClickRelease(a, b)) {
                    var c = this.inGameBet.getIndex();
                    this.btnBetSlider.setValueIndex(c);
                    return
                }
                switch (this.autoPlayMode) {
                case this.AUTO_OFF:
                    if (this.btnSpin.isOver(a) && this.btnSpin.isDown) {
                        game.uapi_play();
                        this.autoPlayMan.resetOptions();
                        return
                    }
                    if (this.btnSpin.isOverDisabled(a) && (this.insufficientFunds || this.autoPlayMan.mustSetBet) && !this.btnHold.isDown) {
                        this.setState(this.VIEW_SETTINGS);
                        this.setTabView(0);
                        return
                    }
                    break;
                case this.AUTO_WAITING_TO_START:
                    if (this.btnStartAutoPlay.isOver(a) && this.btnStartAutoPlay.isDown) {
                        if (this.autoPlayMan.getLossLimit() <= game.account.getBetAmount()) {
                            this.autoPlayMan.showReasonCantStart();
                            return
                        }
                        this.autoPlayMan.startSession(game.account.getBetAmount());
                        game.uapi_startAutoplay();
                        this.btnStopAutoPlay.isDisabled = false;
                        return
                    }
                    if (this.btnStartAutoPlay.isOverDisabled(a) && !this.btnHold.isDown) {
                        this.setState(this.VIEW_SETTINGS);
                        if (this.insufficientFunds || this.autoPlayMan.mustSetBet)
                            this.setTabView(0);
                        else {
                            this.setTabView(1);
                            this.autoPlayMan.startPulse()
                        }
                        if (this.autoPlayMan.sessionPlayed) {
                            this.autoPlayMan.resetOptions();
                            this.autoPlayMan.sessionPlayed = false
                        }
                        return
                    }
                    break;
                case this.AUTO_PLAYING:
                    if (this.btnStopAutoPlay.isOver(a) && this.btnStopAutoPlay.isDown) {
                        game.uapi_stopAutoplay();
                        this.btnStopAutoPlay.isDisabled = true;
                        return
                    }
                }
                if (this.btnHold.isDown) {
                    c = this.btnHold.getSubButtonID(a);
                    this.btnHold.hide();
                    switch (c) {
                    case 1:
                        this.setState(this.VIEW_SETTINGS);
                        this.setTabView(0);
                        if (this.autoPlayMan.sessionPlayed) {
                            this.autoPlayMan.resetOptions();
                            this.autoPlayMan.sessionPlayed = false
                        }
                        break;
                    case 2:
                        this.setState(this.VIEW_SETTINGS);
                        this.setTabView(1);
                        if (this.autoPlayMan.sessionPlayed) {
                            this.autoPlayMan.resetOptions();
                            this.autoPlayMan.sessionPlayed = false
                        }
                        break;
                    case 3:
                        game.uapi_info(0);
                        break;
                    case 4:
                        if (this.audioState == this.AUDIO_ON) {
                            this.audioState = this.AUDIO_MUTED;
                            game.uapi_mute(true)
                        }
                        break;
                    case 5:
                        if (this.audioState == this.AUDIO_MUTED) {
                            this.audioState = this.AUDIO_ON;
                            game.uapi_mute(false)
                        }
                    }
                    return
                }
            }
            if (this.state == this.VIEW_SETTINGS)
                if (this.btnHomeSettings.isOver(a) && this.btnHomeSettings.isDown) {
                    game.uapi_home();
                    b.preventDefault();
                    game.playSound("click")
                } else {
					console.log("#####GAME_INTERACTION-WindowObj at audio button visibility check");
                    if (typeof windowObj.audioBtnVisibility !== "function" || windowObj.audioBtnVisibility())
                        if (this.audioState == this.AUDIO_ON) {
                            if (this.btnMute.isOver(a) && this.btnMute.isDown) {
                                this.audioState = this.AUDIO_MUTED;
                                game.uapi_mute(true);
                                return
                            }
                        } else if (this.audioState == this.AUDIO_MUTED && this.btnMuteOff.isOver(a) && this.btnMuteOff.isDown) {
                            this.audioState = this.AUDIO_ON;
                            game.uapi_mute(false);
                            return
                        }
                    if (this.btnInfo.isOver(a) && this.btnInfo.isDown) {
                        game.uapi_info(0);
                        this.autoPlayMan.makeUISmall()
                    } else if (this.btnAutoplaySettings.isOver(a) && this.btnAutoplaySettings.isDown) {
                        this.setTabView(1);
                        game.playSound("click")
                    } else if (this.btnBetSettings.isOver(a) && this.btnBetSettings.isDown) {
                        this.setTabView(0);
                        game.playSound("click");
                        this.autoPlayMan.makeUISmall()
                    } else if (this.btnClose.isOver(a) && this.btnClose.isDown) {
                        this.setState(this.VIEW_GAME);
                        this.autoPlayMan.makeUISmall();
                        this.autoPlayMan.mustSetBet && this.inGameBet.show(true)
                    } else if (this.btnCashier.isOver(a) && this.btnCashier.isDown) {
                        game.uapi_cashier();
                        b.preventDefault();
                        game.playSound("click")
                    } else
                        switch (this.tabView) {
                        case 0:
                            if (this.btnLinesSlider.isOver(a) && this.btnLinesSlider.isDown) {
                                c = this.btnLinesSlider.setValue(a);
                                game.uapi_setLines(c + 1);
                                this.autoPlayMan.mustSetBet = false;
                                break
                            }
                            if (this.btnBetSlider.isOver(a) && this.btnBetSlider.isDown) {
                                c = this.btnBetSlider.setValue(a);
                                this.inGameBet.setValueIndex(c);
                                game.uapi_setBet(c);
                                this.autoPlayMan.mustSetBet = false;
                                break
                            }
                            if (this.btnMaxLines.isOver(a) && this.btnMaxLines.isDown) {
                                if (!this.inFreeRounds) {
                                    c = this.btnLinesSlider.setValueIndex(this.btnLinesSlider.getNumValues() - 1);
                                    game.uapi_setLines(c);
                                    this.autoPlayMan.mustSetBet = false
                                }
                                break
                            }
                            if (this.btnMaxBet.isOver(a) && this.btnMaxBet.isDown) {
                                if (!this.inFreeRounds) {
                                    c = this.btnBetSlider.getNumValues() - 1;
                                    this.btnBetSlider.setValueIndex(c);
                                    this.inGameBet.setValueIndex(c);
                                    game.uapi_setBet(this.btnBetSlider.getNumValues() - 1);
                                    this.autoPlayMan.mustSetBet = false
                                }
                                break
                            }
                            break;
                        case 1:
                            if (this.autoPlayMan.processClickRelease(a, b))
                                this.btnClose.isActive = this.autoPlayMan.canAutoPlay() && !this.insufficientFunds && !this.autoPlayMan.mustSetBet ? true : false
                        }
                }
        }
    }
    ;
    this.processMove = function(a) {
        if (this.uiInitialized) {
            if (this.state == this.VIEW_SETTINGS)
                switch (this.tabView) {
                case 0:
                    if (this.btnLinesSlider.isOver(a) && this.btnLinesSlider.isDown) {
                        a = this.btnLinesSlider.setValue(a);
                        game.uapi_setLines(a + 1);
                        this.autoPlayMan.mustSetBet = false;
                        return
                    }
                    if (this.btnBetSlider.isOver(a) && this.btnBetSlider.isDown) {
                        a = this.btnBetSlider.setValue(a);
                        this.inGameBet.setValueIndex(a);
                        game.uapi_setBet(a);
                        this.autoPlayMan.mustSetBet = false;
                        return
                    }
                    break;
                case 1:
                    this.autoPlayMan.processMove(a)
                }
            if (this.inGameBet.processMove(a)) {
                a = this.inGameBet.getIndex();
                this.btnBetSlider.setValueIndex(a);
                game.uapi_setBet(a)
            } else
                this.state == this.VIEW_GAME && this.btnHold.processMove(a)
        }
    }
    ;
    this.buttonsUp = function() {
        this.autoPlayMan.buttonsUp();
        this.btnSpin.isDown = false;
        this.btnStartAutoPlay.isDown = false;
        this.btnStopAutoPlay.isDown = false;
        this.btnMute.isDown = false;
        this.btnMuteOff.isDown = false;
        this.btnInfo.isDown = false;
        this.btnHomeSettings.isDown = false;
        this.btnHomeGame.isDown = false;
        this.btnCashierGame.isDown = false;
        this.btnHold.isDown = false;
        this.btnSettings.isDown = false;
        if (this.imgFreeRounds != null)
            this.btnFreeRounds.isDown = false;
        this.btnClose.isDown = false;
        this.btnCashier.isDown = false;
        this.btnBetSettings.isDown = false;
        this.btnAutoplaySettings.isDown = false;
        this.btnLinesSlider.isDown = false;
        this.btnBetSlider.isDown = false;
        this.btnMaxLines.isDown = false;
        this.btnMaxBet.isDown = false;
        typeof this.autoPlayGamesRemainingMeter != "undefined" && this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos);
        this.btnClose.isActive = this.autoPlayMan.canAutoPlay() && !this.insufficientFunds && !this.autoPlayMan.mustSetBet ? true : false;
        typeof this.inGameBet.buttonsUp != "undefined" && this.inGameBet.buttonsUp();
        typeof this.btnFreeRoundsAnim != "undefined" && this.btnFreeRoundsAnim.startAnimation()
    }
    ;
    this.setTabView = function(a) {
        this.tabView = a;
        switch (this.tabView) {
        case 0:
            this.autoPlayMan.autoPlayOptions.showAutoOptions(false);
            this.btnAutoplaySettings.isActive = false;
            this.btnBetSettings.isActive = true;
            break;
        case 1:
            this.autoPlayMan.autoPlayOptions.showAutoOptions(true);
            this.btnAutoplaySettings.isActive = true;
            this.btnBetSettings.isActive = false
        }
    }
    ;
    this.setMeterText = function(a, b) {
        switch (a) {
        case "autoGame":
            this.autoPlayGamesRemainingMeter.m_Text = b;
            break;
        case "win":
            this.winMeter.m_Text = b
        }
    }
    ;
    this.enable = function(a) {
        if (a) {
            this.btnSpin.isDisabled = false;
            this.btnStartAutoPlay.isDisabled = false;
            this.btnStartAutoPlay.isDisabled = this.autoPlayMan.canAutoPlay() ? false : true
        } else {
            this.btnSpin.isDisabled = true;
            this.btnStartAutoPlay.isDisabled = true
        }
        this.inGameBet.enable(a);
        this.btnSettings.isDisabled = false;
        if (this.imgFreeRounds != null)
            this.btnFreeRounds.isDisabled = game.freeRounds.freeRoundAvailability ? false : true;
        this.btnHold.isDisabled = false;
        if (this.disableHomeBtnMidRound) {
            this.btnHomeSettings.isDisabled = false;
            this.btnHomeGame.isDisabled = false
        }
        this.btnCashier.isDisabled = this.showCashierBtn ? false : true;
        this.btnCashierGame.isDisabled = this.showCashierGameBtn ? false : true
    }
    ;
    this.disable = function() {
        this.btnSpin.isDisabled = true;
        this.inGameBet.disable();
        this.btnSettings.isDisabled = true;
        if (this.imgFreeRounds != null)
            this.btnFreeRounds.isDisabled = true;
        this.btnHold.isDisabled = true;
        if (this.disableHomeBtnMidRound) {
            this.btnHomeSettings.isDisabled = true;
            this.btnHomeGame.isDisabled = true
        }
        if (this.showCashierBtn)
            this.btnCashier.isDisabled = true;
        if (this.showCashierGameBtn)
            this.btnCashierGame.isDisabled = true
    }
    ;
    this.fillRect = function(a, d, c, e) {
        var f = gameViewMan.viewScale;
        b.fillRect(a * f, d * f, c * f, e * f)
    }
    ;
    this.draw = function() {
        if (!this.disableAllUI) {
            var a = gameViewMan.viewScale;
            switch (this.state) {
            case this.VIEW_GAME:
                this.btnSettings.draw();
                if (this.imgFreeRounds != null && game.freeRounds.freeRoundAvailability) {
                    this.btnFreeRounds.draw();
                    this.btnFreeRoundsAnim.draw()
                }
                this.inGameBet.draw(this.btnSpin.isDown || this.btnStartAutoPlay.isDown || this.btnStopAutoPlay.isDown);
                switch (this.autoPlayMode) {
                case this.AUTO_OFF:
                    (!this.btnSpin.isDisabled || this.insufficientFunds) && this.btnSpin.draw();
                    break;
                case this.AUTO_WAITING_TO_START:
                    this.btnStartAutoPlay.draw();
                    this.autoPlayGamesRemainingMeter.draw(b);
                    break;
                case this.AUTO_PLAYING:
                    if (game.uapi_getAutoPlayGames() > 0) {
                        this.btnStopAutoPlay.draw();
                        this.autoPlayGamesRemainingMeter.draw(b)
                    }
                }
                if (this.winMeterShow) {
                    var d = b.globalAlpha;
                    b.globalAlpha = this.winMeterAlpha;
                    b.drawImage(this.imgGameUI, this.layout.imgWinMeterBackground.x, this.layout.imgWinMeterBackground.y, this.layout.imgWinMeterBackground.w, this.layout.imgWinMeterBackground.h, this.layout.WIN_METER_BG.x * a, this.layout.WIN_METER_BG.y * a, this.layout.imgWinMeterBackground.w * a, this.layout.imgWinMeterBackground.h * a);
                    b.globalAlpha = d;
                    this.winMeter.draw(b)
                }
                this.showHomeButton && this.btnHomeGame.draw();
                this.showCashierGameBtn && !this.btnCashierGame.isDisabled && this.btnCashierGame.draw();
                break;
            case this.VIEW_SETTINGS:
                a = b.createLinearGradient(0, 100 * a, 0, 468 * a);
                a.addColorStop(0, "rgba(0,0,0,0.9)");
                a.addColorStop(1, "rgba(0,0,0,0.9)");
                b.fillStyle = a;
                this.fillRect(0, 0, 960, 568);
                b.fillStyle = this.layout.iconBarColour;
                this.fillRect(this.layout.iconBarPos.x, this.layout.iconBarPos.y, this.layout.iconBarSize.w, this.layout.iconBarSize.h);
                switch (this.tabView) {
                case 0:
                    b.fillStyle = this.layout.tabBackgroundColour;
                    this.fillRect(685, this.layout.iconBarPos.y, 137, this.layout.iconBarSize.h);
                    break;
                case 1:
                    b.fillStyle = this.layout.tabBackgroundColour;
                    this.fillRect(411, this.layout.iconBarPos.y, 137, this.layout.iconBarSize.h)
                }
                this.btnInfo.draw();
                this.btnClose.draw();
                this.showCashierBtn && !this.btnCashier.isDisabled && this.btnCashier.draw();
                this.btnAutoplaySettings.draw();
                this.btnBetSettings.draw();
                this.insufficientFunds && this.insufficientFundsTxt.draw(b);
                switch (this.tabView) {
                case 0:
                    this.btnLinesSlider.draw(this.insufficientFunds || this.autoPlayMan.mustSetBet);
                    this.btnBetSlider.draw(this.insufficientFunds || this.autoPlayMan.mustSetBet);
                    this.btnMaxLines.draw();
                    this.btnMaxBet.draw();
                    break;
                case 1:
                    this.autoPlayMan.draw()
                }
				console.log("#####GAME_INTERACTION-WindowObj at audio button visibility Check");
                if (typeof windowObj.audioBtnVisibility !== "function" || windowObj.audioBtnVisibility())
                    switch (this.audioState) {
                    case this.AUDIO_DISABLED:
                        this.btnMuteOff.draw();
                        break;
                    case this.AUDIO_ON:
                        this.btnMute.draw();
                        break;
                    case this.AUDIO_MUTED:
                        this.btnMuteOff.draw()
                    }
                this.showHomeButton && this.btnHomeSettings.draw()
            }
            this.btnHold.draw()
        }
    }
    ;
    this.setInGameButtonVisibility = function() {}
    ;
    this.setHomeVisibility = function(a) {
        this.showHomeButton = a
    }
    ;
    this.enableAudio = function(a) {
        if (a) {
            this.audioState = this.AUDIO_ON;
            this.btnMute.isDisabled = false;
            this.btnMuteOff.isDisabled = false
        } else {
            this.audioState = this.AUDIO_DISABLED;
            this.btnMute.isDisabled = true;
            this.btnMuteOff.isDisabled = true
        }
    }
    ;
    this.setMute = function(a) {
        if (this.audioState != this.AUDIO_DISABLED) {
            this.audioState = a ? this.AUDIO_MUTED : this.AUDIO_ON;
            game.uapi_mute(a)
        } else
            game.uapi_mute(true)
    }
    ;
    this.showWinMeter = function(a) {
        this.winMeterShow = a
    }
    ;
    this.disableUI = function(a) {
        this.disableAllUI = a
    }
    ;
    this.setHomeBtnMidRoundState = function(a) {
        this.disableHomeBtnMidRound = a
    }
    ;
    this.setCashierVisibility = function(a) {
        this.showCashierBtn = this.showCashierGameBtn = a
    }
    ;
    this.setCashierSettingsVisibility = function(a) {
        this.showCashierBtn = a
    }
    ;
    this.setGameCount = function(a) {
        game.uapi_setAutoPlayGameCount(a);
        this.refreshPlayButton()
    }
    ;
    this.addWin = function(a) {
        this.autoPlayMan.addWin(a)
    }
    ;
    this.takeBet = function(a) {
        this.autoPlayMan.takeBet(a)
    }
}
function InGameBet(b, a) {
    this.IGB_SMALL = 0;
    this.IGB_TRANSITION_REVEAL = 1;
    this.IGB_FULL = 2;
    this.IGB_TRANSITION_HIDE = 3;
    this.IGB_HIDDEN = 4;
    this.igbScreenState = this.IGB_SMALL;
    this.igbScreenTimer = 0;
    this.igbScreenTransitionTime = 200;
    this.igbScreenCurOffset = this.igbScreenOffset = 520;
    this.position = {
        x: 0,
        y: 0
    };
    this.featureEnabled = !0;
    this.layout = a;
    this.image = b;
    this.btnSlider = new Slider(this.layout.betInGameSliderConfig,this.image);
    this.btnSlider.drawMinMax = !1;
    this.btnSlider.drawCurrentBackground = !0;
    this.btnSlider.isDisabled = !0;
    this.btnSlider.hitPadding = 20;
    this.clipRegion1 = Array(this.layout.igbClipPolygon1.length);
    this.clipRegion2 = Array(this.layout.igbClipPolygon2.length);
    this.btnBet = new Button(this.image,this.layout.btnInGameBet);
    var d = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
    this.enable = function() {
        this.igbScreenState == this.IGB_HIDDEN && this.setSmall()
    }
    ;
    this.setSmall = function() {
        this.igbScreenState = this.IGB_SMALL;
        this.igbScreenCurOffset = this.igbScreenOffset;
        this.btnBet.isDisabled = !1;
        this.btnSlider.isDisabled = !0
    }
    ;
    this.disable = function() {
        this.igbScreenState = this.IGB_HIDDEN;
        this.btnBet.isDisabled = !0;
        this.btnSlider.isDisabled = !0
    }
    ;
    this.show = function(a) {
        a ? this.igbScreenState == this.IGB_SMALL && (this.igbScreenState = this.IGB_TRANSITION_REVEAL,
        this.igbScreenTimer = 0,
        this.igbScreenCurOffset = this.igbScreenOffset,
        this.btnBet.isDisabled = !0,
        this.setValueIndex(game.account.getBetIndex())) : this.igbScreenState == this.IGB_FULL && (this.igbScreenState = this.IGB_TRANSITION_HIDE,
        this.igbScreenCurOffset = this.igbScreenTimer = 0,
        this.btnSlider.isDisabled = !0)
    }
    ;
    this.draw = function(a) {
        if (this.featureEnabled && this.igbScreenState != this.IGB_HIDDEN) {
            var b = gameViewMan.viewScale;
            d.save();
            d.beginPath();
            if (a) {
                d.moveTo(this.clipRegion2[0].x * b, this.clipRegion2[0].y * b);
                a = 1;
                for (f = this.clipRegion2.length; a < f; a++)
                    d.lineTo(this.clipRegion2[a].x * b, this.clipRegion2[a].y * b)
            } else {
                d.moveTo(this.clipRegion1[0].x * b, this.clipRegion1[0].y * b);
                for (var a = 1, f = this.clipRegion1.length; a < f; a++)
                    d.lineTo(this.clipRegion1[a].x * b, this.clipRegion1[a].y * b)
            }
            d.clip();
            d.translate(this.igbScreenCurOffset * b, 0);
            d.fillStyle = "rgba(0,0,0,0.8)";
            d.fillRectR((this.position.x + this.layout.inGameSliderBackground.x) * b, (this.position.y + this.layout.inGameSliderBackground.y) * b, this.layout.inGameSliderBackground.w * b, this.layout.inGameSliderBackground.h * b, this.layout.inGameSliderBackground.c * b);
            this.igbScreenState == this.IGB_SMALL ? d.drawImage(this.image, this.layout.coinInGameBet.x, this.layout.coinInGameBet.y, this.layout.coinInGameBet.w, this.layout.coinInGameBet.h, (this.position.x + this.layout.igbIconPos.x) * b, (this.position.y + this.layout.igbIconPos.y) * b, this.layout.coinInGameBet.w * b, this.layout.coinInGameBet.h * b) : d.drawImage(this.image, this.layout.btnBetSettings.nx, this.layout.btnBetSettings.ny, this.layout.btnBetSettings.nwidth, this.layout.btnBetSettings.nheight, (this.position.x + this.layout.igbIconPos.x) * b, (this.position.y + this.layout.igbIconPos.y) * b, this.layout.btnBetSettings.nwidth * b, this.layout.btnBetSettings.nheight * b);
            this.igbScreenState != this.IGB_SMALL && this.btnSlider.draw(game.ui.insufficientFunds || game.ui.autoPlayMan.mustSetBet);
            d.restore()
        }
    }
    ;
    this.update = function(a) {
        if (this.featureEnabled && this.igbScreenState != this.IGB_HIDDEN && (this.igbScreenState == this.IGB_TRANSITION_REVEAL && (this.igbScreenTimer += a,
        this.igbScreenCurOffset = this.igbScreenOffset - Math.floor(this.igbScreenOffset * (this.igbScreenTimer / this.igbScreenTransitionTime)),
        0 > this.igbScreenCurOffset && (this.igbScreenCurOffset = 0,
        this.igbScreenState = this.IGB_FULL,
        this.btnSlider.isDisabled = game.ui.inFreeRounds ? !0 : !1)),
        this.igbScreenState == this.IGB_TRANSITION_HIDE))
            this.igbScreenTimer += a,
            this.igbScreenCurOffset = Math.floor(this.igbScreenOffset * (this.igbScreenTimer / this.igbScreenTransitionTime)),
            this.igbScreenCurOffset >= this.igbScreenOffset && (this.igbScreenCurOffset = this.igbScreenOffset,
            this.igbScreenState = this.IGB_SMALL,
            this.btnBet.isDisabled = !1)
    }
    ;
    this.processClick = function(a) {
        return !this.featureEnabled || this.igbScreenState == this.IGB_HIDDEN ? !1 : this.btnBet.isOver(a) ? this.btnBet.isDown = !0 : this.btnSlider.isOver(a) ? this.btnSlider.isDown = !0 : !1
    }
    ;
    this.processClickRelease = function(a) {
        return !this.featureEnabled || this.igbScreenState == this.IGB_HIDDEN ? !1 : this.btnBet.isOver(a) && this.btnBet.isDown ? (this.show(!0),
        !0) : this.btnSlider.isOver(a) && this.btnSlider.isDown ? (a = this.btnSlider.setValue(a),
        game.uapi_setBet(a),
        game.ui.autoPlayMan.mustSetBet = !1,
        !0) : !1
    }
    ;
    this.buttonsUp = function() {
        this.btnBet.isDown = !1;
        this.btnSlider.isDown = !1
    }
    ;
    this.changeOrientation = function() {
        if (this.featureEnabled && this.igbScreenState != this.IGB_HIDDEN) {
            this.position = this.layout.inGameBetPos;
            this.btnBet.setPosition({
                x: this.position.x + this.layout.btnInGameBetPos.x,
                y: this.position.y + this.layout.btnInGameBetPos.y
            });
            this.btnSlider.setPosition({
                x: this.position.x + this.layout.inGameSliderPos.x,
                y: this.position.y + this.layout.inGameSliderPos.y
            });
            for (var a = 0; a < this.clipRegion1.length; a++)
                this.clipRegion1[a] = {
                    x: this.position.x + this.layout.igbClipPolygon1[a].x,
                    y: this.position.y + this.layout.igbClipPolygon1[a].y
                };
            for (a = 0; a < this.clipRegion2.length; a++)
                this.clipRegion2[a] = {
                    x: this.position.x + this.layout.igbClipPolygon2[a].x,
                    y: this.position.y + this.layout.igbClipPolygon2[a].y
                }
        }
    }
    ;
    this.disableSlider = function(a) {
        this.btnSlider.isDisabled = a
    }
    ;
    this.setValueIndex = function(a) {
        this.btnSlider.setValueIndex(a)
    }
    ;
    this.setValues = function(a) {
        this.btnSlider.setValues(a)
    }
    ;
    this.processMove = function(a) {
        return !this.featureEnabled || this.igbScreenState == this.IGB_HIDDEN ? !1 : this.btnSlider.isOver(a) && this.btnSlider.isDown ? (this.btnSlider.setValue(a),
        game.ui.autoPlayMan.mustSetBet = !1,
        !0) : !1
    }
    ;
    this.getIndex = function() {
        return this.btnSlider.getCurrentIndex()
    }
}
function FreeRoundsButtonAnim() {
    game.ASSET_MANAGER.getAsset("freespins/btn_FreeRound.png");
    var b = game.ASSET_MANAGER.getAsset("freespins/btn_FreeRoundGlow.png");
    this.initFreeRoundButton = function() {
        this.btnGlowAnim = new ngImage2(b);
        this.btnGlowAnimLayout = {
            x: 0,
            y: 0,
            w: 80,
            h: 80
        };
        this.btnGlowAnim.setAnimConfig([{
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }, {
            x: this.btnGlowAnimLayout.x,
            y: this.btnGlowAnimLayout.y,
            w: this.btnGlowAnimLayout.w,
            h: this.btnGlowAnimLayout.h
        }], [{
            t: 0,
            a: 1
        }, {
            t: 1,
            a: 0.9
        }, {
            t: 2,
            a: 0.8
        }, {
            t: 3,
            a: 0.7
        }, {
            t: 4,
            a: 0.6
        }, {
            t: 5,
            a: 0.5
        }, {
            t: 6,
            a: 0.4
        }, {
            t: 7,
            a: 0.3
        }, {
            t: 8,
            a: 0.2
        }, {
            t: 9,
            a: 0.1
        }, {
            t: 10,
            a: 0
        }, {
            t: 9,
            a: 0.1
        }, {
            t: 8,
            a: 0.2
        }, {
            t: 7,
            a: 0.3
        }, {
            t: 6,
            a: 0.4
        }, {
            t: 5,
            a: 0.5
        }, {
            t: 4,
            a: 0.6
        }, {
            t: 3,
            a: 0.7
        }, {
            t: 2,
            a: 0.8
        }, {
            t: 1,
            a: 0.9
        }]);
        this.visible = !1
    }
    ;
    this.setPosition = function(a, b) {
        this.btnGlowAnim.setPosition(a - 9, b - 9)
    }
    ;
    this.startAnimation = function() {
        this.visible = !0;
        this.btnGlowAnim.startAnim(!0, 0)
    }
    ;
    this.stopAnimation = function() {
        this.visible = !1;
        this.btnGlowAnim.stopAnim(!0)
    }
    ;
    this.draw = function() {
        game.freeRounds.freeRoundAvailability && (this.visible && !game.ui.btnFreeRounds.isDisabled) && this.btnGlowAnim.draw()
    }
    ;
    this.update = function(a) {
        this.btnGlowAnim.update(a)
    }
}
;function SlotResult() {
    this.currentSpinWinAmount = this.currentWinAmount = this.winAmount = this.winType = 0;
    this.numReels = 5;
    this.stops = [];
    this.totalNumFreeGames = this.freeGamesWon = this.numFreeGames = this.numWinningPaylines = 0;
    this.bProcessed = !0;
    this.reelsBet = this.linesBet = this.betPerLine = 0;
    this.IFG = !1;
    this.paylineWins = [];
    this.paylineWins2 = [];
    this.winningPaylines = [];
    this.getFreeGamesLeft = function() {
        return this.numFreeGames
    }
    ;
    this.clear = function() {
        this.currentSpinWinAmount = this.currentWinAmount = this.winAmount = this.winType = 0;
        this.numReels = 5;
        this.totalNumFreeGames = this.freeGamesWon = this.numFreeGames = this.numWinningPaylines = 0;
        this.paylineWins.length = 0;
        this.paylineWins2.length = 0;
        this.bProcessed = !0;
        this.IFG = !1;
        this.winningPaylines.length = 0
    }
}
function Slot() {
    this.currentSymbol = 0;
    this.L2sym = this.L1sym = this.L0sym = null;
    this.symbols = [];
    this.L1symbols = [];
    this.L2symbols = [];
    this.symbolsToAnimate = [];
    for (var b = 0; b < symTextures.length; b++) {
        var a = new ngImage2(game.ASSET_MANAGER.getAsset(symTextures[b]));
        a.setAnimConfig(symSprites[b], symAnims[b]);
        "undefined" != typeof symAnimRate && null != symAnimRate[b] && (a.animRate = symAnimRate[b]);
        this.symbols.push(a);
        a = !1;
        1 < symAnims[b].length && (a = !0);
        this.symbolsToAnimate.push(a);
        a = null;
        "undefined" != typeof symL1Textures && null != symL1Textures[b] && (a = new ngImage2(game.ASSET_MANAGER.getAsset(symL1Textures[b])),
        a.setAnimConfig(symL1Sprites[b], symL1Anims[b]),
        "undefined" != typeof symL1AnimRate && null != symL1AnimRate[b] && (a.animRate = symL1AnimRate[b]));
        this.L1symbols.push(a);
        a = null;
        "undefined" != typeof symL2Textures && null != symL2Textures[b] && (a = new ngImage2(game.ASSET_MANAGER.getAsset(symL2Textures[b])),
        a.setAnimConfig(symL2Sprites[b], symL2Anims[b]),
        "undefined" != typeof symL2AnimRate && null != symL2AnimRate[b] && (a.animRate = symL2AnimRate[b]));
        this.L2symbols.push(a)
    }
    this.setSymbol = function(a) {
        this.currentSymbol = a;
        this.L0sym = this.symbols[a];
        this.L1sym = this.L1symbols[a];
        this.L2sym = this.L2symbols[a]
    }
    ;
    this.animates = function() {
        return this.symbolsToAnimate[this.currentSymbol]
    }
    ;
    this.draw = function(a, b) {
        this.L0sym.drawXY(a, b);
        null != this.L1sym && (this.L1sym.drawXY(a, b),
        null != this.L2sym && this.L2sym.drawXY(a, b))
    }
    ;
    this.update = function(a) {
        this.L0sym.update(a);
        null != this.L1sym && (this.L1sym.update(a),
        null != this.L2sym && this.L2sym.update(a))
    }
    ;
    this.startAnim = function() {
        this.L0sym.startAnim(!0, 0);
        null != this.L1sym && (this.L1sym.startAnim(!0, 0),
        null != this.L2sym && this.L2sym.startAnim(!0, 0))
    }
    ;
    this.stopAnim = function(a) {
        for (var b = 0; b < this.symbols.length; b++)
            this.symbols[b].stopAnim(a),
            null != this.L1sym && (this.L1sym.stopAnim(a),
            null != this.L2sym && this.L2sym.stopAnim(a))
    }
}
Slot.prototype.drawSpecialSymbolBG = function() {}
;
function Reel(b) {
    var a = b + 2
      , d = 200
      , c = 400;
    this.bounceOffset = this.symbolHeight = this.state = 0;
    this.reelSpeed = 100;
    this.newY = this.crankOffset = this.Yoffset = this.bounceTime = 0;
    this.requestStop = !1;
    this.targetStopIndex = this.currentPositionInReel = 0;
    this.skipLastSymbolRowCopy = !1;
    this.Y = this.X = 0;
    this.bounceMultiple = 1;
    this.reelStrip = [];
    this.slotShow = Array(a);
    this.slots = Array(a);
    for (b = 0; b < a; b++)
        this.slotShow[b] = !0,
        this.slots[b] = new Slot;
    this.isStopped = function() {
        return 0 == this.state
    }
    ;
    this.init = function(a) {
        this.symbolHeight = a
    }
    ;
    this.showSlot = function(a, b) {
        this.slotShow[b] = a
    }
    ;
    this.setFastSpin = function(a) {
        a ? (d = 2,
        c = 4,
        this.reelSpeed = 0.001) : (d = 200,
        c = 400,
        this.reelSpeed = 100)
    }
    ;
    this.setPosition = function(a, b) {
        this.X = a;
        this.Y = b
    }
    ;
    this.setReelStrip = function(a) {
        this.reelStrip = a;
        this.currentPositionInReel >= this.reelStrip.length && (this.currentPositionInReel = this.reelStrip.length - 1)
    }
    ;
    this.setReelBounceMultiple = function(a) {
        this.bounceMultiple = a
    }
    ;
    this.setOnScreenSymbols = function(b) {
        for (var c = 0; c < a; c++)
            this.slots[c].setSymbol(Number(this.slots[c].currentSymbol) + b)
    }
    ;
    this.setState = function(a) {
        if (a != this.state)
            switch (this.state = a,
            this.state) {
            case 0:
                this.bounceOffset = 0;
                break;
            case 1:
                this.reelPositionStop = 99999999;
                this.bounceTime = this.bounceOffset = 0;
                break;
            case 2:
                this.bounceOffset = 0;
                break;
            case 3:
                this.bounceTime = this.bounceOffset = 0
            }
    }
    ;
    this.draw = function(b) {
        for (var c = 0; c < a; c++)
            if (this.slotShow[c] || 0 == this.slots[c].currentSymbol || this.slots[c].animates())
                switch (b) {
                case 0:
                    this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 1:
                    0 != this.state && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 2:
                    0 == this.state && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 3:
                    0 < c && c < a - 1 && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 4:
                    0 != this.state && 0 < c && c < a - 1 && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 5:
                    0 == this.state && 0 < c && c < a - 1 && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 6:
                    0 != this.state ? this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset) : 0 == this.state && 0 < c && c < a - 1 && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset);
                    break;
                case 7:
                    0 != this.state ? 0 < c && c < a - 1 && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset) : 0 == this.state && this.slots[c].draw(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset)
                }
        this.drawExtra(drawExtraData)
    }
    ;
    this.drawSpecialSymbolBG = function(b) {
        for (var c = 0; c < a; c++)
            (this.slotShow[c] || 0 == this.slots[c].currentSymbol || this.slots[c].animates()) && b && this.slots[c].drawSpecialSymbolBG(this.X, this.Y + c * this.symbolHeight + this.newY + this.bounceOffset)
    }
    ;
    this.update = function(b) {
        for (var f = 0; f < this.slots.length; f++)
            this.slots[f].update(b);
        switch (this.state) {
        case 0:
            this.bounceOffset = this.crankOffset;
            break;
        case 1:
            this.bounceTime += b;
            b = 180 * this.bounceTime / d;
            this.bounceOffset = -Math.round(30 * Math.sin(deg2rad(b))) * this.bounceMultiple;
            this.bounceTime > d && (this.currentPositionInReel >= this.reelStrip.length && (this.currentPositionInReel = this.reelStrip.length - 1),
            this.setState(2));
            break;
        case 2:
            this.newY += b / this.reelSpeed * this.symbolHeight;
            if (this.newY >= this.symbolHeight && (this.newY %= this.symbolHeight,
            5 < a && this.slots[5].setSymbol(this.slots[4].currentSymbol),
            this.slots[4].setSymbol(this.slots[3].currentSymbol),
            this.slots[3].setSymbol(this.slots[2].currentSymbol),
            this.slots[2].setSymbol(this.slots[1].currentSymbol),
            this.slots[1].setSymbol(this.slots[0].currentSymbol),
            this.slots[0].setSymbol(this.reelStrip[this.currentPositionInReel]),
            this.currentPositionInReel--,
            0 > this.currentPositionInReel && (this.currentPositionInReel += this.reelStrip.length),
            b = this.currentPositionInReel + 5,
            b %= this.reelStrip.length,
            this.requestStop && this.targetStopIndex == b))
                this.newY = 0,
                this.requestStop = !1,
                5 < a ? (f = b = this.targetStopIndex - 4,
                0 > b && (f = b = this.targetStopIndex - 4 + this.reelStrip.length),
                this.slots[0].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 3,
                0 > b && (b = this.targetStopIndex - 3 + this.reelStrip.length),
                this.slots[1].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 2,
                0 > b && (b = this.targetStopIndex - 2 + this.reelStrip.length),
                this.slots[2].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 1,
                0 > b && (b = this.targetStopIndex - 1 + this.reelStrip.length),
                this.slots[3].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                this.slots[4].setSymbol(this.reelStrip[this.targetStopIndex % this.reelStrip.length]),
                this.skipLastSymbolRowCopy || this.slots[5].setSymbol(this.reelStrip[f % this.reelStrip.length])) : (b = this.targetStopIndex - 4,
                0 > b && (b = this.targetStopIndex - 4 + this.reelStrip.length),
                this.slots[0].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 3,
                0 > b && (b = this.targetStopIndex - 3 + this.reelStrip.length),
                this.slots[1].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 2,
                0 > b && (b = this.targetStopIndex - 2 + this.reelStrip.length),
                this.slots[2].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                b = this.targetStopIndex - 1,
                0 > b && (b = this.targetStopIndex - 1 + this.reelStrip.length),
                this.slots[3].setSymbol(this.reelStrip[b % this.reelStrip.length]),
                this.slots[4].setSymbol(this.reelStrip[this.targetStopIndex % this.reelStrip.length])),
                this.setState(3);
            break;
        case 3:
            this.bounceTime += b,
            b = 360 * this.bounceTime / c,
            this.bounceOffset = -Math.round(90 * Math.sin(deg2rad(0.5 * -b)) * (360 / (360 + 5 * b))) * this.bounceMultiple,
            this.bounceTime > c && this.setState(0)
        }
    }
    ;
    this.setReel = function(b) {
        this.targetStopIndex = (b + 2) % this.reelStrip.length;
        5 < a ? (b = this.targetStopIndex - 4,
        0 > b && (b = this.targetStopIndex - 4 + this.reelStrip.length),
        this.slots[0].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 3,
        0 > b && (b = this.targetStopIndex - 3 + this.reelStrip.length),
        this.slots[1].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 2,
        0 > b && (b = this.targetStopIndex - 2 + this.reelStrip.length),
        this.slots[2].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 1,
        0 > b && (b = this.targetStopIndex - 1 + this.reelStrip.length),
        this.slots[3].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        this.slots[4].setSymbol(this.reelStrip[this.targetStopIndex % this.reelStrip.length]),
        this.slots[5].setSymbol(this.reelStrip[this.targetStopIndex % this.reelStrip.length])) : (b = this.targetStopIndex - 4,
        0 > b && (b = this.targetStopIndex - 4 + this.reelStrip.length),
        this.slots[0].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 3,
        0 > b && (b = this.targetStopIndex - 3 + this.reelStrip.length),
        this.slots[1].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 2,
        0 > b && (b = this.targetStopIndex - 2 + this.reelStrip.length),
        this.slots[2].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        b = this.targetStopIndex - 1,
        0 > b && (b = this.targetStopIndex - 1 + this.reelStrip.length),
        this.slots[3].setSymbol(this.reelStrip[b % this.reelStrip.length]),
        this.slots[4].setSymbol(this.reelStrip[this.targetStopIndex % this.reelStrip.length]))
    }
    ;
    this.startSpin = function() {
        0 == this.state && this.setState(1)
    }
    ;
    this.startAnim = function(a) {
        this.slots[a].startAnim()
    }
    ;
    this.stopAllAnims = function() {
        for (var b = 0; b < a; b++)
            this.slots[b].stopAnim(!0)
    }
}
var drawExtraData = null;
Reel.prototype.drawExtra = function() {}
;
Reel.prototype.stopSpin = function(b) {
    if (0 == this.state)
        return !0;
    this.requestStop = !0;
    b = Number(b) + 2;
    this.targetStopIndex = b %= this.reelStrip.length;
    this.currentPositionInReel = (this.targetStopIndex + 2) % this.reelStrip.length;
    return !0
}
;
function ReelManager() {
    var b = 3;
    0 < arguments.length && (b = Number(arguments[0]));
    var a = 300
      , d = 300;
    this.Y = this.X = this.state = 0;
    this.reelStopSaved = Array(5);
    this.reelStopIndex = this.stoppingTime = 0;
    this.reels = Array(5);
    this.numReels = 5;
    this.numRows = b;
    this.crankOffset = 0;
    this.setInitialReelStopDelay = function(b) {
        a = b
    }
    ;
    this.getInitialReelStopDelay = function() {
        return a
    }
    ;
    this.setReelStopDelay = function(a) {
        d = a
    }
    ;
    this.getReelStopDelay = function() {
        return d
    }
    ;
    for (var c = 0; 5 > c; c++)
        this.reels[c] = new Reel(b);
    this.init = function(a) {
        for (var b = 0; 5 > b; b++)
            this.reels[b].setReel(Number(a[b]))
    }
    ;
    this.skipLastSymbolRowCopy = function() {
        for (var a = 0; 5 > a; a++)
            this.reels[a].skipLastSymbolRowCopy = !0
    }
    ;
    this.setFastSpin = function(b) {
        d = b ? a = 3 : a = 300;
        for (var c = 0; 5 > c; c++)
            this.reels[c].setFastSpin(b)
    }
    ;
    this.setPosition = function(a, b, c, d, p) {
        this.X = a;
        this.Y = b;
        for (var n = 0; 5 > n; n++)
            this.reels[n].setPosition(a + n * (c + p), b),
            this.reels[n].init(d)
    }
    ;
    this.setReelStrip = function(a, b) {
        this.reels[a].setReelStrip(b)
    }
    ;
    this.setOnScreenSymbols = function(a) {
        for (var b = 0; 5 > b; b++)
            this.reels[b].setOnScreenSymbols(a)
    }
    ;
    this.setReelBounceMultiple = function(a) {
        for (var b = 0; 5 > b; b++)
            this.reels[b].setReelBounceMultiple(a)
    }
    ;
    this.isStopped = function() {
        return 0 == this.state
    }
    ;
    this.isReelManagerStopping = function() {
        return 2 == this.state ? !0 : !1
    }
    ;
    this.draw = function(a) {
        for (var b = 0; 5 > b; b++)
            this.reels[b].draw(a)
    }
    ;
    this.drawSpecialSymbolBG = function(a) {
        for (var b = 0; 5 > b; b++)
            this.reels[b].drawSpecialSymbolBG(a)
    }
    ;
    this.update = function(b) {
        switch (this.state) {
        case 1:
            this.stoppingTime += b;
            this.stoppingTime > a && !game.slotResult.bProcessed && (this.state = 2,
            this.reelStopIndex = this.stoppingTime = 0,
            game.slotResult.bProcessed = !0);
            break;
        case 2:
            this.crankOffset = 0;
            this.stoppingTime += b;
            this.stoppingTime >= d && this.reels[this.reelStopIndex].stopSpin(game.slotResult.stops[this.reelStopIndex]) && (this.stoppingTime = 0,
            this.reelStopIndex++,
            this.reelStopIndex >= this.numReels && (this.state = 3));
            break;
        case 3:
            for (var c = !0, g = 0; 5 > g; g++)
                if (!this.reels[g].isStopped()) {
                    c = !1;
                    break
                }
            c && (this.state = 0)
        }
        for (g = 0; 5 > g; g++)
            this.reels[g].update(b),
            this.reels[g].crankOffset = this.crankOffset
    }
    ;
    this.startReels = function() {
        if (0 == this.state) {
            for (var a = 0; 5 > a; a++)
                this.reels[a].startSpin();
            this.state = 1;
            this.stoppingTime = 0
        }
    }
    ;
    this.showSymbols = function(a, c) {
        for (var d = c, k = 0; k < b; k++)
            for (var p = 0; 5 > p; p++)
                d & 1 && this.reels[p].showSlot(a, k + 1),
                d >>= 1
    }
    ;
    this.animateWins = function() {
        for (var a = 0, c = 0; c < game.slotResult.numWinningPaylines; c++)
            a |= game.slotResult.paylineWins[c].second;
        for (c = 0; c < b; c++)
            for (var d = 0; 5 > d; d++)
                a & 1 && this.reels[d].startAnim(c + 1),
                a >>= 1
    }
    ;
    this.stopAnims = function() {
        for (var a = 0; 5 > a; a++)
            this.reels[a].stopAllAnims()
    }
}
function Payline(b, a, d, c) {
    this.X = b;
    this.Y = a;
    this.disabled = !1;
    this.colour = d;
    this.points = c;
    this.show = !1;
    this.update = function() {}
    ;
    this.showLine = function(a) {
        this.show = a
    }
    ;
    this.disable = function(a) {
        this.disabled = a
    }
    ;
    this.draw = function() {
        if (this.show) {
            var a = gameViewMan.viewScale
              , b = this.points.length;
            if (2 <= b) {
                ctx.lineWidth = 7 * a;
                ctx.strokeStyle = "rgb(0,0,0)";
                ctx.lineJoin = "round";
                ctx.beginPath();
                ctx.moveTo((this.points[0].x + this.X) * a, (this.points[0].y + this.Y) * a);
                for (var c = 1; c < b; c++)
                    ctx.lineTo((this.points[c].x + this.X) * a, (this.points[c].y + this.Y) * a);
                ctx.stroke();
                ctx.lineWidth = 5 * a;
                ctx.strokeStyle = this.colour;
                ctx.beginPath();
                ctx.moveTo((this.points[0].x + this.X) * a, (this.points[0].y + this.Y) * a);
                for (c = 1; c < b; c++)
                    ctx.lineTo((this.points[c].x + this.X) * a, (this.points[c].y + this.Y) * a);
                ctx.stroke()
            }
        }
    }
}
function CFreeGames() {
    this.RESPIN_TIMER_DELAY = 1500;
    this.TRIGGER_TIMER_DELAY = 5E3;
    this.m_bInFreeGames = !1;
    this.m_WinAccumulatedTotal = this.m_BetAmount = this.m_NumGamesLeft = this.m_NumFreeGamesAwarded = 0;
    this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
    this.m_RespinTimer = this.RESPIN_TIMER_DELAY;
    this.SetFreeSpins = function(b) {
        this.m_NumGamesLeft = b
    }
    ;
    this.DecFreeSpins = function() {
        0 < this.m_NumGamesLeft && this.m_NumGamesLeft--;
        return this.m_NumGamesLeft
    }
}
function createPaylineVectors(b, a, d, c, e, f, g, k, p, n, q) {
    for (var r = [], l = 0; l < b.length; l++) {
        var j = Array(8), o, s;
        if (0 == d[l][0].x) {
            o = c - (f.x - g.x);
            s = d[l][0].y + e / 2 - (f.y - g.y);
            j[0] = {
                x: o,
                y: s
            };
            j[1] = {
                x: o + 20,
                y: s
            };
            for (o = 0; o < b[l].length; o++)
                j[o + 2] = {
                    x: (n + p) * o + n / 2,
                    y: q * b[l][o] + q / 2
                };
            j[7] = {
                x: 5 * (n + p),
                y: j[6].y
            };
            for (o = 0; o < b[l].length; o++)
                switch (a[l][o]) {
                case 1:
                    j[o + 2].y = s;
                    break;
                case 2:
                    j[o + 2] = 4 > o ? 1 == a[l][o + 1] ? {
                        x: (j[o + 1].x + j[o + 3].x) / 2,
                        y: (j[o + 1].y + s) / 2
                    } : {
                        x: (j[o + 1].x + j[o + 3].x) / 2,
                        y: (j[o + 1].y + j[o + 3].y) / 2
                    } : {
                        x: (j[o + 1].x + j[o + 3].x) / 2,
                        y: (j[o + 1].y + j[o + 3].y) / 2
                    }
                }
            j[7] = {
                x: 1 < d[l].length ? k.x - f.x : 5 * n + 4 * p,
                y: j[6].y
            }
        } else {
            o = k.x - f.x;
            s = d[l][0].y + e / 2 - (f.y - k.y);
            j[0] = {
                x: o,
                y: s
            };
            j[1] = {
                x: o - 20,
                y: s
            };
            for (o = 0; o < b[l].length; o++)
                j[o + 2] = {
                    x: (n + p) * (4 - o) + n / 2,
                    y: q * b[l][4 - o] + q / 2
                };
            j[7] = {
                x: 0,
                y: j[6].y
            };
            for (o = 0; o < b[l].length; o++)
                switch (a[l][o]) {
                case 1:
                    j[o + 2].y = s;
                    break;
                case 2:
                    j[o + 2] = {
                        x: (j[o + 1].x + j[o + 3].x) / 2,
                        y: (j[o + 1].y + j[o + 3].y) / 2
                    }
                }
            j[7] = {
                x: 0,
                y: j[6].y
            }
        }
        r.push(j)
    }
    return r
}
;function FreeRounds() {
    this.inFreeRounds = !1;
    this.totalRounds = this.roundsRemaining = this.totalWin = this.linesBet = this.betPerLine = 0;
    this.askYesNo = this.showError = !1;
    this.defaultLinesSelected = this.defaultBetPerLine = 0;
    this.roundNumberMeter = new Text;
    this.roundNumberMeter.font = "24px arial";
    this.roundNumberMeter.align = "left";
    this.roundNumberMeter.m_Color = "#ffffff";
    this.roundNumberMeter.m_Text = "";
    this.totalWinMeter = new Text;
    this.totalWinMeter.font = "24px arial";
    this.totalWinMeter.align = "left";
    this.totalWinMeter.m_Color = "#ffffff";
    this.totalWinMeter.m_Text = "";
    this.roundNumberLable = new Text;
    this.roundNumberLable.font = "24px arial";
    this.roundNumberLable.align = "left";
    this.roundNumberLable.m_Color = "#ffffff";
    this.roundNumberLable.m_Text = "";
    this.totalWinLable = new Text;
    this.totalWinLable.font = "24px arial";
    this.totalWinLable.align = "left";
    this.totalWinLable.m_Color = "#ffffff";
    this.totalWinLable.m_Text = "";
    this.backSize = {
        x: 0,
        y: 0,
        w: 960,
        h: 30
    };
    this.requestOutro = !1;
    this.txtRoundNumberMeterLabel = this.txtWinMeterLabel = this.txtDialogTite = this.txtError = this.txtOutroEnd = this.txtOutroStart = this.txtIntro = "";
    this.gradient = {};
    this.freeRoundsOptions = this.freeRoundsMessage = null;
    this.selectedOption = 0;
    this.freeRoundAvailability = !1;
    this.freeRoundsExpiryTime = null;
    this.freeRoundsMsg = "";
    var b = this;
    this.insertParam = function(a, b) {
        var c = a.indexOf("%")
          , e = "";
        return -1 != c ? e = a.slice(0, c) + b + a.slice(c + 2) : a
    }
    ;
    this.insert2Param = function(a, b, c) {
        var e = a.indexOf("%1")
          , f = "";
        return -1 != e ? (f = a.slice(0, e) + b + a.slice(e + 2),
        e = f.indexOf("%2"),
        a = "",
        -1 != e ? a = f.slice(0, e) + c + f.slice(e + 2) : f) : a
    }
    ;
    this.init = function() {
        this.defaultLinesSelected = game.account.NUM_PAYLINES;
        this.txtIntro = "undefined" === typeof TXT_FR_INTRO ? "Congratulations! <br> You have %1 Free Spins." : TXT_FR_INTRO;
        this.txtIntroOne = "undefined" === typeof TXT_FR_INTRO_ONE ? "Congratulations! <br> You have %1 Free Round." : TXT_FR_INTRO_ONE;
        this.txtIntroGoodLuck = "undefined" === typeof TXT_FR_INTRO_GOOD_LUCK ? "<br>Good Luck!" : TXT_FR_INTRO_GOOD_LUCK;
        this.txtIntroYesNoQuestion = "undefined" === typeof TXT_FR_YES_NO_QUESTION ? "<br>Play Free Spins Now?" : TXT_FR_YES_NO_QUESTION;
        this.txtIntro2 = "undefined" === typeof TXT_FR_INTRO2 ? "Free Spins Awarded. Please choose your option." : TXT_FR_INTRO2;
        this.txtFreeRoundsExpiry = "undefined" === typeof TXT_FR_EXPIRY ? "Expiry Time: %1" : TXT_FR_EXPIRY;
        this.txtFreeRoundsMsg = "undefined" === typeof TXT_FR_MSG ? decodeURIComponent((this.freeRoundsMsg + "").replace(/\+/g, "%20")) : TXT_FR_MSG;
        this.txtFreeRoundDiv = $("<div>" + this.txtFreeRoundsMsg + "</div>");
        $.each(this.txtFreeRoundDiv.find("a"), function(a, b) {
            $(b).attr("target", "_blank")
        });
        this.txtFreeRoundsMsg = this.txtFreeRoundDiv[0].innerHTML;
        this.txtSpins = "undefined" === typeof TXT_FR_SPINS ? "Spins" : TXT_FR_SPINS;
        this.txtOutroStart = "undefined" === typeof TXT_FR_OUTRO_START ? "Congratulations! <br> You have won %1 in Free Spins.<br>" : TXT_FR_OUTRO_START;
        this.txtOutroEnd = "undefined" === typeof TXT_FR_OUTRO_END ? "Free spins has now ended. <br> Funds will now be used from your account. <br> Your bet amount will now be reset <br> back to the default." : TXT_FR_OUTRO_END;
        this.txtError = "undefined" === typeof TXT_FR_ERROR ? "You were awarded Free Spins, <br> but an error has occurred. <br> Please contact the Casino." : TXT_FR_ERROR;
        this.txtDialogTitle = "undefined" === typeof TXT_FR_TITLE ? "Free Spins" : TXT_FR_TITLE;
        this.txtWinMeterLabel = "undefined" === typeof TXT_FR_WIN_METER_LABEL ? "Total Free Spins Win: " : TXT_FR_WIN_METER_LABEL;
        this.txtRoundNumberMeterLabel = "undefined" === typeof TXT_FR_ROUND_NUMBER_METER_LABEL ? "Free Spins Remaining: %1" : TXT_FR_ROUND_NUMBER_METER_LABEL;
        this.roundNumberMeter.font = "undefined" === typeof FREE_ROUND_METER_FONT_SIZE ? "24px arial" : FREE_ROUND_METER_FONT_SIZE;
        this.totalWinMeter.font = "undefined" === typeof FREE_ROUND_METER_FONT_SIZE ? "24px arial" : FREE_ROUND_METER_FONT_SIZE;
        this.roundNumberLable.font = "undefined" === typeof FREE_ROUND_METER_FONT_SIZE ? "24px arial" : FREE_ROUND_METER_FONT_SIZE;
        this.totalWinLable.font = "undefined" === typeof FREE_ROUND_METER_FONT_SIZE ? "24px arial" : FREE_ROUND_METER_FONT_SIZE;
        ctx.save();
        ctx.lineJoin = "round";
        ctx.textAlign = this.roundNumberMeter.align;
        ctx.font = this.roundNumberMeter.font;
        var a = ctx.measureText(this.insertParam(this.txtRoundNumberMeterLabel, 999)).width;
        ctx.restore();
        this.roundNumberMeter.setPosition({
            x: 960 - a - 20,
            y: 592
        });
        this.totalWinMeter.setPosition({
            x: 50,
            y: 592
        });
        this.backSize = {
            x: 0,
            y: 568,
            w: 960,
            h: 32
        };
        this.updateTotalWin();
        this.roundNumberMeter.m_Text = this.insertParam(this.txtRoundNumberMeterLabel, Number(this.roundsRemaining));
        this.showError && (this.errorDlg(),
        this.showError = !1);
        this.gradient = ctx.createLinearGradient(0, 568, 0, 600);
        this.gradient.addColorStop(0, "#85c2c2");
        this.gradient.addColorStop(1, "#339999");
        null == this.freeRoundsMessage && (this.freeRoundsMessage = new FreeRoundsMessage)
    }
    ;
    this.setDefaults = function(a) {
        this.defaultBetPerLine = a;
        this.defaultLinesSelected = game.account.NUM_PAYLINES
    }
    ;
    this.updateTotalWin = function() {
        this.inFreeRounds && (this.totalWinMeter.m_Text = this.txtWinMeterLabel + game.account.getCurrencyString(this.totalWin))
    }
    ;
    this.processMsg = function(a) {
        for (var b = this.freeRoundAvailability = !1, c = 0; c < a.length; c++) {
            var e = a[c].split("=");
            switch (e[0]) {
            case "IFR":
                this.inFreeRounds = 1 == Number(e[1]);
                if (-1 != a.indexOf("MSGID=FRCONFIRM") || -1 != a.indexOf("MSGID=FRRECALLED"))
                    "function" === typeof game.ui.setFreeRounds && game.ui.setFreeRounds(this.inFreeRounds),
                    game.changeOrientation(),
                    this.updateTotalWin();
                break;
            case "FRBPL":
                this.betPerLine = Number(e[1]);
                game.account.setBetPerLine(this.betPerLine);
                break;
            case "FRTW":
                this.totalWin = Number(e[1]);
                break;
            case "FRR":
                this.roundsRemaining = Number(e[1]);
                this.roundNumberMeter.m_Text = this.insertParam(this.txtRoundNumberMeterLabel, Number(this.roundsRemaining));
                break;
            case "FRC":
                this.askYesNo = 1 == Number(e[1]) ? !0 : !1;
                break;
            case "FRTR":
                this.totalRounds = Number(e[1]);
                break;
            case "LFR":
                0 == this.roundsRemaining && (this.requestOutro = !0,
                game.ui.disableUI(!0));
                break;
            case "FRABM":
                game.api_SetFreeRoundAnteBet(Number(e[1]));
                -1 != a.indexOf("MSGID=FRCONFIRM") && "function" === typeof game.api_EnableFreeRoundAnteBet && game.api_EnableFreeRoundAnteBet(1 == this.inFreeRounds ? !0 : !1);
                break;
            case "BDD":
                this.defaultBetPerLine = Number(e[1]);
                break;
            case "FRE":
                this.showError = !0;
                break;
            case "FROP":
                this.freeRoundsOptions = "|" == e[1].substr(e[1].length - 1, 1) ? e[1].substr(0, e[1].length - 1).split("|") : e[1].split("|");
                break;
            case "FRA":
                this.freeRoundAvailability = 1 == Number(e[1]) ? !0 : !1;
                break;
            case "MSGID":
                if ("FRCONFIRM" == e[1] || "FRREJECTED" == e[1] || "FRRECALLED" == e[1])
                    game.enableAllUI(!0),
                    "FRRECALLED" == e[1] && (b = !0);
                break;
            case "FREXP":
                this.freeRoundsExpiryTime = e[1];
                break;
            case "FRMSG":
                this.freeRoundsMsg = e[1]
            }
        }
        b && this.intro(function() {})
    }
    ;
    this.changeOrientation = function(a) {
        null != this.freeRoundsMessage && this.freeRoundsMessage.changeOrientation(a)
    }
    ;
    this.draw = function() {
        if (this.inFreeRounds) {
            var a = gameViewMan.viewScale;
            ctx.beginPath();
            ctx.fillStyle = this.gradient;
            ctx.fillRect(this.backSize.x * a, this.backSize.y * a, this.backSize.w * a, this.backSize.h * a);
            this.roundNumberMeter.draw(ctx);
            this.totalWinMeter.draw(ctx)
        }
    }
    ;
    this.intro = function(a) {
        "function" === typeof game.ui.setFreeRounds && game.ui.setFreeRounds(this.inFreeRounds);
        "" != this.txtFreeRoundsMsg ? (game.message.SetFormat(!0),
        this.freeRoundsMessage.messageBox(this.txtDialogTitle, this.txtFreeRoundsMsg, [game.message.BTN_OK], function() {
            b.postIntro(a)
        }, "")) : this.postIntro(a)
    }
    ;
    this.postIntro = function(a) {
        if (this.inFreeRounds) {
            game.api_EnableFreeRoundAnteBet(!0);
            var d = this.insertParam(1 == this.roundsRemaining ? this.txtIntroOne : this.txtIntro, this.roundsRemaining)
              , d = this.askYesNo ? d + this.txtIntroYesNoQuestion : d + this.txtIntroGoodLuck
              , c = "";
            null != this.freeRoundsExpiryTime && (this.txtFreeRoundsExpiry = this.insertParam(this.txtFreeRoundsExpiry, this.freeRoundsExpiryTime),
            c += this.txtFreeRoundsExpiry);
            0 == this.roundsRemaining ? a() : (this.askYesNo ? (this.freeRoundsMessage.messageBox(this.txtDialogTitle, d, [b.freeRoundsMessage.BTN_CONFIRM, b.freeRoundsMessage.BTN_REJECT], function(c) {
                if (c != b.freeRoundsMessage.BTN_CONFIRM) {
                    game.account.setBetPerLine(game.freeRounds.defaultBetPerLine);
                    game.account.paylinesSelected = game.freeRounds.defaultLinesSelected;
                    typeof game.ui.setFreeRounds === "function" && game.ui.setFreeRounds(false);
                    game.freeRounds.inFreeRounds = false;
                    game.freeRounds.requestOutro = false;
                    game.api_EnableFreeRoundAnteBet(false);
                    game.checkLowBalance();
                    game.changeOrientation();
					console.log("#####GAME_INTERACTION-WindowObj message to server free spin rejected");
                    windowObj.sendMsgToServer("&MSGID=FRREJECTED&");
                    game.enableAllUI(false)
                }
                game.message.SetFormat(false);
                a()
            }, c),
            this.askYesNo = !1) : this.freeRoundsMessage.messageBox(this.txtDialogTitle, d, [game.message.BTN_OK], function() {
                game.message.SetFormat(false);
                a()
            }, c),
            game.message.SetFormat(!0))
        } else
            null != this.freeRoundsOptions ? this.multOptionsIntro(a) : a()
    }
    ;
    this.outro = function() {
        if (this.requestOutro) {
            var a = "";
            0 < this.totalWin && (a += this.insertParam(this.txtOutroStart, game.account.getCurrencyString(this.totalWin)));
            a += this.txtOutroEnd;
            this.freeRoundsMessage.messageBox(this.txtDialogTitle, a, [game.message.BTN_OK], function() {
                game.message.SetFormat(!1);
                game.freeRounds.requestOutro = !1;
                game.freeRounds.inFreeRounds = !1;
                "undefined" != typeof game.account.superBalance ? 0 == game.account.superBalance && game.account.setBetPerLine(game.freeRounds.defaultBetPerLine) : game.account.setBetPerLine(game.freeRounds.defaultBetPerLine);
                game.account.paylinesSelected = game.freeRounds.defaultLinesSelected;
                "function" === typeof game.ui.setFreeRounds && game.ui.setFreeRounds(!1);
                game.api_EnableFreeRoundAnteBet(!1);
                game.changeOrientation();
                game.checkLowBalance()
            });
            game.message.SetFormat(!0)
        }
    }
    ;
    this.errorDlg = function() {
        game.message.messageBox("Error", this.txtError, [game.message.BTN_OK], function() {
            game.message.SetFormat(!1)
        });
        game.message.SetFormat(!0)
    }
    ;
    this.multOptionsIntro = function() {
        this.requestOutro = !1;
        this.selectedOption = 0;
        for (var a = this.txtIntro2, a = a + '<div class="swiper_main"><div class="swiper_button_prev"><div class="enableArrow"><</div></div><div class="swiper_container"><div class="swiper_wrapper">', d = 0; d < this.freeRoundsOptions.length; d++) {
            var c = this.freeRoundsOptions[d].split(";")
              , e = game.account.getCurrencyString((Number(c[2]) + Number(c[4])) * Number(c[3]))
              , f = e;
            8 <= e.length && 12 > e.length ? f = '<font style="font-size:22px;">' + e + "</font>" : 12 <= e.length && 15 > e.length ? f = '<font style="font-size:20px;">' + e + "</font>" : 15 <= e.length && (f = '<font style="font-size:18px;">' + e + "</font>");
            a += '<div class="swiper_slide" id="' + d + '"><div>' + c[1] + ' <br/><font style="font-size:20px;">' + this.txtSpins + " <br/> X </font> <br/> ";
            a += f + "</div></div>"
        }
        a += '</div></div><div class="swiper_button_next"><div class="enableArrow">></div></div><div style="clear: both"></div></div>';
        d = "";
        null != this.freeRoundsExpiryTime && (this.txtFreeRoundsExpiry = this.insertParam(this.txtFreeRoundsExpiry, this.freeRoundsExpiryTime),
        d += this.txtFreeRoundsExpiry);
        this.askYesNo ? this.freeRoundsMessage.messageBox(this.txtDialogTitle, a, [this.freeRoundsMessage.BTN_CONFIRM, this.freeRoundsMessage.BTN_REJECT], function(a) {
            if (a == b.freeRoundsMessage.BTN_CONFIRM) {
				console.log("#####GAME_INTERACTION-WindowObj at message to server FR confirm");
                windowObj.sendMsgToServer("&MSGID=FRCONFIRM&FRSE=" + b.freeRoundsOptions[b.selectedOption] + "&");
                game.enableAllUI(false)
            } else if (a == b.freeRoundsMessage.BTN_REJECT) {
				console.log("#####GAME_INTERACTION-WindowObj at message to server FR rejected");
                windowObj.sendMsgToServer("&MSGID=FRREJECTED&");
                game.enableAllUI(false);
                game.checkLowBalance()
            }
        }, d) : this.freeRoundsMessage.messageBox(this.txtDialogTitle, a, [this.freeRoundsMessage.BTN_OK], function(a) {
            if (a == b.freeRoundsMessage.BTN_OK) {
				console.log("#####GAME_INTERACTION-WindowObj at message to server FR confirm");
                windowObj.sendMsgToServer("&MSGID=FRCONFIRM&FRSE=" + b.freeRoundsOptions[b.selectedOption] + "&");
                game.enableAllUI(false)
            }
        }, d);
        this.setupSwiper()
    }
    ;
    this.setupSwiper = function() {
        var a = 0;
        $(".swiper_wrapper").css("width", 160 * this.freeRoundsOptions.length + "px");
        $(".swiper_slide:eq(" + this.selectedOption + ")").addClass("selectedOption");
        $(".swiper_slide").on("click", function() {
            $(".swiper_slide:eq(" + b.selectedOption + ")").removeClass("selectedOption");
            null != game.ASSET_MANAGER.getAsset("freespins/btnOn.png") && $(".swiper_slide:eq(" + b.selectedOption + ")").css({
                background: "url(freespins/btnOff.png) no-repeat",
                "font-weight": "bold"
            });
            b.selectedOption = Number(this.id);
            $(this).addClass("selectedOption");
            null != game.ASSET_MANAGER.getAsset("freespins/btnOn.png") && $(".selectedOption").css({
                background: "url(freespins/btnOn.png) no-repeat",
                "font-weight": "bold"
            })
        });
        null != game.ASSET_MANAGER.getAsset("freespins/btnOff.png") && $(".swiper_slide").css({
            background: "url(freespins/btnOff.png) no-repeat",
            "font-weight": "bold"
        });
        null != game.ASSET_MANAGER.getAsset("freespins/btnOn.png") && $(".swiper_slide:eq(" + this.selectedOption + ")").css({
            background: "url(freespins/btnOn.png) no-repeat",
            "font-weight": "bold"
        });
        0 == a && $(".swiper_button_prev div").addClass("disabledArrow");
        4 < this.freeRoundsOptions.length ? ($(".swiper_button_prev div").on("click", function() {
            0 != a && (a--,
            0 < a && a--,
            $(".swiper_wrapper").css("transform", "translateX(" + 160 * -a + "px)"),
            0 >= a && $(".swiper_button_prev div").addClass("disabledArrow"),
            a < b.freeRoundsOptions.length - 4 && $(".swiper_button_next div").removeClass("disabledArrow"))
        }),
        $(".swiper_button_next div").on("click", function() {
            a != b.freeRoundsOptions.length - 4 && (a++,
            a < b.freeRoundsOptions.length - 4 && a++,
            $(".swiper_wrapper").css("transform", "translateX(" + 160 * -a + "px)"),
            a >= b.freeRoundsOptions.length - 4 && $(".swiper_button_next div").addClass("disabledArrow"),
            0 < a && $(".swiper_button_prev div").removeClass("disabledArrow"))
        })) : ($(".swiper_button_prev div").addClass("disabledArrow"),
        $(".swiper_button_next div").addClass("disabledArrow"))
    }
}
function FreeRoundsMessage() {
    this.BTN_NO = 0;
    this.BTN_YES = 1;
    this.BTN_CANCEL = 2;
    this.BTN_SUBMIT = 3;
    this.BTN_OK = 4;
    this.BTN_CONFIRM = 5;
    this.BTN_REJECT = 6;
    this.popup = !1;
    this.overlay = $("<div id='msgOverlay_2' class='msgOverlay'>").appendTo($("body"));
    this.msgBox = $("<div id='msgBox_2' class='msgBoxFreeRounds2'>").appendTo($("body"));
    this.msgBox_1 = $("<div id='msgBox_1' class='msgBox_1' >").appendTo($("#msgBox_2"));
    this.captionDiv = null != game.ASSET_MANAGER.getAsset("freespins/shine.png") ? $("<div id='msgCaption' class='msgCaptionFreeRounds' style='background: url(freespins/shine.png) no-repeat;'>").appendTo(this.msgBox_1) : $("<div id='msgCaption' class='msgCaptionFreeRounds'>").appendTo(this.msgBox_1);
    this.contentDiv = $("<div id='msgContent' class='msgContentFreeRounds'>").appendTo(this.msgBox_1);
    this.buttonsDiv = $("<div id='msgButtons' class='msgButtonsFreeRounds'>").appendTo(this.msgBox_1);
    this.extraTextDiv = $("<div id='msgButtons' class='msgExtraTextFreeRounds'>").appendTo(this.msgBox_1);
    this.callback = "";
    this.noBtn = $("<input type='button' class='msgButtonFreeRounds' value='" + MESSAGE_BTN_NO + "'/>");
    this.yesBtn = $("<input type='button' class='msgButtonFreeRounds' value='" + MESSAGE_BTN_YES + "'/>");
    this.cancelBtn = $("<input type='button' class='msgButtonFreeRounds' value='" + MESSAGE_BTN_CANCEL + "'/>");
    this.submitBtn = $("<input type='button' class='msgButtonFreeRounds' value='" + MESSAGE_BTN_SUBMIT + "'/>");
    this.okBtn = $("<input type='button' class='use_now msgButtonFreeRounds' value='" + MESSAGE_BTN_OK + "'/>");
    this.txtConfirm = "undefined" === typeof TXT_USE_NOW ? "USE NOW" : TXT_USE_NOW;
    this.txtReject = "undefined" === typeof TXT_USE_LATER ? "USE LATER" : TXT_USE_LATER;
    this.confirmBtn = $("<input type='button' class='use_now msgButtonFreeRounds' value='" + this.txtConfirm + "'/>");
    this.rejectBtn = $("<input type='button' class='use_later msgButtonFreeRounds' value='" + this.txtReject + "'/>");
    this.messageBox = function(b, a, d, c, e) {
        if (!1 == this.popup) {
            this.popup = !0;
            "none" == this.msgBox.css("display") && game.modalState++;
            this.captionDiv.html(b);
            this.contentDiv.html(a);
            this.extraTextDiv.html(e);
            this.buttonsDiv.empty();
            this.callback = c;
            for (var f = this, b = 0; b < d.length; b++)
                d[b] == this.BTN_NO ? this.buttonsDiv.append(this.noBtn.bind("click", function() {
                    f.DoAction(f.BTN_NO)
                })) : d[b] == this.BTN_YES ? this.buttonsDiv.append(this.yesBtn.bind("click", function() {
                    f.DoAction(f.BTN_YES)
                })) : d[b] == this.BTN_CANCEL ? this.buttonsDiv.append(this.cancelBtn.bind("click", function() {
                    f.DoAction(f.BTN_CANCEL)
                })) : d[b] == this.BTN_SUBMIT ? this.buttonsDiv.append(this.submitBtn.bind("click", function() {
                    f.DoAction(f.BTN_SUBMIT)
                })) : d[b] == this.BTN_OK ? this.buttonsDiv.append(this.okBtn.bind("click", function() {
                    f.DoAction(f.BTN_OK)
                })) : d[b] == this.BTN_CONFIRM ? this.buttonsDiv.append(this.confirmBtn.bind("click", function() {
                    f.DoAction(f.BTN_CONFIRM)
                })) : d[b] == this.BTN_REJECT ? this.buttonsDiv.append(this.rejectBtn.bind("click", function() {
                    f.DoAction(f.BTN_REJECT)
                })) : this.buttonsDiv.append($("<input type='button' class='msgButton' value='" + d[b] + "'/>").bind("click", {
                    button: b
                }, function(a) {
                    f.DoAction(a.data.button)
                }));
            this.overlay.show();
            setTimeout(function() {
                f.msgBox.show()
            }, 200);
            this.msgBox.css("margin-top", -(this.msgBox.height() / 2) + "px");
            this.changeOrientation(gameScale)
        }
    }
    ;
    this.DoAction = function(b) {
        this.Close();
        "" != this.callback && this.callback(b)
    }
    ;
    this.Close = function() {
        this.overlay.hide();
        this.msgBox.hide();
        game.modalState--;
        this.popup = !1
    }
    ;
    this.Hide = function() {
        "block" == this.msgBox.css("display") && (this.overlay.css("visibility", "hidden"),
        this.msgBox.css("visibility", "hidden"))
    }
    ;
    this.Show = function() {
        "block" == this.msgBox.css("display") && (this.overlay.css("visibility", "visible"),
        this.msgBox.css("visibility", "visible"))
    }
    ;
    this.changeOrientation = function(b) {
        var a = gameViewMan.viewScale;
        0.1 == b && (b = 1);
        this.msgBox.css("-webkit-transform", "scale(" + b * a + ")");
        this.msgBox.css("-moz-transform", "scale(" + b * a + ")");
        this.msgBox.css("-ms-transform", "scale(" + b * a + ")");
        this.msgBox.css("-o-transform", "scale(" + b * a + ")")
    }
    ;
    this.setVisibility = function(b) {
        b ? this.Show() : this.Hide()
    }
}
;(function() {
    function b() {
        this.y = this.x = 0;
        this.visible = !0;
        this.alpha = this.scaleY = this.scaleX = 1;
        this.rotate = 0;
        this.mask = null
    }
    function a() {
        b.call(this);
        this.children = []
    }
    function d(a, c, d, e, f, g, k) {
        b.call(this);
        this.frame = 0;
        this.image = a;
        this.framesCount = c;
        this.margin = d || 0;
        this.cols = e || c;
        this.rows = f || 1;
        this.width = a.width / this.cols;
        this.height = a.height / this.rows;
        this.sWidth = this.width - 2 * this.margin;
        this.sHeight = this.height - 2 * this.margin;
        this.dWidth = g || this.sWidth;
        this.dHeight = k || this.sHeight
    }
    function c() {
        b.call(this);
        this.text = "";
        this.textFormat = {
            align: "left",
            bold: !0,
            size: 12,
            font: "Arial",
            color: "#000000",
            lside: 0,
            rside: 100,
            textBaseline: "alphabetic",
            stroke: "",
            flashStyle: !0,
            shadowColor: "",
            shadowOffsetX: 0,
            shadowOffsetY: 0
        };
        this.maxWidth = -1
    }
    function e() {
        c.call(this);
        this.maxWidth = -1
    }
    function f(a, c, d) {
        b.call(this);
        this.width = a;
        this.height = c;
        this.color = d
    }
    function g(b) {
        a.call(this);
        this.actions = [];
        this.tweens = [];
        this.time = 0;
        this.duration = b;
        this.lastUpdatedTime = 0;
        this.playing = !1
    }
    function k(a, b, c) {
        this.target = a;
        this.property = b;
        this.nodes = [{
            time: 0,
            value: c || 0,
            method: k.LINEAR,
            args: []
        }]
    }
    function p(a, b) {
        r.exists(a);
        this.target = a;
        this.firstFrame = b || 0;
        this.segments = []
    }
    function n(b, c) {
        a.call(this);
        this.width = b;
        this.height = c;
        this.buffer = null
    }
    var q = document.getElementById("c").getContext("2d")
      , r = {
        exists: function(a) {
            if (void 0 === a || null == a)
                throw Error("Assertion error");
        }
    }
      , l = {};
    l.Assert = r;
    b.prototype.draw = function(a) {
        var b = gameViewMan.viewScale;
        this.visible && (0 < this.alpha && 0 != this.scaleX && 0 != this.scaleY) && (a.save(),
        a.translate(this.x * b, this.y * b),
        a.scale(this.scaleX, this.scaleY),
        a.rotate(this.rotate * Math.PI / 180),
        a.globalAlpha *= this.alpha,
        this.mask && (a.beginPath(),
        a.rect(this.mask.x * b, this.mask.y * b, this.mask.width * b, this.mask.height * b),
        a.clip()),
        this.performDraw(a),
        a.restore())
    }
    ;
    b.prototype.setMask = function(a, b, c, d) {
        this.mask = {
            x: a,
            y: b,
            width: c,
            height: d
        }
    }
    ;
    b.prototype.performDraw = function() {}
    ;
    b.prototype.update = function() {}
    ;
    b.prototype.nextActionTime = function(a) {
        return a
    }
    ;
    l.DObject = b;
    a.prototype = new b;
    l.Container = a;
    a.prototype.addChild = function(a) {
        r.exists(a);
        this.children.unshift(a)
    }
    ;
    a.prototype.performDraw = function(a) {
        for (var b = this.children.length - 1; 0 <= b; b--)
            this.children[b].draw(a)
    }
    ;
    a.prototype.update = function() {
        for (var a = 0; a < this.children.length; a++)
            this.children[a].update()
    }
    ;
    a.prototype.nextActionTime = function(a) {
        for (var b = 0; b < this.children.length; b++)
            a = this.children[b].nextActionTime(a);
        return a
    }
    ;
    d.prototype = new b;
    l.Sprite = d;
    d.prototype.performDraw = function(a) {
        var b = gameViewMan.viewScale;
        this.frame = Math.floor(this.frame) % this.framesCount;
        a.drawImage(this.image, this.width * (this.frame % this.cols) + this.margin, this.height * Math.floor(this.frame / this.cols) + this.margin, this.sWidth, this.sHeight, 0, 0, this.dWidth * b, this.dHeight * b)
    }
    ;
    c.formats = {};
    c.addFormat = function(a, b) {
        this.formats[a] = b
    }
    ;
    c.prototype = new b;
    l.Text = c;
    c.prototype.performDraw = function(a) {
        var b = gameViewMan.viewScale;
        a.textAlign = "left";
        a.textBaseline = this.textBaseline;
        a.lineJoin = "round";
        this.textFormat.shadowColor && (a.shadowColor = this.textFormat.shadowColor,
        a.shadowOffsetX = this.textFormat.shadowOffsetX * b,
        a.shadowOffsetY = this.textFormat.shadowOffsetY * b);
        this.textFormat.flashStyle && (this.text = this.text.toString(),
        this.text = this.text.replace(/#(C\d)+\[([^\]]+)\]/gi, '<f name="$1">$2</f>'),
        this.text = this.text.replace(/#(CR\d)+\[([^\]]+)\]/gi, '<f name="$1">$2</f>'),
        "undefined" !== typeof this.linebreak && (this.text = this.text.replace(/&lt;BR&gt;/g, "<n px='" + this.linebreak + "'/>")));
        var c = $("<f/>").append(this.text), d;
        for (d in this.textFormat)
            c.attr(d, this.textFormat[d]);
        d = [[[]]];
        this._parseElement(c[0], d, this.textFormat);
        for (c = 0; c < d.length; c++) {
            var e = d[c];
            a.translate(0, this._getLineHeight(e));
            for (var f = 0; f < e.length; f++) {
                var g = e[f];
                if (0 < g.length) {
                    if (0 < this.maxWidth)
                        for (var k = 0; k < g.length; k++)
                            g[k].format = $.extend({}, g[k].format);
                    var l;
                    do
                        if (l = this._getSegmentWidth(a, g),
                        0 < this.maxWidth && l > this.maxWidth * b)
                            for (k = 0; k < g.length; k++)
                                g[k].format.size--;
                        else
                            break;
                    while (1);for (var k = g[0].format.align, p = parseInt(g[0].format.lside) * b, n = parseInt(g[0].format.rside) * b, p = "left" == k ? p : "right" == k ? n - l : (p + n - l) / 2, k = l = 0; k < g.length; k++) {
                        var n = g[k]
                          , q = n.format;
                        this._applyFont(a, q);
                        if (q.stroke) {
                            for (var r = [], m = q.stroke.split(","), h = 0; h < m.length; h++) {
                                var D = m[h].trim().split(/\s+/);
                                r.push({
                                    color: D[0],
                                    width: D[1]
                                })
                            }
                            r.sort(function(a, b) {
                                return b.width - a.width
                            });
                            for (h = 0; h < r.length; h++)
                                D = r[h],
                                a.lineWidth = D.width * b,
                                a.strokeStyle = D.color,
                                a.strokeText(n.text, p + l, 0)
                        }
                        this._applyColor(a, q);
                        a.fillText(n.text, p + l, 0);
                        l += a.measureText(n.text).width
                    }
                }
            }
        }
    }
    ;
    c.prototype._parseElement = function(a, b, d) {
        switch (a.nodeName) {
        case "F":
            for (var e = $(a).attr("name"), d = $.extend({}, d, e ? c.formats[e] : {}), e = 0; e < a.attributes.length; e++) {
                var f = a.attributes.item(e);
                "align" == f.name && (d.align != f.value && !(1 == b[b.length - 1].length && 0 == b[b.length - 1][0].length)) && b[b.length - 1].push([]);
                "name" != f.name && (d[f.name] = f.value)
            }
            for (e = 0; e < a.childNodes.length; e++)
                this._parseElement(a.childNodes[e], b, d);
            break;
        case "N":
            d = [[]];
            a = $(a).attr("px");
            isNaN(a) || (d.px = parseInt(a));
            b.push(d);
            break;
        case "#text":
            b = b[b.length - 1],
            b[b.length - 1].push({
                text: $(a).text(),
                format: d
            })
        }
    }
    ;
    c.prototype._getLineHeight = function(a) {
        if (a.hasOwnProperty("px"))
            return a.px * gameViewMan.viewScale;
        for (var b = 0, c = 0; c < a.length; c++)
            for (var d = a[c], e = 0; e < d.length; e++)
                b = Math.max(b, d[e].format.size);
        return b * gameViewMan.viewScale
    }
    ;
    c.prototype._getSegmentWidth = function(a, b) {
        for (var c = 0, d = 0; d < b.length; d++) {
            var e = b[d];
            this._applyFont(a, e.format);
            c += a.measureText(e.text).width
        }
        return c
    }
    ;
    c.prototype._applyFont = function(a, b) {
        var c = gameViewMan.viewScale;
        "string" == typeof b.bold && (b.bold = "false" === b.bold ? !1 : !0);
        a.font = (b.bold ? "bold" : "normal") + " " + b.size * c + "px " + (b.font || "")
    }
    ;
    c.prototype._applyColor = function(a, b) {
        var c = gameViewMan.viewScale
          , d = b.color;
        colorStops = d.split(",");
        if (1 == colorStops.length)
            a.fillStyle = d;
        else {
            c = a.createLinearGradient(0, -b.size * c, 0, b.size * c);
            for (d = 0; d < colorStops.length; d++) {
                var e = colorStops[d].trim().split(/\s+/);
                c.addColorStop(e[1], e[0])
            }
            a.fillStyle = c
        }
    }
    ;
    c.prototype.setTextFormat = function(a) {
        r.exists(a);
        "string" == typeof a && (a = c.formats[a]);
        for (var b in a)
            this.textFormat[b] = a[b]
    }
    ;
    l.Text.prototype.setMixedFormat = function(a) {
        l.Assert.exists(a);
        var b = {};
        if ("string" == typeof a)
            b = c.formats[a];
        else if (a.format && c.formats[a.format]) {
            var d = c.formats[a.format], e;
            for (e in d)
                b[e] = d[e];
            for (e in a)
                b[e] = a[e]
        } else
            b = a;
        for (e in b)
            -1 < "x y text maxWidth linebreak scaleX scaleY textBaseline".split(" ").indexOf(e) ? this[e] = b[e] : this.textFormat[e] = b[e]
    }
    ;
    e.prototype = new c;
    l.MoneyText = e;
    e.prototype.performDraw = function(a) {
        var b = $.extend({}, this.textFormat);
        a.textAlign = "left";
        a.textBaseline = "alphabetic";
        a.lineJoin = "round";
        a.translate(0, b.size);
        do {
            this._applyFont(a, b);
            var c = a.measureText(this.text).width;
            b.size--
        } while (-1 != this.maxWidth && c > this.maxWidth);var d = b.align
          , e = parseInt(b.lside)
          , f = parseInt(b.rside)
          , c = "left" == d ? e : "right" == d ? f - c : (e + f - c) / 2;
        if (b.stroke) {
            d = [];
            e = b.stroke.split(",");
            for (f = 0; f < e.length; f++) {
                var g = e[f].trim().split(/\s+/);
                d.push({
                    color: g[0],
                    width: g[1]
                })
            }
            d.sort(function(a, b) {
                return b.width - a.width
            });
            for (f = 0; f < d.length; f++)
                g = d[f],
                a.lineWidth = g.width,
                a.strokeStyle = g.color,
                a.strokeText(this.text, c, 0)
        }
        this._applyColor(a, b);
        a.fillText(this.text, c, 0)
    }
    ;
    f.prototype = new b;
    l.Rectangle = f;
    f.prototype.performDraw = function(a) {
        var b = a === q ? gameViewMan.viewScale : 1;
        a.fillStyle = this.color;
        a.fillRect(0, 0, this.width * b, this.height * b)
    }
    ;
    g.prototype = new a;
    l.Movie = g;
    g.root = new g;
    g.lastUpdatedTime = 0;
    g.update = function(a) {
        for (; 0 < a; )
            delta = g.root.nextActionTime(a),
            g.lastUpdatedTime += delta,
            a -= delta,
            g.root.update()
    }
    ;
    g.prototype.addAction = function(a, b) {
        r.exists(a);
        r.exists(b);
        this.actions[b] = a
    }
    ;
    g.prototype.nextActionTime = function(b) {
        if (this.playing)
            for (var c in this.actions)
                c = parseInt(c),
                c != this.time && (b = Math.min(b, (c + this.duration - this.time) % this.duration));
        return a.prototype.nextActionTime.call(this, b)
    }
    ;
    g.prototype.moveTo = function(a) {
        this.update();
        if (this.time != a || !this.playing)
            this.time = a,
            this.actions[a] && this.actions[a].call(this)
    }
    ;
    g.prototype.update = function() {
        if (this.lastUpdatedTime != g.lastUpdatedTime) {
            var b = (g.lastUpdatedTime - this.lastUpdatedTime + this.time) % this.duration;
            this.lastUpdatedTime = g.lastUpdatedTime;
            this.playing && this.moveTo(b)
        }
        a.prototype.update.call(this)
    }
    ;
    g.prototype.addTween = function(a) {
        this.tweens.push(a)
    }
    ;
    g.prototype.play = function(a) {
        (a || 0 == a) && this.moveTo(a);
        this.playing = !0
    }
    ;
    g.prototype.stop = function(a) {
        (a || 0 == a) && this.moveTo(a);
        this.playing = !1
    }
    ;
    g.prototype.performDraw = function(b) {
        for (var c = 0; c < this.tweens.length; c++)
            this.tweens[c].apply(this.time);
        a.prototype.performDraw.call(this, b)
    }
    ;
    l.Tween = k;
    k.LINEAR = function(a, b, c) {
        return a * (1 - c) + b * c
    }
    ;
    k.JUMP = function(a, b, c) {
        return 1 > c ? a : b
    }
    ;
    k.POWER = function(a, b, c, d) {
        c = Math.pow(c, d);
        return a * (1 - c) + b * c
    }
    ;
    k.POWERK = function(a, b, c, d, e, f, g, l) {
        c = (Math.pow(c * (e || 1) + (g || 0), d) + (l || 0)) * (f || 1);
        return k.LINEAR(a, b, c)
    }
    ;
    k.BOUNCE = function(a, b, c) {
        var d = c < 1 / 2.75 ? 7.5625 * c * c : c < 2 / 2.75 ? 7.5625 * (c -= 1.5 / 2.75) * c + 0.75 : c < 2.5 / 2.75 ? 7.5625 * (c -= 2.25 / 2.75) * c + 0.9375 : 7.5625 * (c -= 2.625 / 2.75) * c + 0.984375;
        return k.LINEAR(a, b, d)
    }
    ;
    k.SIN = function(a, b, c, d) {
        c = -Math.sin((c * (d || 1) + 0.5) * Math.PI);
        return k.LINEAR(a, b, c)
    }
    ;
    k.prototype.set = function(a, b, c) {
        var d = {
            time: a,
            args: []
        };
        void 0 !== b && (d.value = b);
        d.method = c || k.LINEAR;
        for (var e = 3; e < arguments.length; e++)
            d.args.push(arguments[e]);
        this.nodes.push(d);
        this.nodes.sort(function(a, b) {
            return a.time - b.time
        });
        return this
    }
    ;
    k.prototype.apply = function(a) {
        for (var b, c = 0; c < this.nodes.length && this.nodes[c].time <= a; c++)
            this.nodes[c].hasOwnProperty("value") && (b = this.nodes[c].value);
        c < this.nodes.length && this.nodes[c].hasOwnProperty("value") && (b = this.nodes[c].method.apply(this, [b, this.nodes[c].value, (a - this.nodes[c - 1].time) / (this.nodes[c].time - this.nodes[c - 1].time)].concat(this.nodes[c].args)));
        "alpha" != this.property && ("scaleX" != this.property && "scaleY" != this.property && "rotate" != this.property) && (b = Math.round(b));
        this.target[this.property] = b
    }
    ;
    l.SpriteTween = p;
    p.prototype.set = function(a, b, c) {
        for (var c = {
            duration: c,
            frames: []
        }, b = b.split(","), d = 0; d < b.length; d++) {
            var e = b[d].split("-")
              , f = parseInt(e.shift());
            for (c.frames.push(f); 0 < e.length; ) {
                var g = parseInt(e[0])
                  , f = f + (f < g ? 1 : -1);
                f == g && e.shift();
                c.frames.push(f)
            }
        }
        this.segments[a] = c;
        return this
    }
    ;
    p.prototype.apply = function(a) {
        var b = -1, c;
        for (c in this.segments) {
            if (c > a)
                break;
            b = c
        }
        if (-1 == b)
            this.target.frame = this.firstFrame;
        else {
            c = this.segments[b].frames;
            var d = this.segments[b].duration;
            this.target.frame = c[Math.min(c.length - 1, Math.floor((a - b) / d * c.length))]
        }
    }
    ;
    n.prototype = new a;
    l.BufferedPanel = n;
    n.prototype.performDraw = function(b) {
        this.useBuffer() ? (this.buffer || (this.buffer = document.createElement("canvas"),
        this.buffer.width = this.width,
        this.buffer.height = this.height,
        a.prototype.performDraw.call(this, this.buffer.getContext("2d"))),
        b.drawImage(this.buffer, 0, 0)) : (this.buffer = null,
        a.prototype.performDraw.call(this, b))
    }
    ;
    n.prototype.reset = function() {
        this.buffer = null
    }
    ;
    n.prototype.useBuffer = function() {
        return !0
    }
    ;
    window.AF = l
}
)();
function apiExt() {
    if (!(1 > arguments.length)) {
        var b = 1 < arguments.length ? arguments[1] : "";
        switch (arguments[0]) {
        case "JSON_TO_GDM_GSD":
            return translateGSD("JSON_GDM", b);
        case "GDM_TO_JSON_GSD":
            return translateGSD("GDM_JSON", b);
        case "AUTOPLAY_TOTAL":
            return game.autoPlayGamesToPlay;
        case "AUTOPLAY_CURRENT":
            return game.autoPlayGames;
        case "AUTOPLAY_MODE":
            return game.autoPlay;
        case "SET_BALANCE":
            return setBalance(b),
            "";
        case "SET_HISTORY_MODE":
            game.setHistoryMode(Boolean(b));
            break;
        case "SERVER_ERROR":
            return "function" === typeof b ? handleServerError(b) : handleServerError(),
            "";
        case "SHOW_GAME_INFO":
            (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE) && !(game.slotResult.winType & WT_PICK_FEATURE_TRIGGER) && (!(game.slotResult.winType & WT_FEATURE_TRIGGER) && !game.autoPlay) && game.uapi_info();
            break;
        case "SHOW_SETTINGS":
            (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE) && !(game.slotResult.winType & WT_PICK_FEATURE_TRIGGER) && (!(game.slotResult.winType & WT_FEATURE_TRIGGER) && !game.autoPlay) && togglePanel();
            break;
        case "SET_MENU_BTN_SWITCH":
            game.ui.setHomeBtnMidRoundState(b);
            break;
        case "MSG_POP_UP":
            4 == arguments.length ? handlePopUp(arguments[1], arguments[2], arguments[3]) : 3 == arguments.length && handlePopUp(arguments[1], arguments[2]);
            break;
        case "CONFIRM_POP_UP":
            handleConfirmPopUp(arguments[1], arguments[2], arguments[3]);
            break;
        case "SET_ONE_PICK_ME_GAME":
            feature.apiSetOneGame();
            break;
        case "SET_PICK_ME_WIN_AMOUNT":
            feature.apiSetPrize(arguments[1], arguments[2]);
            break;
        case "SET_MAX_AUTOPLAYS":
            game.maxAutoPlays = 5 * Math.floor(Number(arguments[1] / 5));
            game.useUI3 && game.ui.autoPlayMan.setMaxAutoPlays(game.maxAutoPlays);
            break;
        case "SET_AUTOPLAY_STOP_OPTIONS":
            game.useUI3 && game.ui.autoPlayMan.setMandatory(arguments[1]);
            break;
        case "PLAY_SLOT":
            handlePlaySlotPopUp(arguments[1], arguments[2], arguments[3]);
            break;
        case "SHOW_CASHIER_BUTTON":
            "undefined" !== typeof game.ui.setCashierVisibility && game.ui.setCashierVisibility(b);
            break;
        case "SHOW_BUTTON":
            game.useUI3 && "CASHIER_SETTINGS" == arguments[1] && game.ui.setCashierSettingsVisibility(Boolean(arguments[2]));
            "PLAY_SLOT" == arguments[1] && (game.showPlaySlotBtn = arguments[2]);
            break;
        case "SHOW_HOME_BUTTON":
            "undefined" !== typeof game.ui.setHomeVisibility && game.ui.setHomeVisibility(b);
            break;
        case "SHOW_CLOCK":
            game.clock.enabled = !0 == arguments[1] ? !0 : !1;
            break;
        case "HIDE_PORTRAIT_MODE":
            "undefined" !== typeof game.showPortraitMode && game.showPortraitMode(b);
            break;
        case "SHOW_RTP":
            game.showRTP = !0 == arguments[1] ? !0 : !1;
            break;
        case "SET_CLIENT_PLATFORM":
            "undefined" !== typeof game.setGameClientPlatform && (3 == arguments.length ? game.setGameClientPlatform(arguments[1], arguments[2]) : 2 == arguments.length && game.setGameClientPlatform(arguments[1]));
            break;
        case "ENABLE_ALL_UI":
            !0 == arguments[1] ? game.enableAllUI(!0) : game.enableAllUI(!1);
            break;
        case "SET_MUTE":
            !0 == arguments[1] ? game.ui.setMute(!0) : game.ui.setMute(!1);
            break;
        case "PAUSE_AUTOPLAY":
            !0 == arguments[1] ? game.stopAutoPaly(!0) : game.stopAutoPaly(!1);
            break;
        case "TEMP_PAUSE_AUTOPLAY":
            !0 == arguments[1] ? game.pauseAutoPlay(!0) : game.pauseAutoPlay(!1);
            break;
        case "GDM_ERROR_POP_UP":
            3 == arguments.length ? handlePopUp(TXT_ERROR, parseErrorMsg(arguments[1]), arguments[2]) : 2 == arguments.length && handlePopUp(TXT_ERROR, parseErrorMsg(arguments[1]));
            break;
        case "GET_ERROR_MESSAGE":
            return parseErrorMsg(arguments[1]);
        case "GET_MIN_BET":
            return game.getMinimumBet();
        case "SET_CREDIT_CURRENCY":
            "undefined" !== typeof game.account.setDisplayAsCredits && game.account.setDisplayAsCredits(arguments[1]);
            break;
        case "SET_CLOCK_SIZE":
            "undefined" !== typeof game.clock.setClockSize && game.clock.setClockSize(arguments[1]);
            break;
        case "SET_GAME_MARGIN":
            "undefined" !== typeof game.setGameMargin && ("0" == arguments[1] ? game.setGameMargin(60) : "1" == arguments[1] ? game.setGameMargin(30) : "2" == arguments[1] && game.setGameMargin(0));
            break;
        case "INSUFFICIENT_BALANCE_POP_UP":
            game.message.messageBox(TXT_WARNING, TXT_NOT_ENOUGH_BALANCE, [this.message.BTN_OK], arguments[1]);
            break;
        case "CUSTOMIZED_BUTTONS_POP_UP":
            5 == arguments.length && handleCustomizedButtonPopUp(arguments[1], arguments[2], arguments[3], arguments[4]);
            break;
        case "GET_ROUND_TOTAL_WIN":
            return game.slotResult.winAmount;
        case "ENABLE_GAME_PLAY":
            !0 == arguments[1] ? (game.enableGamePlay(!0),
            game.enableAllUI(!0)) : (game.enableAllUI(!1),
            game.enableGamePlay(!1));
            break;
        case "UNMUTE_GAME_SOUND":
            !0 == arguments[1] ? game.setVolume(1) : game.setVolume(0);
            break;
        case "GET_GAME_NAME":
            return document.title;
        default:
            return ""
        }
    }
}
function setBalance(b) {
    if (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE)
        game.account.setBalance(Number(b)),
        game.checkLowBalance()
}
function handleServerError() {
    "undefined" === typeof TXT_ERROR_CONNECTION_FAILED ? 1 == arguments.length ? game.message.messageBox(TXT_ERROR, TXT_ERROR_DEFAULT, [game.message.BTN_OK], arguments[0]) : game.message.messageBox(TXT_ERROR, TXT_ERROR_DEFAULT, [game.message.BTN_OK], function() {}) : 1 == arguments.length ? game.message.messageBox(TXT_ERROR, TXT_ERROR_CONNECTION_FAILED, [game.message.BTN_OK], arguments[0]) : game.message.messageBox(TXT_ERROR, TXT_ERROR_CONNECTION_FAILED, [game.message.BTN_OK], function() {})
}
function handlePopUp() {
    3 == arguments.length ? game.message.messageBox(arguments[0], arguments[1], [game.message.BTN_OK], arguments[2]) : 2 == arguments.length && game.message.messageBox(arguments[0], arguments[1], [game.message.BTN_OK], function() {})
}
function handleConfirmPopUp(b, a, d) {
    game.message.messageBox(b, a, [game.message.BTN_NO, game.message.BTN_OK], function(a) {
        a == game.message.BTN_OK && d()
    })
}
function handlePlaySlotPopUp(b, a, d) {
    game.message.messageBox(b, a, [game.message.BTN_YES, game.message.BTN_NO], function(a) {
        a == game.message.BTN_YES && d()
    })
}
function handleCustomizedButtonPopUp(b, a, d, c) {
    game.message.messageBox(b, a, d, function(a) {
        c(a)
    })
}
function togglePanel() {
    0 == game.ui.state ? (game.ui.state = 1,
    game.uapi_openPanel()) : 1 == game.ui.state && (game.ui.state = 0,
    game.uapi_closePanel(!0))
}
;AF.Text.prototype._applyFont = function(b, a) {
    var d = gameViewMan.viewScale;
    "string" == typeof a.bold && (a.bold = "false" === a.bold ? !1 : !0);
    "string" == typeof a.italic && (a.italic = "false" === a.italic ? !1 : !0);
    b.font = (a.bold ? "bold" : "") + " " + (a.italic ? "italic" : "") + " " + a.size * d + "px " + (a.font || "")
}
;
function Meters(b) {
    void 0 === b && (b = {});
    gameViewMan.addDirtyObject(this);
    var a = b.meterWidth || 960
      , d = b.meterHeight || 32
      , c = gameViewMan.maxCanvasWidth
      , e = d * (c / a)
      , f = 24
      , g = 24
      , k = 26
      , p = 26
      , n = document.createElement("canvas");
    n.width = c;
    n.height = e;
    var q = n.getContext("2d");
    this.textBalanceLabel = new Text;
    this.textBalanceLabel.align = "left";
    this.textBalanceLabel.m_Color = "#FFCC33";
    this.textBetLabel = new Text;
    this.textBetLabel.align = "left";
    this.textBetLabel.m_Color = "#FFCC33";
    this.textWinLabel = new Text;
    this.textWinLabel.align = "left";
    this.textWinLabel.m_Color = "#FFCC33";
    this.textBalanceValue = new Text;
    this.textBalanceValue.align = "left";
    this.textBalanceValue.m_Color = "#FFFFFF";
    this.textBetValue = new Text;
    this.textBetValue.align = "left";
    this.textBetValue.m_Color = "#FFFFFF";
    this.textWinValue = new Text;
    this.textWinValue.align = "left";
    this.textWinValue.m_Color = "#FFFFFF";
    var r = {};
    this.meterBGImage = b.meterBGImage;
    this.meterBackroundGradient = [{
        p: 0,
        col: "#000000"
    }, {
        p: 1,
        col: "#000000"
    }];
    this.setBackground = function(a) {
        this.meterBackroundGradient = a;
        this.dirty = !0
    }
    ;
    this.getBackground = function() {
        return this.meterBackroundGradient
    }
    ;
    this.setFontColour = function(a, b) {
        this.textBalanceLabel.m_Color = a;
        this.textBetLabel.m_Color = a;
        this.textWinLabel.m_Color = a;
        this.textBalanceValue.m_Color = b;
        this.textBetValue.m_Color = b;
        this.textWinValue.m_Color = b
    }
    ;
    this.getLabelColour = function() {
        return this.textBalanceLabel.m_Color
    }
    ;
    this.getValueColour = function() {
        return this.textBalanceValue.m_Color
    }
    ;
    this.refreshTexture = function() {
        var b = gameViewMan.viewScale
          , c = this.meterBGImage;
        if (c)
            q.clearRect(0, 0, a * b, d * b),
            q.drawImage(c, 0, 0, c.width, c.height, (a - c.width * gameViewMan.designScale) / 2 * b, 0, c.width * b * gameViewMan.designScale, c.height * b * gameViewMan.designScale);
        else {
            c = this.meterBackroundGradient;
            r = q.createLinearGradient(0, 0, 0, d * b);
            for (var e = 0; e < c.length; e++)
                r.addColorStop(c[e].p, c[e].col);
            q.beginPath();
            q.rect(0, 0, a * b, d * b);
            q.fillStyle = r;
            q.fill()
        }
        this.textBalanceLabel.drawShadowed(q, b);
        this.textBetLabel.drawShadowed(q, b);
        this.textWinLabel.drawShadowed(q, b);
        this.textBalanceValue.drawShadowed(q, b);
        this.textBetValue.drawShadowed(q, b);
        this.textWinValue.drawShadowed(q, b)
    }
    ;
    this.updateMeterLabels = function() {
        var b = gameViewMan.viewScale;
        f = Number(METER_LABEL_SIZE_L.slice(0, -2)) * b;
        g = Number(METER_VALUE_SIZE_L.slice(0, -2)) * b;
        k = d * b - (d * b - f) / 2 - 4 * b;
        p = d * b - (d * b - g) / 2 - 4 * b;
        this.textBalanceLabel.font = f + "px arial";
        this.textBetLabel.font = f + "px arial";
        this.textWinLabel.font = f + "px arial";
        this.textBalanceValue.font = g + "px arial";
        this.textBetValue.font = g + "px arial";
        this.textWinValue.font = g + "px arial";
        var c = Math.floor(0.02 * a) * b;
        this.textBalanceLabel.setPosition({
            x: c,
            y: k
        });
        var e = Number(METER_BALANCE_WIDTH.slice(0, -1))
          , n = Math.floor(a * ((2 + e) / 100)) * b;
        this.textBetLabel.setPosition({
            x: n,
            y: k
        });
        var r = Number(METER_BET_WIDTH.slice(0, -1))
          , b = Math.floor(a * ((2 + e + r) / 100)) * b;
        this.textWinLabel.setPosition({
            x: b,
            y: k
        });
        q.lineJoin = "round";
        q.textAlign = "left";
        q.font = this.textBalanceLabel.font;
        c = q.measureText(this.textBalanceLabel.m_Text).width + c + 5;
        this.textBalanceValue.setPosition({
            x: c,
            y: p
        });
        c = q.measureText(this.textBetLabel.m_Text).width + n + 5;
        this.textBetValue.setPosition({
            x: c,
            y: p
        });
        c = q.measureText(this.textWinLabel.m_Text).width + b + 5;
        this.textWinValue.setPosition({
            x: c,
            y: p
        })
    }
    ;
    this.setMeterLabels = function(a, b, c) {
        this.textBalanceLabel.m_Text = a;
        this.textBetLabel.m_Text = b;
        this.textWinLabel.m_Text = c;
        this.dirty = !0
    }
    ;
    this.setMeterBalanceValue = function(a) {
        this.textBalanceValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.setMeterBetValue = function(a) {
        this.textBetValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.setMeterWinValue = function(a) {
        this.textWinValue.m_Text = a;
        this.dirty = !0
    }
    ;
    this.draw = function() {
        this.dirty && (this.dirty = !1,
        this.updateMeterLabels(),
        this.refreshTexture());
        var b = gameViewMan.viewScale
          , c = d * b;
        ctx.drawImage(n, 0, 0, a * b, c, 0, "undefined" != typeof game.jackpotMeters && game.jackpotMeters.isJackPotGame ? -64 * b : -32 * b, a * b, c)
    }
}
function rollupFeatureWin(b, a) {
    game.startWinMeter(b, a);
    game.account.startOnScreenWinAmount = b;
    game.account.targetOnScreenWinAmount = a;
    game.account.rollUpCounter = 0;
    game.account.winAmount = a
}
;function game_ui() {
    this.layout = new GameUILayout;
    this.AUTO_OFF = 0;
    this.AUTO_WAITING_TO_START = 1;
    this.AUTO_PLAYING = 2;
    this.AUTO_WAITING_TO_STOP = 3;
    this.SP_BET_CHANGE = 0;
    this.SP_BET_STOP = 1;
    this.SP_X2 = 2;
    this.SP_X1 = 1;
    this.clipOffSet = this.oldOption = this.superbetOption = this.SP_X0 = 0;
    this.superState = this.SP_BET_STOP;
    this.state = this.superSlideTime = 0;
    this.autoPlayMode = this.AUTO_OFF;
    this.reset = !1;
    this.superbetlogoglow = {};
    this.btnSuperBetLogo = {};
    this.btnSuperBetno_off = {};
    this.btnSuperBetno_1 = {};
    this.btnSuperBetno_2 = {};
    this.SB_STEP_ROTATION_ANGEL = 35;
    this.minionArray = null;
    this.inFeature = !1;
    this.minionfalling = Array(5);
    this.light = Array(5);
    this.light[0] = new Light;
    this.light[1] = new Light;
    this.light[2] = new Light;
    this.light[3] = new Light;
    this.light[4] = new Light;
    this.SP_SHIFT_TIME = 300;
    this.superBetLogoImg = null;
    this.light[0].x = 84;
    this.light[0].y = 5;
    this.light[1].x = 223;
    this.light[1].y = 5;
    this.light[2].x = 366;
    this.light[2].y = 5;
    this.light[3].x = 505;
    this.light[3].y = 5;
    this.light[4].x = 644;
    this.light[4].y = 5;
    this.minionfalling[0] = new MinionFalling(this.light[1]);
    this.minionfalling[1] = new MinionFalling(this.light[3]);
    this.minionfalling[2] = new MinionFalling(this.light[0]);
    this.minionfalling[3] = new MinionFalling(this.light[4]);
    this.minionfalling[4] = new MinionFalling(this.light[2]);
    var b = game.layout.minionFalling.st;
    this.minionfalling[4].x = b.m4.x;
    this.minionfalling[4].y = b.m4.y;
    b = game.layout.minionFalling.st.mask;
    this.minionfalling[4].setMask(b.x, b.y, b.w, b.h);
    AF.Movie.root.addChild(this.minionfalling[0]);
    AF.Movie.root.addChild(this.minionfalling[1]);
    AF.Movie.root.addChild(this.minionfalling[2]);
    AF.Movie.root.addChild(this.minionfalling[3]);
    AF.Movie.root.addChild(this.minionfalling[4]);
    this.superbetno_normal = spriteAssets.getByID("superbetno_normal").img;
    this.superbetno_glow = spriteAssets.getByID("superbetno_glow").img;
    this.initAssets = function() {
        this.btnSuperBetLogo = new TPSprite("superbetLogo");
        this.btnSuperBetLogo.qualityScale = 0.5;
        this.btnSuperBetLogo.y = -73;
        this.btnSuperBetLogo.x = 50;
        this.cont = new AF.Movie(50);
        this.cont.x = 785;
        this.cont.y = 270;
        this.cont.addChild(this.btnSuperBetLogo);
        this.btnSuperBetno_off = new Button(this.superbetno_normal,this.layout.superbetno_off);
        this.btnSuperBetno_off.hitPadding = this.layout.hitPadding;
        this.btnSuperBetno_1 = new Button(this.superbetno_normal,this.layout.superbetno_1);
        this.btnSuperBetno_1.hitPadding = this.layout.hitPadding;
        this.btnSuperBetno_2 = new Button(this.superbetno_normal,this.layout.superbetno_2);
        this.btnSuperBetno_2.hitPadding = this.layout.hitPadding;
        this.setButtonGlow()
    }
    ;
    this.changeOrientation = function(a) {
        this.layout.orient(a);
        this.btnSuperBetno_off.setPosition(this.layout.SUPER_BET_N0_OFF);
        this.btnSuperBetno_1.setPosition(this.layout.SUPER_BET_N0_1);
        this.btnSuperBetno_2.setPosition(this.layout.SUPER_BET_N0_2);
        this.setLight();
        this.cont.rotate = this.SB_STEP_ROTATION_ANGEL * (1 - this.superbetOption)
    }
    ;
    this.setLight = function() {
        for (var a = 0; a <= this.superbetOption; a++)
            this.light[2].setOn(),
            this.light[2 + a].setOn(),
            this.light[2 - a].setOn()
    }
    ;
    this.processClick = function(a) {
        if (0 == this.state && this.superState == this.SP_BET_STOP && (this.oldOption = this.superbetOption,
        this.btnSuperBetno_off.isOver(a) ? this.superbetOption = 0 : this.btnSuperBetno_1.isOver(a) ? this.superbetOption = 1 : this.btnSuperBetno_2.isOver(a) && (this.superbetOption = 2),
        this.oldOption != this.superbetOption))
            game.uapi_superBetChange(),
            this.superbetOption > this.oldOption ? (game.playSoundHQ("SuperBet-Up"),
            game.foxPupOnReelSounds.init(),
            playFeatureSound("Ch-Ching")) : (game.playSoundHQ("SuperBet-Down"),
            playFeatureSound("Flush")),
            this.setSuperBetState(this.SP_BET_CHANGE)
    }
    ;
    this.positionPlayButtons = function(a) {
        this.superBetBar.setPosition(a);
        this.superBetProgress.setPosition({
            x: a.x + 18,
            y: a.y + 13
        })
    }
    ;
    this.refreshPlayButton = function() {
        this.autoPlayMode = 0 < game.uapi_getAutoPlayGames() ? this.AUTO_WAITING_TO_START : this.AUTO_OFF
    }
    ;
    this.processClickRelease = function() {}
    ;
    this.buttonsUp = function() {}
    ;
    this.enable = function() {
        0 == game.ui.state ? (this.btnSuperBetno_off.isDisabled = !1,
        this.btnSuperBetno_1.isDisabled = !1,
        this.btnSuperBetno_2.isDisabled = !1) : this.disable()
    }
    ;
    this.disable = function() {
        this.btnSuperBetno_off.isDisabled = !0;
        this.btnSuperBetno_1.isDisabled = !0;
        this.btnSuperBetno_2.isDisabled = !0
    }
    ;
    this.draw = function() {
        this.btnSuperBetno_off.draw(ctx);
        this.btnSuperBetno_1.draw(ctx);
        this.btnSuperBetno_2.draw(ctx);
        ctx.save();
        this.cont ? this.cont.draw(ctx) : this.btnSuperBetLogo.draw(ctx);
        ctx.restore();
        for (var a = 0; 5 > a; a++)
            this.light[a].draw(ctx);
        for (a = 0; 5 > a; a++)
            this.minionfalling[a].playing && this.minionfalling[a].draw(ctx)
    }
    ;
    this.updateSuperBetBar = function(a) {
        switch (this.superState) {
        case this.SP_BET_STOP:
            var b = this;
            setTimeout(function() {
                b.inFeature = !1
            }, 100);
            break;
        case this.SP_BET_CHANGE:
            this.reset || (this.inFeature = !0);
            this.superSlideTime -= a;
            if (0 > this.superSlideTime) {
                this.superSlideTime = 0;
                if (this.superbetOption > this.oldOption) {
                    for (var a = game.layout.minionFalling.st.mask, c = 0; 4 > c; c++)
                        this.minionfalling[c].setMask(a.x, a.y, a.w, a.h);
                    a = game.layout.minionFalling.st;
                    0 < this.superbetOption && (!this.minionfalling[0].minionIn && !this.minionfalling[1].minionIn) && (this.minionfalling[0].minionIn = !0,
                    this.minionfalling[1].minionIn = !0,
                    this.minionfalling[0].x = a.m0.x,
                    this.minionfalling[0].y = a.m0.y,
                    this.minionfalling[1].x = a.m1.x,
                    this.minionfalling[1].y = a.m1.y,
                    this.minionfalling[0].start(),
                    this.minionfalling[1].start());
                    1 < this.superbetOption && (!this.minionfalling[2].minionIn && !this.minionfalling[3].minionIn) && (this.minionfalling[2].minionIn = !0,
                    this.minionfalling[3].minionIn = !0,
                    this.minionfalling[2].x = a.m2.x,
                    this.minionfalling[2].y = a.m2.y,
                    this.minionfalling[3].x = a.m3.x,
                    this.minionfalling[3].y = a.m3.y,
                    this.minionfalling[2].start(),
                    this.minionfalling[3].start())
                } else if (this.superbetOption < this.oldOption) {
                    a = game.layout.minionFalling.out.mask;
                    for (c = 0; 4 > c; c++)
                        this.minionfalling[c].setMask(a.x, a.y, a.w, a.h);
                    a = game.layout.minionFalling.out;
                    1 > this.superbetOption && (this.minionfalling[0].minionIn && this.minionfalling[1].minionIn) && (this.minionfalling[0].minionIn = !1,
                    this.minionfalling[1].minionIn = !1,
                    this.minionfalling[0].x = a.m0.x,
                    this.minionfalling[0].y = a.m0.y,
                    this.minionfalling[1].x = a.m1.x,
                    this.minionfalling[1].y = a.m1.y,
                    this.minionfalling[0].start(),
                    this.minionfalling[1].start());
                    2 > this.superbetOption && (this.minionfalling[2].minionIn && this.minionfalling[3].minionIn) && (this.minionfalling[2].minionIn = !1,
                    this.minionfalling[3].minionIn = !1,
                    this.minionfalling[2].x = a.m2.x,
                    this.minionfalling[2].y = a.m2.y,
                    this.minionfalling[3].x = a.m3.x,
                    this.minionfalling[3].y = a.m3.y,
                    this.minionfalling[2].start(),
                    this.minionfalling[3].start())
                }
                this.oldOption = this.superbetOption;
                this.setSuperBetState(this.SP_BET_STOP);
                game.account.superbet = 0 == this.superbetOption ? 0 : 1 == this.superbetOption ? 10 : 2 == this.superbetOption ? 25 : 0;
                this.setButtonGlow();
                game.uapi_superBetChangeFinal()
            }
            this.SP_SHIFT_TIME > this.superSlideTime && (this.cont.rotate = this.SB_STEP_ROTATION_ANGEL * (1 - this.oldOption) + (this.SP_SHIFT_TIME - this.superSlideTime) / this.SP_SHIFT_TIME * this.SB_STEP_ROTATION_ANGEL * (this.oldOption - this.superbetOption))
        }
    }
    ;
    this.setButtonGlow = function() {
        this.btnSuperBetno_off.image = 0 == this.superbetOption ? this.superbetno_glow : this.superbetno_normal;
        this.btnSuperBetno_1.image = 1 == this.superbetOption ? this.superbetno_glow : this.superbetno_normal;
        this.btnSuperBetno_2.image = 2 == this.superbetOption ? this.superbetno_glow : this.superbetno_normal
    }
    ;
    this.setSuperBetState = function(a) {
        if (a != this.superState)
            switch (this.superState = a,
            this.superState) {
            case this.SP_BET_STOP:
                this.superSlideTime = this.SP_SHIFT_TIME;
                game.gameState != SS_FREEGAME_SUMMARY && game.setState(SS_STOPPED);
                game.showLines(!1);
                game.account.clearWin();
                this.reset && (this.reset = !1,
                this.enable(!0));
                break;
            case this.SP_BET_CHANGE:
                this.superSlideTime = this.SP_SHIFT_TIME
            }
    }
    ;
    this.resetSuperBet = function() {
        this.reset = !0;
        this.superbetOption = game.account.superbet = 0;
        this.setSuperBetState(this.SP_BET_CHANGE);
        ABMP = FreeRoundsBet_SB = FreeRoundsEnable_SB = null
    }
}
function GameUILayout() {
    this.orientation = 0;
    var b = isStandardQualityFlag() ? 0.5 : 1;
    this.superbetno_off = {
        nx: 0,
        ny: 176 * b,
        nwidth: 88 * b,
        nheight: 80 * b,
        dx: 0,
        dy: 176 * b,
        dwidth: 88 * b,
        dheight: 80 * b,
        designW: 44,
        designH: 40
    };
    this.superbetno_1 = {
        nx: 0,
        ny: 88 * b,
        nwidth: 88 * b,
        nheight: 88 * b,
        dx: 0,
        dy: 88 * b,
        dwidth: 88 * b,
        dheight: 88 * b,
        designW: 44,
        designH: 44
    };
    this.superbetno_2 = {
        nx: 0,
        ny: 0,
        nwidth: 88 * b,
        nheight: 88 * b,
        dx: 0,
        dy: 0,
        dwidth: 88 * b,
        dheight: 88 * b,
        designW: 44,
        designH: 44
    };
    this.hitPadding = 10;
    this.orient = function(a) {
        this.orientation = a;
        this.SUPER_BET_N0_OFF = {
            x: 817,
            y: 290
        };
        this.SUPER_BET_N0_1 = {
            x: 817,
            y: 245
        };
        this.SUPER_BET_N0_2 = {
            x: 817,
            y: 201
        };
        this.SUPER_BET_LOGO = {
            x: 835,
            y: 285
        };
        this.SB_SLIDER_Y_DIST = 43
    }
}
function adjustTooltipPositions(b) {
    b.layout.defaultSpinBtnTooltipOffset.x += TOOLTIP_PROPERTIES.spin.x;
    b.layout.defaultSpinBtnTooltipOffset.y += TOOLTIP_PROPERTIES.spin.y;
    b.layout.defaultStopBtnTooltipOffset.x += TOOLTIP_PROPERTIES.stop.x;
    b.layout.defaultStopBtnTooltipOffset.y += TOOLTIP_PROPERTIES.stop.y;
    b.layout.defaultContinueBtnTooltipOffset.x += TOOLTIP_PROPERTIES.continuebtn.x;
    b.layout.defaultContinueBtnTooltipOffset.y += TOOLTIP_PROPERTIES.continuebtn.y;
    b.layout.defaultBetUpTooltipOffset.x += TOOLTIP_PROPERTIES.betup.x;
    b.layout.defaultBetUpTooltipOffset.y += TOOLTIP_PROPERTIES.betup.y;
    b.layout.defaultBetDownTooltipOffset.x += TOOLTIP_PROPERTIES.betdown.x;
    b.layout.defaultBetDownTooltipOffset.y += TOOLTIP_PROPERTIES.betdown.y;
    b.layout.defaultBetMaxTooltipOffset.x += TOOLTIP_PROPERTIES.maxbet.x;
    b.layout.defaultBetMaxTooltipOffset.y += TOOLTIP_PROPERTIES.maxbet.y
}
;var NovaStorage = function() {
    var b = {}
      , a = "";
    this.init = function(d, c) {
        a = d;
        localStorage.getItem(a) ? (b = JSON.parse(localStorage.getItem(a)),
        b.version != c && (b = {},
        b.version = c,
        localStorage.setItem(a, JSON.stringify(b)))) : (b.version = c,
        localStorage.setItem(a, JSON.stringify(b)))
    }
    ;
    this.getItem = function(d) {
        if ("" == a)
            return null;
        b = JSON.parse(localStorage.getItem(a));
        return b[d]
    }
    ;
    this.setItem = function(d, c) {
        "" != a && (b = JSON.parse(localStorage.getItem(a)),
        b[d] = c,
        localStorage.setItem(a, JSON.stringify(b)))
    }
    ;
    this.clear = function() {
        localStorage.removeItem(a)
    }
};
var METRICS = METRICS || {};
function Metrics() {
    var b = 0
      , a = 0
      , d = 0
      , c = !1
      , e = 0
      , f = 0
      , g = !1
      , k = 0
      , p = 0
      , n = 0
      , q = 0
      , r = 0
      , l = 0
      , j = 0
      , o = 0
      , s = 0
      , y = 0
      , I = 0;
    this.getBinary = function(a, b) {
        var c = a.toString(2)
          , c = "00000000000000000000000000000000".substr(c.length) + c;
        return c = c.slice(32 - b)
    }
    ;
    this.start = function() {
        j = r = q = n = p = k = y = s = f = e = d = a = 0
    }
    ;
    this.init = function() {
        game.addOrientationListener(this.timePortrait);
        this.timePortrait();
        var a = navigator.userAgent.toLowerCase()
          , b = /iphone|ipad|ipod/i.test(a)
          , a = /Android/i.test(a);
        b && (o = 1);
        a && (o = 2);
        b = game.storage.getItem("returns");
        null != b ? (I = Number(b) + 1,
        game.storage.setItem("returns", I)) : game.storage.setItem("returns", 0);
        b = navigator.userAgent.toLowerCase();
        b.match(/.+(?:rv|it|ra|ie|me|ve)[\/: ]([\d.]+)/);
        /chrome/.test(b);
        /webkit/.test(b) && /chrome/.test(b);
        /opera/.test(b);
        /firefox/.test(b);
        /msie/.test(b) && /opera/.test(b);
        /mozilla/.test(b) && /(compatible|webkit)/.test(b);
        /[^like]{4} gecko/.test(b);
        /presto/.test(b);
        /xoom/.test(b);
        /android/.test(b);
        b.match(/.+(?:android)[\/: ]([\d.]+)/);
        /iphone|ipod/.test(b);
        (b.match(/.+(?:iphone\ os)[\/: ]([\d_]+)/) || [0, 0])[1].toString().split("_").join(".");
        /ipad/.test(b);
        (b.match(/.+(?:cpu\ os)[\/: ]([\d_]+)/) || [0, 0])[1].toString().split("_").join(".");
        /blackberry/.test(b);
        /Windows\ Phone/.test(b);
        b.match(/.+(?:windows\ phone\ os)[\/: ]([\d_]+)/)
    }
    ;
    this.setWelcomeSkipped = function() {
        l = 1
    }
    ;
    this.stopLoadTime = function() {
        var a = new Date;
        j = (a.getTime() - gLoadTimeStart) / 1E3;
        b = a.getTime()
    }
    ;
    this.timePortrait = function() {
        var b = new Date;
        0 == game.orientation ? c || (c = !0,
        d = b.getTime()) : c && (a += b.getTime() - d,
        c = !1)
    }
    ;
    this.timeSound = function() {
        var a = new Date;
        game.mute ? g && (e += a.getTime() - f,
        g = !1) : g || (g = !0,
        f = a.getTime())
    }
    ;
    this.addWin = function(a) {
        y += a
    }
    ;
    this.takeBet = function(a) {
        s += a
    }
    ;
    this.getString = function() {
        var x, z = "", w = new Date;
        x = "" + this.getBinary(1, 4);
        var B = Math.round((w.getTime() - b) / 1E3)
          , B = 0 == b ? 0 : 65535 <= B ? 65535 : B;
        x += this.getBinary(B, 16);
        x += this.getBinary(Number(GAME_ID), 11);
        x += this.getBinary(this.getRenderer(), 1);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = "" + this.getBinary(k, 6);
        x += this.getBinary(this.getJurisdiction(), 4);
        x += this.getBinary(n, 16);
        x += this.getBinary(this.getUI(), 1);
        x += this.getBinary(p, 1);
        x += this.getBinary("hq" == (windowObj.quality ? windowObj.quality : "sq") ? 1 : 0, 1);
        x += this.getBinary(l, 1);
        x += this.getBinary(0, 2);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = "" + this.getBinary(I, 14);
        B = windowObj.wrapperAPI("GET_WINDOW_SIZE");
        x += this.getBinary(Math.floor(B.w / 10), 9);
        x += this.getBinary(Math.floor(B.h / 10), 9);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = "" + this.getBinary(o, 16);
        B = ["1", "0", "0"];
        x += this.getBinary(Number(B[0]), 4);
        x += this.getBinary(Number(B[1]), 4);
        x += this.getBinary(Number(B[2]), 8);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        B = Number(a);
        c && (B += w.getTime() - d);
        x = Number(e);
        g && (x += w.getTime() - f);
        var A = w.getTime() - b
          , w = 0 == A ? 0 : Math.floor(100 * (B / A))
          , B = 0 == A ? 0 : Math.floor(100 * (x / A));
        x = "" + this.getBinary(Math.round(j), 9);
        x += this.getBinary(0, 6);
        x += this.getBinary(w, 7);
        x += this.getBinary(0, 3);
        x += this.getBinary(B, 7);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = "" + this.getBinary(r, 16);
        x += this.getBinary(q, 16);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = this.getBinary(s, 32);
        z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8);
        x = this.getBinary(y, 32);
        return z += ("00000000" + parseInt(x, 2).toString(16)).slice(-8)
    }
    ;
    this.decodeTest = function(a) {
        function b(a, c) {
            return Array(Math.max(c - a.length + 1, 0)).join("0") + a
        }
        var c = a.substr(0, 8)
          , c = parseInt(c, 16).toString(2)
          , c = b(c, 32);
        console.log("=======================");
        var d = 0;
        console.log("Ver: " + Number(c.substr(d, 4)));
        d += 4;
        console.log("\nSession Time: " + parseInt(c.substr(d, 16), 2).toString(10));
        d += 16;
        console.log("\ngame ID: " + parseInt(c.substr(d, 11), 2).toString(10));
        d += 11;
        console.log("\nrenderer: " + parseInt(c.substr(d, 1), 2).toString(10));
        d += 1;
        d = 0;
        c = a.substr(8, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nlanguage ID: " + parseInt(c.substr(d, 6), 2).toString(10));
        d += 6;
        console.log("\njurisdiction: " + parseInt(c.substr(d, 4), 2).toString(10));
        d += 4;
        console.log("Total Spins: " + parseInt(c.substr(d, 16), 2).toString(10));
        d += 16;
        console.log("\nUI: " + parseInt(c.substr(d, 1), 2).toString(10));
        d += 1;
        console.log("\nRecovery: " + parseInt(c.substr(d, 1), 2).toString(10));
        d += 1;
        console.log("\nQuality: " + parseInt(c.substr(d, 1), 2).toString(10));
        d += 1;
        console.log("\nWelcome Skipped: " + parseInt(c.substr(d, 1), 2).toString(10));
        d += 1;
        console.log("\nEffects Quality: " + parseInt(c.substr(d, 2), 2).toString(10));
        d += 1;
        d = 0;
        c = a.substr(16, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nReturns: " + parseInt(c.substr(d, 14), 2).toString(10));
        var d = d + 14
          , e = 10 * Number(parseInt(c.substr(d, 9), 2).toString(10))
          , d = d + 9;
        console.log("\nwindow size: " + e + " x " + 10 * Number(parseInt(c.substr(d, 9), 2).toString(10)));
        d += 9;
        d = 0;
        c = a.substr(24, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        e = "";
        console.log("\nUserAgent: " + parseInt(c.substr(d, 16), 2).toString(10));
        d += 16;
        e += parseInt(c.substr(d, 4), 2).toString(10) + ".";
        d += 4;
        e += parseInt(c.substr(d, 4), 2).toString(10) + ".";
        d += 4;
        e += parseInt(c.substr(d, 8), 2).toString(10);
        d += 8;
        console.log("Game Version: " + e);
        d = 0;
        c = a.substr(32, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nLoad time: " + parseInt(c.substr(d, 9), 2).toString(10));
        d += 9;
        console.log("\nAverage Frame Rate: " + parseInt(c.substr(d, 6), 2).toString(10));
        d += 6;
        console.log("\n% time in portrait: " + parseInt(c.substr(d, 7), 2).toString(10));
        d += 7;
        console.log("\nUI Position: " + parseInt(c.substr(d, 3), 2).toString(10));
        d += 3;
        console.log("\n% time with sound on: " + parseInt(c.substr(d, 7), 2).toString(10));
        d += 7;
        d = 0;
        c = a.substr(40, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nAuto Spins: " + parseInt(c.substr(d, 16), 2).toString(10));
        d += 16;
        console.log("\nFree Spins: " + parseInt(c.substr(d, 16), 2).toString(10));
        d += 16;
        d = 0;
        c = a.substr(48, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nTotal Bet: " + parseInt(c.substr(d, 32), 2).toString(10));
        d += 32;
        d = 0;
        c = a.substr(56, 8);
        c = parseInt(c, 16).toString(2);
        c = b(c, 32);
        console.log("\nTotal Win: " + parseInt(c.substr(d, 32), 2).toString(10));
        d += 32;
        console.log("=======================")
    }
    ;
    this.setLangCode = function(a) {
        switch (a) {
        case "en":
            k = 0;
            break;
        case "da":
            k = 1;
            break;
        case "de":
            k = 2;
            break;
        case "el":
            k = 3;
            break;
        case "es":
            k = 4;
            break;
        case "eu":
            k = 5;
            break;
        case "fi":
            k = 6;
            break;
        case "fr":
            k = 7;
            break;
        case "it":
            k = 8;
            break;
        case "ja":
            k = 9;
            break;
        case "ko":
            k = 10;
            break;
        case "nl":
            k = 11;
            break;
        case "no":
            k = 12;
            break;
        case "pl":
            k = 13;
            break;
        case "pt":
            k = 14;
            break;
        case "pt":
            k = 15;
            break;
        case "ru":
            k = 16;
            break;
        case "sv":
            k = 17;
            break;
        case "sl":
            k = 18;
            break;
        case "tr":
            k = 19;
            break;
        case "ro":
            k = 20;
            break;
        case "th":
            k = 21;
            break;
        case "cs":
            k = 22;
            break;
        case "hu":
            k = 23;
            break;
        case "sk":
            k = 24;
            break;
        case "bg":
            k = 25;
            break;
        case "hr":
            k = 26;
            break;
        case "he":
            k = 27;
            break;
        case "et":
            k = 28;
            break;
        case "ka":
            k = 29;
            break;
        case "lv":
            k = 30;
            break;
        case "lt":
            k = 31;
            break;
        case "zh_cn":
            k = 32;
            break;
        case "zh_tw":
            k = 33;
            break;
        default:
            k = 34
        }
    }
    ;
    this.setCurrencyCode = function(a) {
        switch (a) {
        case "SEK":
            currencyCode = 752;
            break;
        case "EUR":
            currencyCode = 978;
            break;
        case "GBP":
            currencyCode = 826;
            break;
        case "USD":
            currencyCode = 840;
            break;
        case "NOK":
            currencyCode = 578;
            break;
        case "DKK":
            currencyCode = 208;
            break;
        case "BRL":
            currencyCode = 986;
            break;
        case "JPY":
            currencyCode = 392;
            break;
        case "TRY":
            currencyCode = 949;
            break;
        case "AUD":
            currencyCode = 30;
            break;
        case "CAD":
            currencyCode = 124;
            break;
        case "NZD":
            currencyCode = 554;
            break;
        case "ZAR":
            currencyCode = 710;
            break;
        case "BGN":
            currencyCode = 975;
            break;
        case "CZK":
            currencyCode = 203;
            break;
        case "LVL":
            currencyCode = 428;
            break;
        case "PLN":
            currencyCode = 985;
            break;
        case "HUF":
            currencyCode = 348;
            break;
        case "RUB":
            currencyCode = 643;
            break;
        case "INR":
            currencyCode = 356;
            break;
        case "CNY":
            currencyCode = 156;
            break;
        case "CHF":
            currencyCode = 756;
            break;
        case "HRK":
            currencyCode = 191;
            break;
        case "RON":
            currencyCode = 946;
            break;
        case "LTL":
            currencyCode = 440;
            break;
        case "ARS":
            currencyCode = 26;
            break;
        case "ISK":
            currencyCode = 352;
            break;
        case "TWD":
            currencyCode = 901;
            break;
        case "MXN":
            currencyCode = 484;
            break;
        case "MYR":
            currencyCode = 458;
            break;
        case "SGD":
            currencyCode = 702;
            break;
        case "THB":
            currencyCode = 764;
            break;
        case "HKD":
            currencyCode = 344;
            break;
        case "GEL":
            currencyCode = 981;
            break;
        case "UAH":
            currencyCode = 980;
            break;
        case "BIF":
            currencyCode = 108;
            break;
        case "XAF":
            currencyCode = 950;
            break;
        case "CDF":
            currencyCode = 976;
            break;
        case "ZMW":
            currencyCode = 967;
            break;
        case "AMD":
            currencyCode = 41;
            break;
        case "NGN":
            currencyCode = 566;
            break;
        case "VEF":
            currencyCode = 937;
            break;
        case "KRW":
            currencyCode = 410;
            break;
        case "PEN":
            currencyCode = 604;
            break;
        case "IDR":
            currencyCode = 360;
            break;
        case "PHP":
            currencyCode = 608;
            break;
        case "VND":
            currencyCode = 704;
            break;
        case "COP":
            currencyCode = 170;
            break;
        case "UYU":
            currencyCode = 858;
            break;
        case "CFA":
            currencyCode = 952;
            break;
        case "MMK":
            currencyCode = 104;
            break;
        case "RSD":
            currencyCode = 941;
            break;
        case "GHS":
            currencyCode = 936;
            break;
        case "CLP":
            currencyCode = 152;
            break;
        case "PYG":
            currencyCode = 600;
            break;
        case "CDT":
            currencyCode = 1;
            break;
        default:
            currencyCode = 0
        }
    }
    ;
    this.getJurisdiction = function() {
		console.log("#####GAME_INTERACTION-WindowObj at get jurisdiction from customsettings");
        return "ukgc" == windowObj.getCustomSettings().jurisdiction.toLowerCase() ? 1 : "lt" == windowObj.getCustomSettings().jurisdiction.toLowerCase() ? 2 : 0
    }
    ;
    this.getRenderer = function() {
        return 0
    }
    ;
    this.getUI = function() {
		console.log("#####GAME_INTERACTION-WindowObj at get quality for getUI");
        return "hq" == (windowObj.quality ? windowObj.quality : "sq") || !iphone && !android && 0 < iOS ? 0 : 1
    }
    ;
    this.setRecovered = function() {
        p = 1
    }
    ;
    this.addSpin = function(a) {
        n++;
        switch (a) {
        case 1:
            r++;
            break;
        case 2:
            q++
        }
    }
}
;function GameViewManager() {
    this.dynamicResolution = !1;
    this.designViewWidth = 960;
    this.designViewHeight = 600;
    this.minCanvasWidth = 960;
    this.minCanvasHeight = 600;
    this.maxCanvasHeight = this.maxCanvasWidth = 1920;
    this.canvasScale = this.viewScale = 1;
    this.styleHeight = this.styleWidth = this.canvasOriginY = this.canvasOriginX = this.canvasHeight = this.canvasWidth = 0;
    this.topBarHeight = 32;
    this.dirtyList = [];
    this.addDirtyObject = function(b) {
        this.dirtyList.push(b)
    }
    ;
    this.setDirtyFlags = function() {
        for (var b in this.dirtyList)
            this.dirtyList[b].dirty = !0
    }
}
document.documentElement.addEventListener("gesturestart", function(b) {
    b.preventDefault()
}, !1);
var gameViewMan = new GameViewManager
  , userAgent = navigator.userAgent.toLowerCase()
  , iphone = /iphone/i.test(userAgent)
  , chrome = /crios/i.test(userAgent)
  , fullscreen = window.navigator.standalone
  , android = /android/i.test(userAgent)
  , iosVer = parseFloat(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || -1
  , iOS = parseInt(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || -1
  , loaded = !1
  , gameConfig = new gameConfiguration
  , iphone_uiwebview = /(iphone).*AppleWebKit(?!.*Safari)/i.test(userAgent) && !window.navigator.standalone;
function gameConfiguration() {
    this.extraBet = this.way243 = !1;
    this.drawPaylines = this.drawPaylineEnds = this.drawSymbols = !0;
    if ("undefined" != typeof gameConfigParameters)
        for (var b in gameConfigParameters)
            gameConfigParameters.hasOwnProperty(b) && (this[b] = gameConfigParameters[b]);
    this.way243 && (this.drawPaylines = this.drawPaylineEnds = !1)
}
var SS_INIT = 0, SS_STOPPED = 1, SS_SPINNING = 2, SS_WIN_PAYLINE = 3, SS_STOPPED_FREEGAMES = 4, SS_WIN_PAYLINE_FREEGAMES = 5, SS_PICK_FEATURE = 6, SS_FREEGAME_INTRO = 7, SS_FREEGAME_SUMMARY = 8, SS_SPINNING_STOPPED = 9, CS_INIT_0 = 0, CS_INIT_1 = 1, CS_INIT_2 = 2, CS_INITIALISED = 3, CS_ERROR = 4, WT_SMALL_WIN = 1, WT_MEDIUM_WIN = 2, WT_LARGE_WIN = 4, WT_SCATTER_WIN = 8, WT_SUBSTITUTE_WIN = 16, WT_FEATURE_TRIGGER = 32, WT_PICK_FEATURE_TRIGGER = 64, popup = document.getElementById("popup"), overlay = document.getElementById("overlay"), offset = 0, helpDiv, orientIndex = 0, gameDisplay = 1, gameXoffset = 0, gameScale = 0.1, assetsLoaded = !1, serverInitialised = !1, scrollMode = 0, anonymousMode = 0, ios7Fix = 1, iPhoneiOS7AboveBrowserMode = iPhoneiOS7AboveBrowserModeDetect(), getWindowObject = function() {
    return window.parent != window.self ? window.parent.window : window
}, windowObj = getWindowObject(), welcome = {}, clearPresetField = function() {
    0 < $("input[name='stops']").size() && $("input[name='stops']").val("")
};
console.log("#####GAME_INTERACTION-WindowObj get scroll mode and get anonymous mode");
"undefined" !== typeof windowObj.getScrollMode && (scrollMode = windowObj.getScrollMode());
"undefined" !== typeof windowObj.getAnonymousMode && (anonymousMode = windowObj.getAnonymousMode());
ngg_canvas = document.getElementById("c");
game_ctx = ctx = ngg_canvas.getContext("2d");
top_ctx = ngg_top_canvas = null;
console.log("#####GAME_INTERACTION-WindowObj at get size to set canvas size");
null !== document.getElementById("topcanvas") && (ngg_top_canvas = document.getElementById("topcanvas"),
top_ctx = ngg_top_canvas.getContext("2d"),
ngg_top_canvas.width = windowObj.getSize().w,
ngg_top_canvas.height = windowObj.getSize().h,
ngg_top_canvas.style.width = windowObj.getSize().w + "px",
ngg_top_canvas.style.height = windowObj.getSize().h + "px");
bottom_ctx = ngg_bottom_canvas = null;
null !== document.getElementById("bottomcanvas") && (ngg_bottom_canvas = document.getElementById("bottomcanvas"),
bottom_ctx = ngg_bottom_canvas.getContext("2d"),
ngg_bottom_canvas.width = windowObj.getSize().w,
ngg_bottom_canvas.height = windowObj.getSize().h,
ngg_bottom_canvas.style.width = windowObj.getSize().w + "px",
ngg_bottom_canvas.style.height = windowObj.getSize().h + "px");
ngg_canvas.width = Number(windowObj.getSize().w);
ngg_canvas.height = Number(windowObj.getSize().h);
document.getElementById("game").style.visibility = "visible";
void 0 !== typeof top_ctx && null !== top_ctx ? (ngg_top_canvas.addEventListener("touchstart", processTouchStart, !1),
ngg_top_canvas.addEventListener("touchend", processTouchEnd, !1),
ngg_top_canvas.addEventListener("touchmove", processTouchMove, !1)) : (ngg_canvas.addEventListener("touchstart", processTouchStart, !1),
ngg_canvas.addEventListener("touchend", processTouchEnd, !1),
ngg_canvas.addEventListener("touchmove", processTouchMove, !1));
Object.getPrototypeOf(ctx).fillRectR = function(b, a, d, c, e) {
    typeof e === "undefined" && (e = 5);
    this.beginPath();
    this.moveTo(b + e, a);
    this.lineTo(b + d - e, a);
    this.quadraticCurveTo(b + d, a, b + d, a + e);
    this.lineTo(b + d, a + c - e);
    this.quadraticCurveTo(b + d, a + c, b + d - e, a + c);
    this.lineTo(b + e, a + c);
    this.quadraticCurveTo(b, a + c, b, a + c - e);
    this.lineTo(b, a + e);
    this.quadraticCurveTo(b, a, b + e, a);
    this.closePath();
    this.fill()
}
;
Object.getPrototypeOf(ctx).strokeRectR = function(b, a, d, c, e) {
    typeof e === "undefined" && (e = 5);
    this.beginPath();
    this.moveTo(b + e, a);
    this.lineTo(b + d - e, a);
    this.quadraticCurveTo(b + d, a, b + d, a + e);
    this.lineTo(b + d, a + c - e);
    this.quadraticCurveTo(b + d, a + c, b + d - e, a + c);
    this.lineTo(b + e, a + c);
    this.quadraticCurveTo(b, a + c, b, a + c - e);
    this.lineTo(b, a + e);
    this.quadraticCurveTo(b, a, b + e, a);
    this.closePath();
    this.stroke()
}
;
bkcanv = document.createElement("canvas");
bkcanv.width = 100;
bkcanv.height = 1200;
bkctx = bkcanv.getContext("2d");
bkcanv2 = document.createElement("canvas");
bkcanv2.width = 100;
bkcanv2.height = 800;
bkctx2 = bkcanv2.getContext("2d");
var paylineEndsLeftSize = {
    w: 10,
    h: 10
}
  , paylineEndsRightSize = {
    w: 10,
    h: 10
};
function calculatePaylineEndSizes() {
    paylineEndsLeftSize.w = game.layout.paylineEndWidth;
    paylineEndsRightSize.w = game.layout.paylineEndWidth;
    for (var b = 0, a = 0; a < game.account.NUM_PAYLINES; a++)
        if (game.layout.paylineEndPositions[a][0].y > b)
            b = game.layout.paylineEndPositions[a][0].y;
    b = b + game.layout.paylineEndHeight;
    paylineEndsLeftSize.h = b;
    paylineEndsRightSize.h = b
}
function createPaylineTexture2() {
    bkctx2.save();
    bkctx2.clearRect(0, 0, bkcanv2.width, bkcanv2.height);
    for (var b = game.layout.paylineEndWidth, a = game.layout.paylineEndHeight, d = 0; d < game.account.NUM_PAYLINES; d++) {
        bkctx2.globalAlpha = game.account.paylinesSelected > d ? 1 : 0.3;
        bkctx2.drawImage(bkcanv, 0, a * d, b, a, game.layout.paylineEndPositions[d][0].x, game.layout.paylineEndPositions[d][0].y, b, a);
        game.layout.paylineEndPositions[d].length > 1 && bkctx2.drawImage(bkcanv, 0, a * d, b, a, game.layout.paylineEndPositions[d][1].x, game.layout.paylineEndPositions[d][1].y, b, a)
    }
    bkctx2.restore()
}
function createPaylineTexture(b) {
    Object.getPrototypeOf(b).fillRectR = function(a, b, c, d, e) {
        typeof e === "undefined" && (e = 5);
        this.beginPath();
        this.moveTo(a + e, b);
        this.lineTo(a + c - e, b);
        this.quadraticCurveTo(a + c, b, a + c, b + e);
        this.lineTo(a + c, b + d - e);
        this.quadraticCurveTo(a + c, b + d, a + c - e, b + d);
        this.lineTo(a + e, b + d);
        this.quadraticCurveTo(a, b + d, a, b + d - e);
        this.lineTo(a, b + e);
        this.quadraticCurveTo(a, b, a + e, b);
        this.closePath();
        this.fill()
    }
    ;
    Object.getPrototypeOf(b).strokeRectR = function(a, b, c, d, e) {
        typeof e === "undefined" && (e = 5);
        this.beginPath();
        this.moveTo(a + e, b);
        this.lineTo(a + c - e, b);
        this.quadraticCurveTo(a + c, b, a + c, b + e);
        this.lineTo(a + c, b + d - e);
        this.quadraticCurveTo(a + c, b + d, a + c - e, b + d);
        this.lineTo(a + e, b + d);
        this.quadraticCurveTo(a, b + d, a, b + d - e);
        this.lineTo(a, b + e);
        this.quadraticCurveTo(a, b, a + e, b);
        this.closePath();
        this.stroke()
    }
    ;
    var a = game.layout.paylineEndWidth
      , d = game.layout.paylineEndHeight
      , c = game.layout.paylineEndFontSize
      , e = new Text;
    e.font = c + "px arial";
    e.align = "center";
    e.m_Color = "#FFFFFF";
    e.stroke_0_Color = "black";
    e.stroke_0_Width = 3;
    for (var f = 0; f < game.account.NUM_PAYLINES; f++) {
        b.beginPath();
        b.lineWidth = 2;
        b.strokeStyle = game.layout.paylineColours[f];
        var g = b.createLinearGradient(0, d * f, 0, d * f + d);
        g.addColorStop(0, "rgb(255,255,255)");
        g.addColorStop(0.4, game.layout.paylineColours[f]);
        g.addColorStop(0.8, game.layout.paylineColours[f]);
        g.addColorStop(1, "rgb(0,0,0)");
        b.fillStyle = g;
        b.fillRectR(0, d * f, a, d, 10);
        g = b.createLinearGradient(0, d * f, 0, d * f + d);
        g.addColorStop(0, "rgb(100,100,100)");
        g.addColorStop(0.2, "rgb(100,100,100)");
        g.addColorStop(0.8, "rgb(100,100,100)");
        g.addColorStop(1, "rgb(0,0,0)");
        b.strokeStyle = g;
        b.strokeRectR(1, d * f + 1, a - 2, d - 2, 10);
        e.m_Text = f + 1;
        e.setPosition({
            x: a / 2,
            y: d * f + (d - c) / 2 + c - 2
        });
        e.draw(b)
    }
}
function valueChanged(b, a) {
    try {
        if (b == "MUTE")
            METRICS.timeSound();
        else if (b == "ROUND" && a == 0) {
            METRICS.addWin(parseInt(game.slotResult.winAmount));
			console.log("#####GAME_INTERACTION-WindowObj wrapper API metrics for round");
            windowObj.wrapperAPI("METRICS", METRICS.getString())
        }
    } catch (d) {}
	console.log("#####GAME_INTERACTION-WindowObj value changed "+b+" "+a);
    typeof windowObj.valueChanged === "function" && windowObj.valueChanged(b, a)
}
function delegatedErrorHandling(b, a, d) {
	console.log("#####GAME_INTERACTION-WindowObj at delegate error handling");
    if (typeof windowObj.delegatedErrorHandling === "function") {
        windowObj.delegatedErrorHandling(b, a, d);
        return true
    }
    return false
}
function isTouchDevice() {
    try {
        document.createEvent("TouchEvent");
        return true
    } catch (b) {
        return false
    }
}
function isIOS8() {
    var b = navigator.userAgent.toLowerCase();
    return /(iphone|ipod|ipad) os 8_/.test(b)
}
function touchScroll(b) {
    if (iOS) {
        document.getElementById(b);
        var a = 0;
        document.getElementById(b).addEventListener("touchstart", function(b) {
            game.showRules && (a = scrollMode == 2 && navigator.userAgent.match(/iPhone/i) ? this.scrollTop + b.touches[0].pageY * 2 : this.scrollTop + b.touches[0].pageY)
        }, false);
        document.getElementById(b).addEventListener("touchmove", function(b) {
            if (game.showRules) {
                this.scrollTop = scrollMode == 2 && navigator.userAgent.match(/iPhone/i) ? a - b.touches[0].pageY * 2 : a - b.touches[0].pageY;
                b.preventDefault()
            }
        }, false)
    }
}
var togglehelpFormat = function() {
    if (game != void 0 && game.showRules)
        if (navigator.userAgent.match(/iPad/i)) {
            $("#helpDiv1").find(".helpblockbackground").css("height", "170px");
            $("#helpDiv2").find(".helpblockbackground").css("height", "120px");
            $("#helpDiv").size() > 0 && (scrollMode == 0 ? $("#helpDiv").css({
                "-webkit-overflow-scrolling": "auto"
            }) : scrollMode == 1 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }) : scrollMode == 2 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }) : scrollMode == 3 && $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }))
        } else if (navigator.userAgent.match(/iPhone/i)) {
            $("#helpDiv1").find(".helpblockbackground").css("height", "235px");
            $("#helpDiv2").find(".helpblockbackground").css("height", "155px");
            $("#helpDiv2").find(".helpblockbackground").css("width", "250px");
            $("#helpDiv1").find(".helpblockbackground div:eq(0) img").css("margin-top", "36px");
            $("#helpDiv1").find(".helpblockbackground div:eq(1) img").css("margin-top", "20px");
            $("#helpDiv").size() > 0 && (scrollMode == 0 ? $("#helpDiv").css({
                "-webkit-overflow-scrolling": "auto"
            }) : scrollMode == 1 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }) : scrollMode == 2 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h * 2 + "px"
            }) : scrollMode == 3 && $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h - 30 + "px"
            }))
        } else {
            $("#helpDiv1").find(".helpblockbackground").css("height", "170px");
            $("#helpDiv2").find(".helpblockbackground").css("height", "120px");
            $("#helpDiv").size() > 0 && (scrollMode == 0 ? $("#helpDiv").css({
                "-webkit-overflow-scrolling": "auto"
            }) : scrollMode == 1 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }) : scrollMode == 2 ? $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h * 2 + "px"
            }) : scrollMode == 3 && $("#helpDiv").css({
                overflow: "scroll",
                "-webkit-overflow-scrolling": "touch",
                height: windowObj.getSize().h + "px"
            }))
        }
    correctIphoneHelpText()
};
function iPhoneiOS7AboveBrowserModeDetect() {
    return !fullscreen && iOS >= 7 && iphone && ios7Fix == 1 && !chrome && !iphone_uiwebview
}
var game = new Game
  , firstSoundPlayed = !1
  , waitForSoundToLoad = !1
  , silentAudioPlayed = !1
  , soundLoadingDone = !1
  , fixFor888 = !1;
soundStopped = function() {
    if (!firstSoundPlayed) {
        firstSoundPlayed = true;
        game.api_firstSoundPlayed();
        if (waitForSoundToLoad && !loaded) {
            welcome.soundFinishedLoading();
            beginGameLoop()
        }
    }
}
;
soundLoadded = function() {
    try {
        METRICS.timeSound()
    } catch (b) {}
    soundLoadingDone = true
}
;
var repaint = function() {
    if ($("#blankdiv").size() == 0) {
        $("#game").append($("<div id='blankdiv'></div>"));
        setTimeout(function() {
            $("#blankdiv").remove()
        }, 100)
    } else
        $("#blankdiv").remove()
};
function Game() {
    this.modalState = 1;
    this.historyMode = false;
    this.marginBottom = 60;
    this.frEnabled = false;
    this.setHistoryMode = function(a) {
        if (a) {
            this.historyMode = a;
            this.ui.disableUI(true);
            this.api_disableGameUI(true);
            this.reelMan.setFastSpin(true)
        }
    }
    ;
    this.showRTP = true;
    this.RTPvalue = "";
    this.ui = new ui(gameConfig);
    this.useUI3 = this.disablePortraitMode = this.mute = false;
    if (typeof this.ui.isUI3 != "undefined")
        this.disablePortraitMode = this.useUI3 = true;
    this.setGameMargin = function(a) {
        this.marginBottom = a
    }
    ;
    this.pausedAudioInPortrait = this.soundsLoaded = false;
    this.playSound = function(a) {
        this.soundsLoaded && !this.mute && this.myPlayer.play(a)
    }
    ;
    this.stopSound = function() {
        this.soundsLoaded && firstSoundPlayed && (arguments.length > 0 ? this.myPlayer.stop(arguments[0]) : this.myPlayer.stop())
    }
    ;
    this.unloadSound = function() {
        this.soundsLoaded && this.myPlayer.unload()
    }
    ;
    this.pauseSound = function() {
        return this.soundsLoaded && !this.mute ? this.myPlayer.pause() : null
    }
    ;
    this.resumeSound = function() {
        this.soundsLoaded && !this.mute && this.myPlayer.resume()
    }
    ;
    this.setVolume = function(a) {
        this.soundsLoaded && !this.mute && this.myPlayer.setVolume(a)
    }
    ;
    this.isSoundPlaying = function() {
        return this.soundsLoaded && !this.mute ? this.myPlayer.isPlaying() : false
    }
    ;
    this.initAudioPlayer = function() {
        if (this.myPlayer === void 0 && !this.soundsLoaded && typeof gAudioSettings !== "undefined") {
            try {
                METRICS.timeSound()
            } catch (a) {}
            this.myPlayer = new howlerWrapper;
            this.myPlayer.player(gAudioSettings);
            this.soundsLoaded = true
        }
    }
    ;
    this.layout = new Layout;
    this.account = new Account(0,gameConfig);
    this.slotResult = new SlotResult;
    this.recoverySlotResult = new SlotResult;
    this.freeGames = new CFreeGames;
    this.reelMan = {};
    this.message = null;
    this.ASSET_MANAGER = new AssetManager;
    this.freeRounds = new FreeRounds;
    this.orientation = 1;
    this.bShowFreeSpinBg = this.showRules = false;
    this.gLoop = {};
    this.canvasYoffset = 32;
    this.defaultStops = [0, 0, 0, 0, 0];
    this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY = 5E3;
    this.imageReelBG = {};
    this.imageReelBGfree = {};
    this.imageReelBGWin = {};
    this.imageGameName = {};
    this.imageTurnDevice = {};
    this.imagePaylineEnds = null;
    this.FGAlpha = 0;
    this.FGAlphaDuration = 1E3;
    this.idleTextIndex = -1;
    this.idleTextTimer = this.idleTextDelay = 3E3;
    this.messageBar = new Text;
    this.gSymbolsImg = {};
    this.gSym00Tex = {};
    this.gSym11Tex = {};
    this.paylines = [];
    this.gCurrentFlash = this.gWinFlashTime = 0;
    this.FLASH_DELAY = 250;
    this.NUM_FLASHES_PER_PAYLINE = 6;
    this.gCurrentPaylineIndex = this.gNumCycles = 0;
    this.NUM_FLASHES_ALL_LINE = 1;
    this.paylineShowDelay = 0;
    this.AUTOPLAY_DELAY = 500;
    this.autoPlay = false;
    this.autoPlayTimer = 0;
    this.requestToStopAutoPlay = false;
    this.autoPlayGamesToPlay = this.autoPlayGames = 0;
    this.maxAutoPlays = 50;
    this.gameState = SS_STOPPED;
    this.commsState = CS_INIT_0;
    this.WIN_ROLLUP_TIME = 2E3;
    this.WIN_SNAP_DELAY = 1E3;
    this.WIN_METER_DISPLAY_TIME = 5E3;
    this.winMeterTargetAmount = this.winMeterCurrentAmount = 0;
    this.winMeterIncrementCounter = this.WIN_ROLLUP_TIME;
    this.winMeterLastAmount = this.winMeterDisplayCounter = 0;
    this.inRecovery = this.dontShowWinMeterOnRecovery = false;
    this.previousTime = 0;
    this.opt_win = this.opt_bet = this.opt_balance = -1;
    this.featureStarted = this.showOldMeters = false;
    this.clock = new Clock;
    this.meters = new Meters;
    this.jackpotMeters = new JackPotMeters;
    this.jackpotMetersBackgroundCol = this.jackpotMeters.meterBackroundGradient;
    this.redraw = 5;
    this.gEnableUI = true;
    this.enableAllUI = function(a) {
        this.gEnableUI = a
    }
    ;
    this.singlewinlimit = this.losslimit = 0;
    this.autoPlayPaused = false;
    this.pauseAutoPlay = function(a) {
        if (this.autoPlay)
            this.autoPlayPaused = a
    }
    ;
    this.stopAutoPaly = function(a) {
        if (a && this.autoPlay) {
            this.useUI3 && this.ui.autoPlayMan.endSession();
            this.requestToStopAutoPlay = this.autoPlay = false;
            this.ui.autoPlayMode = this.ui.AUTO_OFF;
            this.autoPlayGames = 0
        }
    }
    ;
    this.api_winLineChoreography = function() {}
    ;
    this.api_winLineDirection = function() {}
    ;
    this.api_symbolAnimation = function() {}
    ;
    this.api_wildSoundCompleted = function() {
        return true
    }
    ;
    this.api_animateAllSymbols = function() {
        return true
    }
    ;
    this.api_processClick = function() {
        return false
    }
    ;
    this.api_processClickRelease = function() {
        return false
    }
    ;
    this.api_processTouchMove = function() {}
    ;
    this.api_buttonsUp = function() {}
    ;
    this.api_changeOrientation = function() {}
    ;
    this.api_switchReels = function() {}
    ;
    this.api_featureStart = function() {}
    ;
    this.api_processFeatureMsg = function() {
        return false
    }
    ;
    this.api_processResponseMsg = function() {}
    ;
    this.api_beginFeature = function() {}
    ;
    this.api_featureUpdate = function() {}
    ;
    this.api_inFeature = function() {
        return false
    }
    ;
    this.api_parseFeaturePrizes = function() {}
    ;
    this.api_drawBackground = function() {}
    ;
    this.api_drawSpecialSymbolBG = function() {}
    ;
    this.api_drawFeature = function() {}
    ;
    this.api_drawLowerLevelFeature = function() {}
    ;
    this.api_drawHigherLevelFeature = function() {}
    ;
    this.api_parseSSS = function() {}
    ;
    this.api_spinStarted = function() {}
    ;
    this.api_lastFreeGameFinish = function() {
        this.freeGames.m_bInFreeGames = false
    }
    ;
    this.api_beforeFirstFreeGame = function() {
        this.startSpin()
    }
    ;
    this.api_animateWins = function() {}
    ;
    this.api_stopWinAnims = function() {}
    ;
    this.api_parseFPM = function() {}
    ;
    this.api_parseCFP = function() {}
    ;
    this.api_processMsgEnd = function() {}
    ;
    this.api_startWinAnim = function() {}
    ;
    this.api_getABPM = function() {}
    ;
    this.api_afterAllReelsStopNoWin = function() {}
    ;
    this.api_autoDelayAfterFeature = function() {
        return false
    }
    ;
    this.api_drawWinAnim = function() {}
    ;
    this.api_playVerySmallWinAnim = function() {}
    ;
    this.api_playSmallWinAnim = function() {}
    ;
    this.api_playWinCelebration = function() {}
    ;
    this.api_spinningFeatureStopped = function() {
        return true
    }
    ;
    this.api_runSpinningStoppedFeature = function() {}
    ;
    this.api_startSpinAction = function() {}
    ;
    this.api_featureBtnEnable = function() {}
    ;
    this.api_featureBtnDisable = function() {}
    ;
    this.api_extendSpinMsg = function(a) {
        return a
    }
    ;
    this.api_fastFeatureTransition = function() {
        return false
    }
    ;
    this.api_playBigWinSounds = function() {
        return false
    }
    ;
    this.api_stopReelAnims = function() {
        return true
    }
    ;
    this.api_playFreeSpinSound = function() {}
    ;
    this.api_playSpinSound = function() {
        this.playSound("spin")
    }
    ;
    this.api_detectReelStop = function() {}
    ;
    this.api_playFreeWinSounds = function() {}
    ;
    this.api_startGame = function() {}
    ;
    this.api_resetWinMeterTimer = function() {}
    ;
    this.api_freeSpinBgChangeAction = function() {}
    ;
    this.api_processGSDMsg = function() {}
    ;
    this.api_updateHelpPageAfterLoaded = function() {
        setTimeout(function() {
            $("<div style='width:100px; height:10px' id='blankDiv'></div>").appendTo("#helpDiv");
            setTimeout(function() {
                $("#blankDiv").size() > 0 && $("#blankDiv").remove()
            }, 200)
        }, 200)
    }
    ;
    this.api_IsBonusFeatureTriggered = function() {
        return true
    }
    ;
    this.api_disableGameUI = function() {}
    ;
    this.api_mute = function() {}
    ;
    this.api_drawReelWithClip = function() {
        return 1
    }
    ;
    this.api_drawReelWithoutClip = function() {
        return 5
    }
    ;
    this.api_clippingRegion = function() {
        var a = [];
        a.push([[this.reelMan.X, this.reelMan.Y + this.layout.symbolHeight], [this.reelMan.X, this.reelMan.Y + this.layout.symbolHeight * (this.reelMan.numRows + 1)], [this.reelMan.X + this.layout.symbolWidth * 5 + this.layout.reelGap * 4, this.reelMan.Y + this.layout.symbolHeight * (this.reelMan.numRows + 1)], [this.reelMan.X + this.layout.symbolWidth * 5 + this.layout.reelGap * 4, this.reelMan.Y + this.layout.symbolHeight]]);
        return a
    }
    ;
    this.api_SetFreeRoundAnteBet = function() {}
    ;
    this.api_EnableFreeRoundAnteBet = function() {}
    ;
    this.api_updateReelFromMsg = function() {}
    ;
    this.api_skipDraw = function() {
        return false
    }
    ;
    this.api_priorityDraw = function() {}
    ;
    this.api_drawPaylinesOverSymbolsFlag = function() {
        return true
    }
    ;
    this.api_processResult = function() {}
    ;
    this.api_betChanged = function() {}
    ;
    this.api_beforeWelcomeHide = function() {}
    ;
    this.api_firstSoundPlayed = function() {}
    ;
    this.api_clearCanvas = function() {
        ctx.clearRect(0, 0, ngg_canvas.width, ngg_canvas.height)
    }
    ;
    this.api_isMetersUpdateableOnPayline = function() {
        return true
    }
    ;
    this.api_processJackpotMsg = function() {
        return false
    }
    ;
    this.api_handleJackpot = function() {}
    ;
    this.api_processJackpotUpdateMsg = function() {}
    ;
    this.api_orientationChange = function() {}
    ;
    this.api_postLoad = function() {}
    ;
    this.api_initSound = function() {}
    ;
    this.uapi_superbetChanged = function() {}
    ;
    this.uapi_setLines = function(a) {
        gameConfig.way243 ? this.account.setReels(a) : this.account.setPaylines(a);
        this.ui.insufficientFunds = !this.account.canBet();
        this.setState(SS_STOPPED);
        this.account.clearWin();
        createPaylineTexture2();
        this.paylineShowDelay = 0;
        this.api_betChanged()
    }
    ;
    this.uapi_lineUp = function() {
        this.account.incPaylines();
        this.ui.insufficientFunds = !this.account.canBet();
        this.paylineShowDelay = 2E3;
        this.setState(SS_STOPPED);
        this.showSelectedLines();
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("lines", this.account.paylinesSelected);
        createPaylineTexture2();
        this.api_betChanged()
    }
    ;
    this.uapi_lineDown = function() {
        this.account.decPaylines();
        this.ui.insufficientFunds = !this.account.canBet();
        this.paylineShowDelay = 2E3;
        this.setState(SS_STOPPED);
        this.showSelectedLines();
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("lines", this.account.paylinesSelected);
        createPaylineTexture2();
        this.api_betChanged()
    }
    ;
    this.uapi_reelUp = function() {
        this.account.incReels();
        this.ui.insufficientFunds = !this.account.canBet();
        this.setState(SS_STOPPED);
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("lines", this.account.reelsSelected);
        this.api_betChanged()
    }
    ;
    this.uapi_reelDown = function() {
        this.account.decReels();
        this.ui.insufficientFunds = !this.account.canBet();
        this.setState(SS_STOPPED);
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("lines", this.account.reelsSelected);
        this.api_betChanged()
    }
    ;
    this.uapi_setBet = function(a) {
        this.account.setBetIndex(a);
        this.ui.insufficientFunds = !this.account.canBet();
        this.paylineShowDelay = 0;
        this.setState(SS_STOPPED);
        this.showLines(false);
        this.account.clearWin();
        this.paylineShowDelay = 0;
        this.api_betChanged()
    }
    ;
    this.uapi_betUp = function() {
        this.account.incBetIndex();
        this.ui.insufficientFunds = !this.account.canBet();
        this.paylineShowDelay = 0;
        this.setState(SS_STOPPED);
        this.showLines(false);
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("bet", this.account.getBetPerLineStr());
        this.api_betChanged()
    }
    ;
    this.uapi_betDown = function() {
        this.account.decBetIndex();
        this.ui.insufficientFunds = !this.account.canBet();
        this.paylineShowDelay = 0;
        this.setState(SS_STOPPED);
        this.showLines(false);
        this.account.clearWin();
        this.playSound("click");
        this.ui.setMeterText("bet", this.account.getBetPerLineStr());
        this.api_betChanged()
    }
    ;
    this.uapi_autoplayUp = function() {
        this.autoPlayGames = this.autoPlayGames + 5;
        if (this.autoPlayGames > this.maxAutoPlays)
            this.autoPlayGames = 0;
        this.autoPlayGamesToPlay = this.autoPlayGames;
        this.ui.setMeterText("autoplay", this.autoPlayGames);
        this.playSound("click")
    }
    ;
    this.uapi_autoplayDown = function() {
        this.autoPlayGames = this.autoPlayGames - 5;
        if (this.autoPlayGames < 0)
            this.autoPlayGames = this.maxAutoPlays;
        this.autoPlayGamesToPlay = this.autoPlayGames;
        this.ui.setMeterText("autoplay", this.autoPlayGames);
        this.playSound("click")
    }
    ;
    this.uapi_setAutoPlayGameCount = function(a) {
        this.autoPlayGamesToPlay = this.autoPlayGames = a;
        this.ui.setMeterText("autoplay", this.autoPlayGames)
    }
    ;
    this.uapi_play = function() {
        this.paylineShowDelay = 0;
        this.startSpin()
    }
    ;
    this.uapi_startAutoplay = function() {
        if (!this.autoPlay) {
            if (typeof windowObj.autoPlayNotification !== "undefined") {
                this.losslimit = this.ui.autoPlayMan.getLossLimit();
                if (this.losslimit == Number.MAX_VALUE)
                    this.losslimit = -1;
                this.singlewinlimit = this.ui.autoPlayMan.getSingleWinLimit();
                if (this.singlewinlimit == Number.MAX_VALUE)
                    this.singlewinlimit = -1;
				console.log("#####GAME_INTERACTION-WindowObj at autoplay notification of game, loss limit and single win limits");
                windowObj.autoPlayNotification(this.autoPlayGames, this.losslimit, this.singlewinlimit)
            }
            this.paylineShowDelay = 0;
            this.startSpin();
            this.autoPlayGames--;
            this.ui.setMeterText("autoGame", this.autoPlayGames);
            this.autoPlay = true;
            this.ui.autoPlayMode = this.ui.AUTO_PLAYING
        }
    }
    ;
    this.uapi_stopAutoplay = function() {
        if (this.autoPlay) {
            this.requestToStopAutoPlay = true;
            this.ui.autoPlayMode = this.ui.AUTO_WAITING_TO_STOP
        }
    }
    ;
    this.uapi_home = function() {
		console.log("#####GAME_INTERACTION-WindowObj at home button pressed");
        if (windowObj.homeButtonPressed() == 0) {
            $("#popup").show();
            $("#overlay").show();
            this.modalState++
        }
    }
    ;
    this.uapi_cashier = function() {
		console.log("#####GAME_INTERACTION-WindowObj at game button pressed CASHIER");
        windowObj.gameButtonPressed("CASHIER")
    }
    ;
    this.uapi_info = function() {
        this.toggleHelp();
        this.playSound("click")
    }
    ;
    this.uapi_closePanel = function(a) {
        this.ui.autoPlayMode = this.autoPlayGames > 0 ? this.ui.AUTO_WAITING_TO_START : this.ui.AUTO_OFF;
        this.ui.setMeterText("autoGame", this.autoPlayGames);
        a && this.playSound("click")
    }
    ;
    this.uapi_getAutoPlayGames = function() {
        return this.autoPlayGames
    }
    ;
    this.uapi_openPanel = function() {
        gameConfig.way243 ? this.ui.setMeterText("lines", this.account.reelsSelected) : this.ui.setMeterText("lines", this.account.paylinesSelected);
        this.ui.setMeterText("bet", this.account.getBetPerLineStr());
        this.ui.setMeterText("autoplay", this.autoPlayGames);
        this.ui.insufficientFunds = !this.account.canBet();
        this.playSound("click")
    }
    ;
    this.uapi_mute = function(a) {
        if (this.mute = a)
            this.stopSound();
        else {
            this.playSound("silentaudio");
            this.playSound("click")
        }
        this.api_mute(this.mute);
        valueChanged("MUTE", this.mute)
    }
    ;
    this.processClick = function(a, b) {
        if (this.gEnableUI) {
            this.redraw = 5;
            var c = this.translateCoords(a)
              , e = welcome.processClick(a, b);
            this.initSound(e);
            if (!(this.modalState > 0) && e == -1) {
                this.ui.processClick(c);
                this.api_processClick(c)
            }
        }
    }
    ;
    this.initSound = function(a) {
        if (a == 1) {
            initSound(true);
            valueChanged("MUTE", false);
            this.mute = false
        } else if (a == 0) {
            initSound(false);
            valueChanged("MUTE", true);
            this.mute = true
        }
    }
    ;
    this.processClickRelease = function(a, b) {
        if (this.gEnableUI) {
            this.redraw = 5;
            var c = this.translateCoords(a);
            welcome.processClickRelease(a);
            if (!(this.modalState > 0) && !this.api_processClickRelease(c)) {
                this.ui.processClickRelease(c, b);
                if (this.soundsLoaded && !this.mute && !silentAudioPlayed && soundLoadingDone) {
                    this.playSound("silentaudio");
                    silentAudioPlayed = true
                }
            }
        }
    }
    ;
    this.buttonsUp = function() {
        this.ui.buttonsUp();
        this.api_buttonsUp();
        welcome.buttonsUp()
    }
    ;
    this.lowbalanceDialogPrompted = false;
    this.checkLowBalance = function() {
        if (!this.account.canBet() && !this.inRecovery && !this.historyMode) {
            if (this.useUI3)
                this.ui.insufficientFunds = !this.account.canBet();
            if (!this.lowbalanceDialogPrompted) {
                this.lowbalanceDialogPrompted = true;
                if (!delegatedErrorHandling("NOT_ENOUGH_BALANCE", TXT_NOT_ENOUGH_BALANCE, false)) {
                    typeof TXT_NOT_ENOUGH_BALANCE_WH_POPUP === "undefined" ? this.message.messageBox(TXT_WARNING, TXT_NOT_ENOUGH_BALANCE, [this.message.BTN_OK], "") : this.message.messageBox("", TXT_NOT_ENOUGH_BALANCE_WH_POPUP, [this.message.BTN_OK], "");
                    this.message.setVisibility(gameDisplay)
                }
            }
        }
    }
    ;
    this.calculateScale = function(a, b) {
        var c = gameViewMan.designViewWidth
          , e = gameViewMan.designViewHeight;
        this.freeRounds.inFreeRounds && (e = e + 32);
        if (gameViewMan.dynamicResolution === true) {
            var f, g;
            if (a < gameViewMan.minCanvasWidth || b < gameViewMan.minCanvasHeight) {
                f = a / gameViewMan.minCanvasWidth;
                g = b / gameViewMan.minCanvasHeight;
                gameViewMan.canvasScale = f < g ? f : g
            } else {
                f = a / gameViewMan.maxCanvasWidth;
                g = b / gameViewMan.maxCanvasHeight;
                gameViewMan.canvasScale = f > g ? f : g;
                if (gameViewMan.canvasScale < 1)
                    gameViewMan.canvasScale = 1
            }
            if (gameViewMan.canvasScale == 0)
                gameViewMan.canvasScale = 1;
            gameViewMan.canvasWidth = Math.floor(a / gameViewMan.canvasScale);
            gameViewMan.canvasHeight = Math.floor(b / gameViewMan.canvasScale);
            f = gameViewMan.canvasWidth / c;
            e = gameViewMan.canvasHeight / e;
            gameViewMan.viewScale = f > e ? e : f;
            gameViewMan.canvasOriginX = (gameViewMan.canvasWidth - c * gameViewMan.viewScale) / 2;
            gameViewMan.canvasOriginY = 0;
            gameScale = gameViewMan.canvasScale;
            gameXoffset = 0
        } else {
            this.freeRounds.inFreeRounds && (b = b - 32 * (b / 632));
            if (a / b > 1.65) {
                gameScale = b / 600;
                gameXoffset = a / 2 - 960 * gameScale / 2
            } else {
                gameScale = a / 960;
                gameXoffset = 0
            }
            gameViewMan.viewScale = 1;
            gameViewMan.canvasScale = gameScale;
            gameViewMan.canvasOriginX = 0;
            gameViewMan.canvasOriginY = 0;
            gameViewMan.canvasWidth = c;
            gameViewMan.canvasHeight = e
        }
        gameViewMan.styleWidth = gameViewMan.canvasWidth * gameViewMan.canvasScale;
        gameViewMan.styleHeight = gameViewMan.canvasHeight * gameViewMan.canvasScale;
        gameViewMan.setDirtyFlags()
    }
    ;
    this.translateCoords = function(a) {
        var b = gameViewMan.viewScale;
        return {
            x: Math.floor(((a.x - gameXoffset) / gameViewMan.canvasScale - gameViewMan.canvasOriginX) / b),
            y: Math.floor((a.y / gameViewMan.canvasScale - 32 * b) / b)
        }
    }
    ;
    this.changeOrientation = function(a) {
		console.log("#####GAME_INTERACTION-WindowObj at get size at change orientation");
        var b = Number(windowObj.getSize().w)
          , c = Number(windowObj.getSize().h);
        popup.style.width = b + "px";
        overlay.style.width = b + "px";
        overlay.style.height = c + "px";
        var e = false;
        this.useUI3 && (e = true);
        iPhoneiOS7AboveBrowserMode && !e && (fixFor888 ? c > 580 && (c = c - this.marginBottom) : this.freeRounds.inFreeRounds ? this.marginBottom > 32 && (c = c - this.marginBottom + 32) : c = c - this.marginBottom);
        game.calculateScale(b, c);
        e = this.orientation;
        switch (a) {
        case 0:
        case 180:
            this.orientation = 0;
            break;
        case 90:
            this.orientation = 1;
            break;
        case -90:
        case 270:
            this.orientation = 2
        }
        try {
            if (this.orientation != e)
                for (var e = 0, f = this.orientationCallbacks.length; e < f; e++)
                    this.orientationCallbacks[e](this.orientation)
        } catch (g) {}
        this.layout.orient(this.orientation);
        if (b > c || this.disablePortraitMode) {
            gameDisplay = 1;
            orientationChangeLanguage(1);
            if (welcome.gameLoaded()) {
                ngg_canvas.width = gameViewMan.canvasWidth;
                ngg_canvas.height = gameViewMan.canvasHeight
            } else {
                gameScale = 1;
                gameViewMan.viewScale = 1;
                gameViewMan.canvasScale = gameScale;
                gameViewMan.canvasOriginX = 0;
                gameViewMan.canvasOriginY = 0;
                gameViewMan.canvasWidth = b;
                gameViewMan.canvasHeight = c;
                gameViewMan.styleWidth = b;
                gameViewMan.styleHeight = c;
                ngg_canvas.width = b;
                ngg_canvas.height = c
            }
            if (!this.historyMode) {
                this.ui.disableUI(false);
                this.api_disableGameUI(false)
            }
        } else if (b <= c) {
            gameDisplay = 0;
            orientationChangeLanguage(0);
            ngg_canvas.width = b;
            gameScale = 1;
            gameViewMan.viewScale = 1;
            gameViewMan.canvasScale = gameScale;
            gameViewMan.canvasOriginX = 0;
            gameViewMan.canvasOriginY = 0;
            gameViewMan.canvasWidth = b;
            gameViewMan.canvasHeight = c;
            gameViewMan.styleWidth = b;
            gameViewMan.styleHeight = c;
            ngg_canvas.width = b;
            ngg_canvas.height = c;
            if (!this.historyMode) {
                this.ui.disableUI(true);
                this.api_disableGameUI(true)
            }
        }
        if (this.soundsLoaded && firstSoundPlayed && !this.disablePortraitMode)
            if (b <= c) {
                this.pauseSound();
                this.pausedAudioInPortrait = true
            } else if (this.pausedAudioInPortrait) {
                this.resumeSound();
                this.pausedAudioInPortrait = false
            }
        welcome.layout();
        welcome.draw();
        this.messageBar.setPosition(this.layout.MESSAGE_BAR);
        if (loaded) {
            this.ui.changeOrientation(a);
            this.reelMan.setPosition(this.layout.REELS.x, this.layout.REELS.y - this.layout.symbolHeight, this.layout.symbolWidth, this.layout.symbolHeight, this.layout.reelGap);
            this.api_changeOrientation()
        }
        for (e = 0; e < this.paylines.length; e++) {
            this.paylines[e].X = this.layout.REELS.x;
            this.paylines[e].Y = this.layout.REELS.y
        }
        this.ASSET_MANAGER.isDone();
        this.redraw = 5;
        if (ngg_top_canvas != null) {
            ngg_top_canvas.width = b;
            ngg_top_canvas.height = c;
            ngg_top_canvas.style.width = "100%";
            ngg_top_canvas.style.height = c + "px"
        }
        if (ngg_bottom_canvas != null) {
            ngg_bottom_canvas.width = b;
            ngg_bottom_canvas.height = c;
            ngg_bottom_canvas.style.width = "100%";
            ngg_bottom_canvas.style.height = "100%"
        }
        ngg_canvas.style.width = Math.floor(gameViewMan.styleWidth) + "px";
        ngg_canvas.style.height = Math.floor(gameViewMan.styleHeight) + "px";
        this.api_orientationChange();
        if (this.showRules && b > c && Math.floor(iosVer) < 8) {
            $("#helpDiv").css("visibility", "hidden");
            setTimeout(function() {
                $("#helpDiv").css("visibility", "visible")
            }, 100)
        }
        this.api_updateHelpPageAfterLoaded();
        togglehelpFormat();
        this.message.setVisibility(gameDisplay);
        this.message.changeOrientation(gameScale);
        this.freeRounds.changeOrientation(gameScale);
        if (scrollMode == 2 && game.showRules && navigator.userAgent.match(/iPhone/i))
            document.getElementById("help").style.width = b * 2 + "px";
        repaint()
    }
    ;
    this.progressUpdate = function(a, b) {
        welcome.updateProgressBar(a, b);
        if (a == b) {
            assetsLoaded = true;
            start()
        }
    }
    ;
    this.showPortraitMode = function(a) {
        this.disablePortraitMode = a
    }
    ;
    this.makeRTPString = function(a, b) {
        for (var c = b.length, e = Array(c), f = -1, g = 0; g < c; g++) {
            e[g] = a.indexOf("%", f + 1);
            f = e[g]
        }
        f = a.slice(0, e[0]) + b[0];
        for (g = 0; g < c - 1; g++)
            f = f + (a.slice(e[g] + 2, e[g + 1]) + b[g + 1]);
        return f = f + a.slice(e[c - 1] + 2)
    }
    ;
    this.setRTPvalue = function() {
        if (game.showRTP) {
            if (typeof RTP_VALUE != "undefined" && typeof TXT_RTP_STRING != "undefined") {
                DecimalSeparator() == "," && (RTP_VALUE = RTP_VALUE.map(function(a) {
                    return a.replace(".", ",")
                }));
                var a = game.makeRTPString(TXT_RTP_STRING, RTP_VALUE);
                $("#info").html("");
                $("#info").append($("<h1 class='rtp'>").html(a))
            }
            if (this.RTPvalue != "" && typeof TXT_RTP_STRING != "undefined") {
                if (DecimalSeparator() == ",")
                    this.RTPvalue = this.RTPvalue.map(function(a) {
                        return a.replace(".", ",")
                    });
                a = game.makeRTPString(TXT_RTP_STRING, this.RTPvalue);
                $("#info").html("");
                $("#info").append($("<h1 class='rtp'>").html(a))
            }
        }
    }
    ;
    this.getMinimumBet = function() {
        var a = this.account.NUM_PAYLINES
          , b = this.account.getMinBetAmount();
        return this.ui.lineSelection ? (1 + this.account.minSuperbet) * b : (a + this.account.minSuperbet) * b
    }
    ;
    this.toggleHelp = function() {
        var a = document.getElementById("game")
          , b = document.getElementById("help");
        if (a.style.display == "block") {
            a.style.display = "none";
            b.style.display = "block";
            this.showRules = true;
            $("#help").load("help/help.htm", function() {
                game.api_updateHelpPageAfterLoaded();
                togglehelpFormat();
                loadHelpLanguage();
                game.setRTPvalue();
                fixFor888 && typeof windowObj.refreshIFrame === "function" && windowObj.refreshIFrame();
                if (scrollMode == 1 || scrollMode == 2 || scrollMode == 3) {
                    $(document).off("touchmove");
                    touchScroll("helpDiv");
                    if (scrollMode == 2 && navigator.userAgent.match(/iPhone/i))
                        document.getElementById("help").style.width = Number(windowObj.getSize().w) * 2 + "px"
                }
                if (iPhoneiOS7AboveBrowserMode) {
                    $("#helpDiv").css("padding-top", "40px");
                    $("#helpDiv").css("padding-bottom", "50px")
                }
                typeof windowObj.pyrRerender === "function" && windowObj.pyrRerender();
                document.body.style.overflow = "auto"
            });
            if (scrollMode == 0)
                document.ontouchmove = function() {
                    return true
                }
        } else {
            a.style.display = "block";
            b.style.display = "none";
            this.showRules = false;
            if (scrollMode == 0)
                document.ontouchmove = function() {
                    return true
                }
                ;
            else if (scrollMode == 1 || scrollMode == 2 || scrollMode == 3)
                $(document).on("touchmove", function(a) {
                    a.preventDefault()
                });
            typeof windowObj.pyrRerender === "function" && windowObj.pyrRerender();
            document.body.style.overflow = "hidden"
        }
        valueChanged("ABOUT", this.showRules)
    }
    ;
    this.setGamesRemainingString = function() {
        var a = this.slotResult.numFreeGames;
        this.messageBar.m_Text = a == 1 ? a + " " + TXT_GAME_REMAINING : a + " " + TXT_GAMES_REMAINING
    }
    ;
    this.showLines = function(a) {
        for (var b = 0; b < this.account.NUM_PAYLINES; b++)
            this.paylines[b].showLine(a)
    }
    ;
    this.showSelectedLines = function() {
        for (var a = 0; a < this.account.NUM_PAYLINES; a++)
            a < this.account.paylinesSelected + 1 ? this.paylines[a].showLine(true) : this.paylines[a].showLine(false)
    }
    ;
    this.drawImage = function(a, b, c) {
        var e = gameViewMan.viewScale;
        ctx.drawImage(a, 0, 0, a.width, a.height, b * e, c * e, a.width * e, a.height * e)
    }
    ;
    this.drawGame = function() {
        if (loaded) {
            this.redraw = 1;
            ctx.save();
            var a = gameViewMan.viewScale;
            this.api_clearCanvas();
            ctx.translate(gameViewMan.canvasOriginX, 32 * a);
            if (ngg_top_canvas != null) {
                top_ctx.save();
                top_ctx.clearRect(0, 0, ngg_top_canvas.width, ngg_top_canvas.height);
                top_ctx.translate(gameXoffset, Math.floor(32 * gameScale));
                top_ctx.scale(gameScale, gameScale)
            }
            if (ngg_bottom_canvas != null) {
                bottom_ctx.save();
                bottom_ctx.clearRect(0, 0, ngg_bottom_canvas.width, ngg_bottom_canvas.height);
                bottom_ctx.translate(gameXoffset, Math.floor(32 * gameScale));
                bottom_ctx.scale(gameScale, gameScale)
            }
            if (!this.showRules && gameDisplay) {
                if (!this.api_skipDraw()) {
                    if (this.gameState != SS_SPINNING || this.redraw > 0) {
                        try {
                            if (this.imageReelBG != null)
                                if (!this.bShowFreeSpinBg && this.FGAlpha == 0)
                                    this.drawImage(this.imageReelBG, this.layout.REELBG.x, this.layout.REELBG.y);
                                else if (this.bShowFreeSpinBg && this.FGAlpha == 1)
                                    this.drawImage(this.imageReelBGfree, this.layout.REELBG.x, this.layout.REELBG.y);
                                else {
                                    this.drawImage(this.imageReelBG, this.layout.REELBG.x, this.layout.REELBG.y);
                                    var b = ctx.globalAlpha;
                                    ctx.globalAlpha = this.FGAlpha;
                                    this.drawImage(this.imageReelBGfree, this.layout.REELBG.x, this.layout.REELBG.y);
                                    ctx.globalAlpha = b
                                }
                        } catch (c) {}
                        this.api_drawBackground()
                    }
                    if (!this.api_drawPaylinesOverSymbolsFlag() && (this.gameState != SS_SPINNING || this.redraw > 0) && gameConfig.drawPaylines)
                        for (b = 0; b < this.account.paylinesSelected; b++)
                            this.paylines[b].draw();
                    ctx.save();
                    var e = this.api_clippingRegion();
                    ctx.beginPath();
                    for (b = 0; b < e.length; b++)
                        if (e[b].length > 2) {
                            ctx.moveTo(e[b][0][0] * a, e[b][0][1] * a);
                            for (var f = 1; f < e[b].length; f++)
                                ctx.lineTo(e[b][f][0] * a, e[b][f][1] * a)
                        }
                    ctx.clip();
                    this.api_drawSpecialSymbolBG();
                    gameConfig.drawSymbols && this.reelMan.draw(this.api_drawReelWithClip());
                    ctx.restore();
                    gameConfig.drawPaylineEnds && this.drawPaylineEnds();
                    gameConfig.drawSymbols && this.reelMan.draw(this.api_drawReelWithoutClip());
                    this.api_drawLowerLevelFeature();
                    if (this.gameState != SS_SPINNING || this.redraw > 0) {
                        if (this.api_drawPaylinesOverSymbolsFlag() && gameConfig.drawPaylines)
                            for (b = 0; b < this.account.paylinesSelected; b++)
                                this.paylines[b].draw();
                        this.messageBar.draw(ctx);
                        this.redraw > 0 && this.redraw--
                    }
                    this.api_drawFeature();
                    this.imageGameName != null && this.drawImage(this.imageGameName, this.layout.GAME_NAME.x, this.layout.GAME_NAME.y);
                    this.api_drawWinAnim();
                    this.jackpotMeters.draw();
                    this.freeRounds.draw();
                    this.clock.draw();
                    this.ui.draw();
                    this.api_drawHigherLevelFeature();
                    this.meters.draw()
                }
                this.api_priorityDraw()
            }
            if (!gameDisplay) {
                ctx.translate(0, -32);
                ngg_top_canvas != null && top_ctx.translate(-gameXoffset, -Math.floor(32 * gameScale));
                ngg_bottom_canvas != null && bottom_ctx.translate(-gameXoffset, -Math.floor(32 * gameScale));
                ctx.clearRect(0, 0, ngg_canvas.width - 1, ngg_canvas.height);
                a = ngg_canvas.width / 2;
                b = this.imageTurnDevice.height / this.imageTurnDevice.width;
                ctx.save();
                ctx.shadowColor = "#000";
                ctx.shadowBlur = 10;
                ctx.shadowOffsetX = 5;
                ctx.shadowOffsetY = 5;
                ctx.drawImage(this.imageTurnDevice, 0, 0, this.imageTurnDevice.width, this.imageTurnDevice.height, ngg_canvas.width / 2 - a / 2, ngg_canvas.height / 2 - a / 2, a, a * b);
                ctx.restore()
            }
            ctx.restore();
            ngg_top_canvas != null && top_ctx.restore();
            ngg_bottom_canvas != null && bottom_ctx.restore()
        }
    }
    ;
    this.drawPaylineEnds = function() {
        ctx.drawImage(bkcanv2, 0, 0, paylineEndsLeftSize.w, paylineEndsLeftSize.h, this.layout.payLineEndsLeft.x, this.layout.payLineEndsLeft.y, paylineEndsLeftSize.w, paylineEndsLeftSize.h);
        ctx.drawImage(bkcanv2, 50, 0, paylineEndsRightSize.w, paylineEndsRightSize.h, this.layout.payLineEndsRight.x, this.layout.payLineEndsRight.y, paylineEndsRightSize.w, paylineEndsRightSize.h)
    }
    ;
    this.startSpin = function() {
        this.freeGames.m_RespinTimer = this.freeGames.RESPIN_TIMER_DELAY;
        this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
        this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
        this.setState(SS_SPINNING);
        this.showLines(false);
        this.snapWinMeter();
        this.api_startSpinAction();
        this.dontShowWinMeterOnRecovery = false
    }
    ;
    this.startFeature = function() {
        this.freeGames.m_RespinTimer = this.freeGames.RESPIN_TIMER_DELAY;
        this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
        this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
        this.setState(SS_PICK_FEATURE);
        this.api_beginFeature();
        this.showLines(false)
    }
    ;
    this.processInitMsg = function(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b].split("=");
            switch (c[0]) {
            case "B":
                this.account.balance = Number(c[1]);
                this.account.currentOnScreenBalance = this.account.balance;
                break;
            case "BD":
                this.account.setBetAmounts(c[1]);
                break;
            case "BDD":
                this.account.setCurrentBetAmount(c[1]);
                break;
            case "CUR":
                this.account.setCurrency(c[1]);
                break;
            case "ABM":
                c = c[1].substr(0, c[1].length - 1).split("|");
                this.account.minSuperbet = c.length == 1 ? Number(c[0]) : 0;
                break;
            case "R":
                if (c[1] == 1) {
                    try {
                        METRICS.setRecovered()
                    } catch (e) {}
                    this.inRecovery = true;
                    this.recoverySlotResult = this.processMsg(a, 1);
                    valueChanged("ROUND", 1);
                    this.useUI3 && this.ui.autoPlayMan.startRound();
                    this.roundActive = true
                }
                break;
            case "RBM":
                c = c[1].split("|");
                c.pop();
                this.account.way243BetMultiplier = c.map(Number);
                break;
            case "RTP":
                this.RTPvalue = c[1].split("|")
            }
        }
        this.inRecovery || game.api_processGSDMsg(a)
    }
    ;
    this.setCommsState = function(a) {
        if (a != this.commsState) {
            this.commsState = a;
            switch (this.commsState) {
            case CS_INIT_1:
                globalMessageIndex++;
                try {
					console.log("#####GAME_INTERACTION-WindowObj wrapper API metrics");
                    windowObj.wrapperAPI("METRICS", METRICS.getString())
                } catch (b) {}
				console.log("#####GAME_INTERACTION-WindowObj message to server INIT");
                windowObj.sendMsgToServer("&MSGID=INIT&MSGINDEX=" + globalMessageIndex + "&");
                break;
            case CS_INIT_2:
                globalMessageIndex++;
                try {
					console.log("#####GAME_INTERACTION-WindowObj at wrapper api metrics");
                    windowObj.wrapperAPI("METRICS", METRICS.getString())
                } catch (c) {}
				console.log("#####GAME_INTERACTION-WindowObj at message to server REELSTRIP");
                windowObj.sendMsgToServer("&MSGID=REELSTRIP&MSGINDEX=" + globalMessageIndex + "&");
                break;
            case CS_INITIALISED:
                serverInitialised = true;
                start();
                break;
            case CS_ERROR:
                alert("Comms Error")
            }
        }
    }
    ;
    this.recover = function() {
        if (this.inRecovery) {
            this.slotResult = this.recoverySlotResult;
            this.account.reelsSelected = this.slotResult.reelsBet;
            this.account.paylinesSelected = this.slotResult.linesBet;
            this.account.setBetPerLine(this.slotResult.betPerLine);
            this.freeGames.m_RespinTimer = this.freeGames.RESPIN_TIMER_DELAY;
            this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
            this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
            this.showLines(false);
            this.gameState = SS_SPINNING;
            this.redraw = 1;
            this.reelMan.showSymbols(true, 4294967295);
            this.reelMan.stopAnims();
            this.api_stopWinAnims();
            this.showLines(false);
            this.reelMan.startReels();
            if ((this.slotResult.numFreeGames == 0 || this.slotResult.winType & WT_FEATURE_TRIGGER) && !this.slotResult.IFG) {
                this.api_switchReels(false);
                this.setBShowFreeSpinBg(false);
                this.playSpinSound()
            } else {
                this.setBShowFreeSpinBg(true);
                this.api_switchReels(true);
                this.freeGames.m_bInFreeGames = true;
                this.playFreegameLoopSound();
                this.api_playFreeSpinSound()
            }
            this.messageBar.m_Text = TXT_RECOVERING;
            createPaylineTexture2();
            this.api_spinStarted();
            this.lowbalanceDialogPrompted = false;
            this.account.recover(this.slotResult.winAmount);
            this.dontShowWinMeterOnRecovery = true;
            this.inRecovery = false
        }
    }
    ;
    this.roundActive = false;
    this.setState = function(a) {
        if (a != this.gameState) {
            var b = this.gameState;
            this.gameState = a;
            this.redraw = 1;
            switch (this.gameState) {
            case SS_STOPPED:
                this.autoPlayTimer = this.AUTOPLAY_DELAY;
                this.reelMan.showSymbols(true, 4294967295);
                this.reelMan.stopAnims();
                this.api_stopWinAnims();
                this.showLines(false);
                this.setBShowFreeSpinBg(false);
                this.freeRounds.requestOutro || this.checkLowBalance();
                this.idleTextTimer = this.idleTextDelay;
                this.startIdleMessages();
                this.freeRounds.outro();
                if (this.roundActive) {
                    valueChanged("ROUND", 0);
                    valueChanged("BALANCE", this.opt_balance);
                    valueChanged("TOTAL_WIN", this.slotResult.winAmount);
                    this.roundActive = false
                }
                this.account.syncBalance();
                break;
            case SS_STOPPED_FREEGAMES:
                this.setGamesRemainingString();
                this.reelMan.showSymbols(true, 4294967295);
                this.reelMan.stopAnims();
                this.api_stopWinAnims();
                this.showLines(false);
                this.freeRounds.outro();
                this.account.syncBalance();
                break;
            case SS_SPINNING:
                this.reelMan.showSymbols(true, 4294967295);
                this.reelMan.stopAnims();
                this.api_stopWinAnims();
                this.showLines(false);
                this.reelMan.startReels();
                if (this.slotResult.numFreeGames == 0) {
                    this.account.clearWin();
                    this.freeRounds.inFreeRounds || this.account.takeBet();
                    this.messageBar.m_Text = TXT_SPIN_MSG;
                    this.api_switchReels(false)
                } else {
                    this.api_switchReels(true);
                    this.freeGames.m_bInFreeGames = true;
                    this.setGamesRemainingString()
                }
                this.playSpinSound();
                this.api_spinStarted();
                this.lowbalanceDialogPrompted = false;
                if (!this.roundActive) {
                    valueChanged("ROUND", 1);
                    this.useUI3 && this.ui.autoPlayMan.startRound();
                    this.roundActive = true
                }
                sendSpinMsg();
                clearPresetField();
                break;
            case SS_SPINNING_STOPPED:
                this.api_runSpinningStoppedFeature();
                break;
            case SS_WIN_PAYLINE:
                this.gCurrentFlash = this.gWinFlashTime = 0;
                if (b == SS_FREEGAME_SUMMARY && this.slotResult.paylineWins.length > 0 || b == SS_WIN_PAYLINE_FREEGAMES)
                    this.gNumCycles = 1;
                else
                    this.gCurrentPaylineIndex = this.gNumCycles = 0;
                this.reelMan.animateWins();
                this.api_animateWins();
                this.api_isMetersUpdateableOnPayline() && this.account.addWin(this.slotResult.winAmount);
                if (this.slotResult.winType & WT_PICK_FEATURE_TRIGGER) {
                    if (this.api_IsBonusFeatureTriggered())
                        this.messageBar.m_Text = TXT_PICK_BONUS
                } else {
                    this.startIdleMessages();
                    this.checkLowBalance();
                    if (this.roundActive) {
                        valueChanged("ROUND", 0);
                        this.roundActive = false
                    }
                }
                break;
            case SS_WIN_PAYLINE_FREEGAMES:
                this.gCurrentPaylineIndex = this.gNumCycles = this.gCurrentFlash = this.gWinFlashTime = 0;
                this.setGamesRemainingString();
                this.api_isMetersUpdateableOnPayline() && this.account.addWin(this.slotResult.winAmount);
                this.reelMan.animateWins();
                this.api_animateWins();
                break;
            case SS_PICK_FEATURE:
                this.reelMan.showSymbols(true, 4294967295);
                this.api_stopReelAnims() && this.reelMan.stopAnims();
                this.api_stopWinAnims();
                this.showLines(false);
                this.api_featureStart();
                break;
            case SS_FREEGAME_SUMMARY:
                this.gCurrentPaylineIndex = this.gNumCycles = this.gCurrentFlash = this.gWinFlashTime = this.freeGames.m_RespinTimer = 0;
                this.reelMan.animateWins();
                this.api_animateWins();
                this.account.addWin(this.slotResult.winAmount);
                this.api_lastFreeGameFinish();
                this.startIdleMessages();
                this.freeRounds.outro();
                break;
            case SS_FREEGAME_INTRO:
                this.setBShowFreeSpinBg(true);
                this.api_beforeFirstFreeGame()
            }
        }
    }
    ;
    this.playWinSounds = function() {
        this.api_playWinCelebration();
        if (game.freeGames.m_bInFreeGames)
            this.api_playFreeWinSounds();
        else if (this.slotResult.winType & WT_LARGE_WIN || this.slotResult.winType & WT_FEATURE_TRIGGER || this.api_playBigWinSounds()) {
            this.playSound("win2");
            this.api_startWinAnim()
        } else
            this.playSound("win1");
        this.slotResult.verySmallWin && this.api_playVerySmallWinAnim();
        this.slotResult.smallWin && this.api_playSmallWinAnim()
    }
    ;
    this.playSpinSound = function() {
        game.freeGames.m_bInFreeGames ? this.api_playFreeSpinSound() : this.api_playSpinSound()
    }
    ;
    this.playFeatureSound = function() {
        game.freeGames.m_bInFreeGames || this.playSound("feature")
    }
    ;
    this.playFreegameLoopSound = function() {
        this.playSound("freeloop");
        this.inRecovery && !gameDisplay && this.pauseSound()
    }
    ;
    this.startWinMeter = function(a, b) {
        if (this.dontShowWinMeterOnRecovery)
            this.dontShowWinMeterOnRecovery = false;
        else if (b != 0) {
            this.winMeterLastAmount = b;
            this.winMeterCurrentAmount = a;
            this.winMeterTargetAmount = b;
            this.winMeterIncrementCounter = 0;
            this.winMeterDisplayCounter = this.WIN_METER_DISPLAY_TIME;
            this.ui.showWinMeter(true);
            this.ui.setMeterText("win", this.account.getCurrencyString(0));
            this.freeRounds.updateTotalWin()
        }
    }
    ;
    this.updateWinMeter = function(a) {
        if (this.winMeterDisplayCounter > 0) {
            this.winMeterDisplayCounter = this.winMeterDisplayCounter - a;
            if (this.winMeterDisplayCounter <= 0) {
                this.winMeterDisplayCounter = 0;
                this.ui.showWinMeter(false);
                this.redraw = 1
            }
        }
        if (this.winMeterIncrementCounter < this.WIN_ROLLUP_TIME) {
            this.winMeterIncrementCounter = this.winMeterIncrementCounter + a;
            if (this.winMeterIncrementCounter >= this.WIN_ROLLUP_TIME)
                this.winMeterIncrementCounter = this.WIN_ROLLUP_TIME;
            this.ui.setMeterText("win", TXT_METERS_WIN + " " + this.account.getCurrencyString(this.winMeterIncrementCounter / this.WIN_ROLLUP_TIME * (this.winMeterTargetAmount - this.winMeterCurrentAmount) + this.winMeterCurrentAmount))
        }
    }
    ;
    this.snapWinMeter = function() {
        if (this.winMeterDisplayCounter > this.WIN_SNAP_DELAY) {
            this.winMeterIncrementCounter = this.WIN_ROLLUP_TIME;
            this.ui.setMeterText("win", TXT_METERS_WIN + " " + this.account.getCurrencyString(this.winMeterTargetAmount));
            this.account.snapMeters();
            this.winMeterDisplayCounter = this.WIN_SNAP_DELAY
        }
    }
    ;
    this.allowBetUI = function() {
        if (this.gameState != SS_SPINNING && this.gameState != SS_SPINNING_STOPPED && this.slotResult.numFreeGames == 0 && !this.autoPlay && !this.api_inFeature() && !(this.slotResult.winType & WT_PICK_FEATURE_TRIGGER) && this.gameState != SS_FREEGAME_SUMMARY && this.gEnableUI) {
            this.ui.enable(this.account.canBet());
            this.api_featureBtnEnable(this.account.canBet())
        } else {
            this.ui.disable();
            this.api_featureBtnDisable()
        }
    }
    ;
    this.startIdleMessages = function() {
        this.idleTextTimer = this.idleTextDelay;
        this.idleTextIndex++;
        this.idleTextIndex = this.idleTextIndex % TXT_SCROLL_MESSAGES.length;
        this.messageBar.m_Text = TXT_SCROLL_MESSAGES[this.idleTextIndex]
    }
    ;
    this.updateIdleMessage = function(a) {
        if (this.idleTextTimer >= 0) {
            this.idleTextTimer = this.idleTextTimer - a;
            this.idleTextTimer <= 0 && this.startIdleMessages()
        }
    }
    ;
    this.updateFGAlpha = function() {
        this.FGAlpha = this.bShowFreeSpinBg ? 1 : 0
    }
    ;
    this.setBShowFreeSpinBg = function(a) {
        if (this.bShowFreeSpinBg != a) {
            this.bShowFreeSpinBg = a;
            this.api_freeSpinBgChangeAction(a)
        }
    }
    ;
    this.insertParam = function(a, b) {
        var c = a.indexOf("%")
          , e = "";
        if (c != -1)
            return e = a.slice(0, c) + b + a.slice(c + 2);
        return a
    }
    ;
    this.setFreeGameWonMessage = function() {
        if (this.slotResult.winType & WT_FEATURE_TRIGGER)
            if (this.slotResult.freeGamesWon == 1)
                this.messageBar.m_Text = this.slotResult.freeGamesWon + " " + TXT_FREE_GAME_WON;
            else if (this.slotResult.freeGamesWon > 1)
                this.messageBar.m_Text = TXT_FREE_GAMES_WON.indexOf("%") >= 0 ? this.insertParam(TXT_FREE_GAMES_WON, this.slotResult.freeGamesWon) : this.slotResult.freeGamesWon + " " + TXT_FREE_GAMES_WON
    }
    ;
    this.updateGame = function(a) {
        if (loaded) {
            this.commsState != CS_INIT_1 && this.updateHTMLMeters();
            this.clock.update(a);
            this.allowBetUI();
            this.api_featureUpdate(a);
            this.updateWinMeter(a);
            this.updateFGAlpha(a);
            this.account.update(a);
            this.useUI3 && this.ui.update(a);
            switch (this.gameState) {
            case SS_STOPPED:
                if (this.autoPlay && !this.api_autoDelayAfterFeature() && !this.autoPlayPaused) {
                    this.autoPlayTimer = this.autoPlayTimer - a;
                    if (this.autoPlayTimer <= 0) {
                        this.autoPlayTimer = 0;
                        var b = false;
                        this.useUI3 && (b = this.ui.autoPlayMan.shouldAutoPlayStop());
                        if (this.account.canBet() && !this.requestToStopAutoPlay && this.autoPlayGames > 0 && !b) {
                            this.startSpin();
                            this.autoPlayGames--;
                            this.ui.setMeterText("autoGame", this.autoPlayGames)
                        } else {
                            this.useUI3 && this.ui.autoPlayMan.endSession();
                            this.requestToStopAutoPlay = this.autoPlay = false;
                            this.ui.autoPlayMode = this.ui.AUTO_OFF;
                            this.autoPlayGames = 0
                        }
                    }
                }
                this.updateIdleMessage(a);
                break;
            case SS_STOPPED_FREEGAMES:
                this.freeGames.m_RespinTimer = this.freeGames.m_RespinTimer - a;
                if (this.freeGames.m_RespinTimer <= 0 && !this.historyMode) {
                    this.setGamesRemainingString();
                    this.startSpin()
                }
                break;
            case SS_SPINNING:
                this.reelMan.isStopped() && this.setState(SS_SPINNING_STOPPED);
                break;
            case SS_SPINNING_STOPPED:
                if (this.api_spinningFeatureStopped()) {
                    valueChanged("REEL_STOPPED", "");
                    if (this.slotResult.winType == 0) {
                        if (this.slotResult.getFreeGamesLeft())
                            this.setState(SS_STOPPED_FREEGAMES);
                        else if (this.freeGames.m_bInFreeGames) {
                            this.setState(SS_FREEGAME_SUMMARY);
                            this.winMeterLastAmount = 0;
                            this.freeRounds.updateTotalWin()
                        } else {
                            this.setState(SS_STOPPED);
                            this.winMeterLastAmount = 0
                        }
                        this.api_afterAllReelsStopNoWin()
                    } else {
                        if (this.slotResult.getFreeGamesLeft()) {
                            this.playWinSounds();
                            this.setState(SS_WIN_PAYLINE_FREEGAMES);
                            this.startWinMeter(0, this.slotResult.currentSpinWinAmount)
                        } else {
                            if (this.freeGames.m_bInFreeGames) {
                                this.playWinSounds();
                                this.setState(SS_FREEGAME_SUMMARY);
                                this.startWinMeter(0, this.slotResult.currentSpinWinAmount)
                            } else {
                                this.playWinSounds();
                                this.setState(SS_WIN_PAYLINE);
                                this.startWinMeter(0, this.account.winAmount)
                            }
                            this.winMeterLastAmount = 0
                        }
                        this.api_resetWinMeterTimer()
                    }
                    this.setFreeGameWonMessage()
                }
                break;
            case SS_WIN_PAYLINE:
                if (!this.account.canBet() && !(this.slotResult.winType & WT_PICK_FEATURE_TRIGGER)) {
                    this.requestToStopAutoPlay = this.autoPlay = false;
                    this.ui.autoPlayMode = this.ui.AUTO_OFF;
                    this.autoPlayGames = 0
                }
                this.GDMUpdateWin(a);
                this.updateIdleMessage(a);
                break;
            case SS_WIN_PAYLINE_FREEGAMES:
                this.GDMUpdateWin(a);
                break;
            case SS_PICK_FEATURE:
                if (!this.api_inFeature())
                    if (this.slotResult.getFreeGamesLeft())
                        this.setState(SS_WIN_PAYLINE_FREEGAMES);
                    else {
                        this.setState(SS_WIN_PAYLINE);
                        this.setBShowFreeSpinBg(false)
                    }
                break;
            case SS_FREEGAME_SUMMARY:
                this.freeGames.m_RespinTimer = this.freeGames.m_RespinTimer - a;
                if (this.freeGames.m_RespinTimer <= 0)
                    if (this.slotResult.winType == 0) {
                        if (!this.freeGames.m_bInFreeGames) {
                            this.setState(SS_STOPPED);
                            this.setBShowFreeSpinBg(false)
                        }
                    } else {
                        this.GDMUpdateWin(a);
                        if (!this.freeGames.m_bInFreeGames) {
                            this.setState(SS_WIN_PAYLINE);
                            this.setBShowFreeSpinBg(false)
                        }
                    }
            }
            this.reelMan.update(a);
            this.reelMan.isReelManagerStopping() && this.api_detectReelStop();
            if (this.paylineShowDelay > 0) {
                this.paylineShowDelay = this.paylineShowDelay - a;
                if (this.paylineShowDelay <= 0) {
                    this.showLines(false);
                    this.paylineShowDelay = 0
                }
            }
        }
    }
    ;
    this.GDMUpdateWin = function(a) {
        this.api_winLineChoreography(a);
        var b = false
          , c = false;
        this.gWinFlashTime = this.gWinFlashTime + a;
        this.freeGames.m_RespinTimer = this.freeGames.m_RespinTimer - a;
        this.freeGames.m_TriggerTimer = this.freeGames.m_TriggerTimer - a;
        this.m_TriggerTimer = this.m_TriggerTimer - a;
        if (this.gWinFlashTime > this.FLASH_DELAY) {
            if (this.slotResult.paylineWins.length > 0) {
                if (this.gCurrentFlash == this.NUM_FLASHES_PER_PAYLINE) {
                    if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE) {
                        this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1 && this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(false);
                        this.gCurrentPaylineIndex++;
                        if (this.gCurrentPaylineIndex == this.slotResult.numWinningPaylines)
                            this.gCurrentPaylineIndex = 0
                    } else {
                        for (a = this.gCurrentPaylineIndex = 0; a < this.slotResult.numWinningPaylines; a++) {
                            this.gCurrentPaylineIndex = a;
                            this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1 && this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(false)
                        }
                        this.freeRounds.outro()
                    }
                    this.gNumCycles++;
                    this.slotResult.getFreeGamesLeft() && this.gNumCycles >= this.NUM_FLASHES_ALL_LINE && (b = true);
                    this.autoPlay && this.gNumCycles >= this.NUM_FLASHES_ALL_LINE && (c = true);
                    this.gCurrentFlash = 0
                }
                if (this.gCurrentFlash % 2 == 0)
                    if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE) {
                        if (this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1) {
                            var e = this.slotResult.paylineWins2[this.gCurrentPaylineIndex].second ^ 4294967295
                              , e = e & this.slotResult.paylineWins[this.gCurrentPaylineIndex].second;
                            this.reelMan.showSymbols(false, e);
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(true);
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(false)
                        }
                    } else
                        for (a = 0; a < this.slotResult.numWinningPaylines; a++) {
                            this.gCurrentPaylineIndex = a;
                            if (this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1) {
                                e = this.slotResult.paylineWins2[this.gCurrentPaylineIndex].second ^ 4294967295;
                                e = e & this.slotResult.paylineWins[this.gCurrentPaylineIndex].second;
                                this.reelMan.showSymbols(false, e);
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(true);
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(false)
                            }
                        }
                else if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE) {
                    this.reelMan.showSymbols(true, 4294967295);
                    if (this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1) {
                        this.api_winLineDirection(this.slotResult.paylineWins[this.gCurrentPaylineIndex].first, false, this.gNumCycles);
                        this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(false);
                        this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(true)
                    }
                } else
                    for (a = 0; a < this.slotResult.numWinningPaylines; a++) {
                        this.gCurrentPaylineIndex = a;
                        e = 4294967295;
                        this.reelMan.showSymbols(true, e);
                        if (this.slotResult.paylineWins[this.gCurrentPaylineIndex].first != -1) {
                            this.api_winLineDirection(this.slotResult.paylineWins[this.gCurrentPaylineIndex].first, true, this.gNumCycles);
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(false);
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(true)
                        }
                    }
                this.gCurrentFlash++;
                this.gWinFlashTime = 0
            } else {
                this.autoPlay && (c = true);
                this.slotResult.getFreeGamesLeft() && (b = true)
            }
            if (this.slotResult.winType & WT_PICK_FEATURE_TRIGGER)
                this.api_fastFeatureTransition() ? (this.slotResult.paylineWins.length > 0 && this.gNumCycles >= 1 || this.slotResult.paylineWins.length == 0) && this.startFeature() : this.m_TriggerTimer <= 0 && this.startFeature();
            else if (this.slotResult.winType & WT_FEATURE_TRIGGER) {
                if (this.freeGames.m_TriggerTimer <= 0) {
                    this.setGamesRemainingString();
                    this.freeGames.DecFreeSpins();
                    this.setState(SS_FREEGAME_INTRO)
                }
            } else if (b && this.freeGames.m_RespinTimer <= 0 && !this.historyMode) {
                this.setGamesRemainingString();
                this.freeGames.DecFreeSpins();
                this.startSpin()
            } else if (c && !this.api_autoDelayAfterFeature() && !this.autoPlayPaused) {
                b = false;
                this.useUI3 && (b = this.ui.autoPlayMan.shouldAutoPlayStop());
                if (this.account.canBet() && !this.requestToStopAutoPlay && this.autoPlayGames > 0 && !b) {
                    this.startSpin();
                    this.autoPlayGames--;
                    this.ui.setMeterText("autoGame", this.autoPlayGames)
                } else if (this.requestToStopAutoPlay || this.autoPlayGames == 0 || b) {
                    this.useUI3 && this.ui.autoPlayMan.endSession();
                    this.requestToStopAutoPlay = this.autoPlay = false;
                    this.ui.autoPlayMode = this.ui.AUTO_OFF;
                    this.autoPlayGames = 0
                }
            }
        }
    }
    ;
    this.updateHTMLMeters = function() {
        var a = false;
        if (this.opt_win != this.account.currentOnScreenWinAmount) {
            a = this.account.getCurrencyString(this.account.currentOnScreenWinAmount);
            this.opt_win = this.account.currentOnScreenWinAmount;
            if (this.account.rollUpState() != 1) {
                valueChanged("TOTAL_WIN", Math.floor(this.opt_win));
                this.account.rollUpState(0)
            }
            this.meters.setMeterWinValue(a);
            a = true
        }
        if (this.opt_balance != this.account.currentOnScreenBalance) {
            a = this.account.getCurrencyString(this.account.currentOnScreenBalance);
            this.opt_balance = this.account.currentOnScreenBalance;
            if (this.account.rollUpState() != 1) {
                valueChanged("BALANCE", this.opt_balance);
                this.account.rollUpState(0)
            }
            this.meters.setMeterBalanceValue(a);
            a = true
        }
        if (this.opt_bet != this.account.getBetAmount()) {
            a = this.account.getBetAmountStr();
            this.opt_bet = this.account.getBetAmount();
            valueChanged("TOTAL_BET", this.opt_bet);
            this.meters.setMeterBetValue(a);
            a = true
        }
        a && this.meters.refreshTexture()
    }
    ;
    this.processMsg = function(a) {
        var b = new SlotResult;
        b.clear();
        var c = 0
          , e = 0
          , f = 0
          , g = 0
          , k = 0
          , p = 0
          , n = 0
          , q = 0
          , r = 0
          , l = 0
          , j = 0
          , o = false;
        this.featureStarted = false;
        for (var s = 0, y = 0, I = 0, x = [], z = false, w = false, B = false, A = [], E = 0, C = [], u = [], k = 0; k < a.length; k++) {
            var m = a[k].split("=");
            switch (m[0]) {
            case "B":
                this.account.newBalance = Number(m[1]);
                break;
            case "BPL":
                p = Number(m[1]);
                break;
            case "LB":
                n = Number(m[1]);
                break;
            case "BPR":
                p = Number(m[1]);
                break;
            case "RB":
                q = Number(m[1]);
                break;
            case "RS":
                b.stops = m[1].split("|");
                break;
            case "TW":
                c = Number(m[1]);
                break;
            case "CW":
                e = Number(m[1]);
                f = Number(m[1]);
                break;
            case "WC":
                j = m[1].split("|");
                r = Number(j[0]);
                l = Number(j[1]);
                j = Number(j[2]);
                break;
            case "WS":
                x = m[1].split("|");
                break;
            case "NFG":
                s = Number(m[1]);
                break;
            case "TFG":
                I = Number(m[1]);
                break;
            case "FGT":
                y = Number(m[1]);
                break;
            case "SSS":
                this.api_parseSSS(m[1]);
                break;
            case "FS_0":
            case "FS_1":
            case "FS_2":
            case "FS_3":
            case "FS_4":
            case "FS_5":
            case "FS_6":
            case "FS_7":
            case "FS_8":
                if (m[1] == 1)
                    this.featureStarted = true;
                break;
            case "FTV_0":
            case "FTV_1":
            case "FTV_2":
            case "FTV_3":
            case "FTV_4":
            case "FTV_5":
            case "FTV_6":
            case "FTV_7":
            case "FTV_8":
                o = true;
                this.api_parseFeaturePrizes(m[1]);
                break;
            case "FPM_0":
            case "FPM_1":
            case "FPM_2":
            case "FPM_3":
            case "FPM_4":
            case "FPM_5":
            case "FPM_6":
            case "FPM_7":
            case "FPM_8":
                this.api_parseFPM(m[1]);
                break;
            case "CFP_0":
            case "CFP_1":
            case "CFP_2":
            case "CFP_3":
            case "CFP_4":
            case "CFP_5":
            case "CFP_6":
            case "CFP_7":
            case "CFP_8":
                this.api_parseCFP(m[1]);
                break;
            case "IFG":
                B = Number(m[1]) == 1 ? true : false;
                break;
            case "ABPM":
                this.api_getABPM(m[1])
            }
        }
        k = gameConfig.way243 ? p * (this.account.way243BetMultiplier[q - 1] + this.account.superbet) : p * (n + this.account.superbet);
        e == 0 && (e = c);
        r > 0 && (0 < e && e <= k * 5 ? g = g | WT_SMALL_WIN : k * 5 < e && e <= k * 25 ? g = g | WT_MEDIUM_WIN : e > k * 25 && (g = g | WT_LARGE_WIN));
        e >= k * 2 && (z = true);
        e >= k * 5 && (w = true);
        l && (g = g | WT_SCATTER_WIN);
        j && (g = g | WT_FEATURE_TRIGGER);
        o && (g = g | WT_PICK_FEATURE_TRIGGER);
        b.numWinningPaylines = l ? r + 1 : r;
        for (k = 0; k < x.length - 1; k++) {
            a = x[k].split(";");
            o = convertToBitfield(a[2], a[3], a[4], a[5], a[6]);
            if (a[0] == -1)
                E = o;
            else if (a[0] != -2) {
                A.push(a[0]);
                C.push(o);
                u.push(0)
            }
        }
        if (l) {
            b.paylineWins.push({
                first: -1,
                second: E
            });
            b.paylineWins2.push({
                first: -1,
                second: E
            })
        }
        if (r > 0)
            for (k = 0; k < r; k++) {
                b.paylineWins.push({
                    first: A[k],
                    second: C[k]
                });
                b.paylineWins2.push({
                    first: A[k],
                    second: u[k]
                })
            }
        b.linesBet = n;
        b.reelsBet = q;
        b.betPerLine = p;
        b.numFreeGames = s;
        b.freeGamesWon = y;
        b.totalNumFreeGames = I;
        b.winAmount = c;
        b.currentWinAmount = e;
        b.currentSpinWinAmount = f;
        b.winType = g;
        b.verySmallWin = z;
        b.smallWin = w;
        b.bProcessed = false;
        b.IFG = B;
        b.winningPaylines = x;
        this.api_processMsgEnd(b);
        this.api_processResult(b);
        return b
    }
    ;
    this.processHistoryMsg = function(a) {
        var b = new SlotResult;
        b.clear();
        var c = 0
          , e = 0
          , f = 0
          , g = 0
          , k = 0
          , p = 0
          , n = 0
          , q = 0
          , r = 0
          , l = 0
          , j = false;
        this.featureStarted = false;
        for (var o = 0, s = 0, y = 0, I = [], x = false, z = false, w = false, B = false, A = [], E = 0, C = [], u = [], k = 0; k < a.length; k++) {
            var m = a[k].split("=");
            switch (m[0]) {
            case "B":
                this.account.balance = Number(m[1]);
                this.account.newBalance = Number(m[1]);
                break;
            case "BD":
                this.account.setBetAmounts(m[1]);
                break;
            case "BDD":
                this.account.setCurrentBetAmount(m[1]);
                break;
            case "BPL":
                p = Number(m[1]);
                break;
            case "LB":
                n = Number(m[1]);
                break;
            case "RS":
                b.stops = m[1].split("|");
                break;
            case "TW":
                c = Number(m[1]);
                break;
            case "CW":
                e = Number(m[1]);
                f = Number(m[1]);
                break;
            case "WC":
                l = m[1].split("|");
                q = Number(l[0]);
                r = Number(l[1]);
                l = Number(l[2]);
                break;
            case "WS":
                I = m[1].split("|");
                break;
            case "NFG":
                o = Number(m[1]);
                break;
            case "TFG":
                y = Number(m[1]);
                break;
            case "FGT":
                s = Number(m[1]);
                break;
            case "SSS":
                this.api_parseSSS(m[1]);
                break;
            case "FS_0":
            case "FS_1":
            case "FS_5":
            case "FS_6":
                if (m[1] == 1)
                    this.featureStarted = true;
                break;
            case "FTV_0":
            case "FTV_1":
            case "FTV_5":
            case "FTV_6":
                j = true;
                this.api_parseFeaturePrizes(m[1]);
                break;
            case "FPM_0":
            case "FPM_1":
            case "FPM_5":
            case "FPM_6":
                this.api_parseFPM(m[1]);
                B = true;
                break;
            case "CFP_0":
            case "CFP_1":
            case "CFP_5":
            case "CFP_6":
                this.api_parseCFP(m[1]);
                break;
            case "IFG":
                w = Number(m[1]) == 1 ? true : false;
                break;
            case "ABPM":
                this.api_getABPM(m[1])
            }
        }
        k = p * (n + this.account.superbet);
        e == 0 && (e = c);
        q > 0 && (0 < e && e <= k * 5 ? g = g | WT_SMALL_WIN : k * 5 < e && e <= k * 25 ? g = g | WT_MEDIUM_WIN : e > k * 25 && (g = g | WT_LARGE_WIN));
        e >= k * 2 && (x = true);
        e >= k * 5 && (z = true);
        r && (g = g | WT_SCATTER_WIN);
        l && (g = g | WT_FEATURE_TRIGGER);
        j && (g = g | WT_PICK_FEATURE_TRIGGER);
        b.numWinningPaylines = r ? q + 1 : q;
        for (k = 0; k < I.length - 1; k++) {
            a = I[k].split(";");
            j = convertToBitfield(a[2], a[3], a[4], a[5], a[6]);
            if (a[0] == -1)
                E = j;
            else if (a[0] != -2) {
                A.push(a[0]);
                C.push(j);
                u.push(0)
            }
        }
        if (r) {
            b.paylineWins.push({
                first: -1,
                second: E
            });
            b.paylineWins2.push({
                first: -1,
                second: E
            })
        }
        if (q > 0)
            for (k = 0; k < q; k++) {
                b.paylineWins.push({
                    first: A[k],
                    second: C[k]
                });
                b.paylineWins2.push({
                    first: A[k],
                    second: u[k]
                })
            }
        b.linesBet = n;
        b.betPerLine = p;
        b.numFreeGames = o;
        b.freeGamesWon = s;
        b.totalNumFreeGames = y;
        b.winAmount = c;
        b.currentWinAmount = e;
        b.currentSpinWinAmount = f;
        b.winType = g;
        b.verySmallWin = x;
        b.smallWin = z;
        b.bProcessed = false;
        b.IFG = w;
        b.winningPaylines = I;
        this.account.paylinesSelected = b.linesBet;
        this.account.setBetPerLine(b.betPerLine);
        this.freeGames.m_RespinTimer = this.freeGames.RESPIN_TIMER_DELAY;
        this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
        this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
        this.showLines(false);
        this.gameState = SS_STOPPED;
        this.redraw = 1;
        this.reelMan.showSymbols(true, 4294967295);
        this.reelMan.stopAnims();
        this.api_stopWinAnims();
        this.showLines(false);
        this.reelMan.init(b.stops);
        if (b.numFreeGames == 0 || b.winType & WT_FEATURE_TRIGGER && !b.IFG) {
            this.api_switchReels(false);
            this.setBShowFreeSpinBg(false)
        } else {
            this.setBShowFreeSpinBg(true);
            this.api_switchReels(true);
            this.freeGames.m_bInFreeGames = true
        }
        createPaylineTexture2();
        this.account.addWin(b.winAmount);
        for (k = 0; k < q; k++) {
            this.reelMan.showSymbols(true, 4294967295);
            if (b.paylineWins[k].first != -1) {
                this.paylines[b.paylineWins[k].first].disable(false);
                this.paylines[b.paylineWins[k].first].showLine(true)
            }
        }
        game.startIdleMessages = function() {}
        ;
        c = b.numFreeGames;
        this.messageBar.m_Text = b.winType & WT_PICK_FEATURE_TRIGGER || B ? TXT_PICK_BONUS : c > 0 ? c == 1 ? c + " " + TXT_GAME_REMAINING : c + " " + TXT_GAMES_REMAINING : TXT_SCROLL_MESSAGES[0]
    }
    ;
    this.showHistoryPick = function() {}
    ;
    try {
        METRICS = new Metrics;
        METRICS.start();
        this.orientationCallbacks = [];
        this.addOrientationListener = function(a) {
            this.orientationCallbacks.push(a)
        }
        ;
        this.storage = new NovaStorage
    } catch (b) {}
}
function processTouchStart(b) {
    document.onmousedown = null;
    document.onmouseup = null;
    game.processClick({
        x: b.changedTouches[0].pageX,
        y: b.changedTouches[0].pageY
    }, b);
    b.preventDefault()
}
function processTouchEnd(b) {
    game.processClickRelease({
        x: b.changedTouches[0].pageX,
        y: b.changedTouches[0].pageY
    }, b);
    game.buttonsUp()
}
function processTouchMove(b) {
    b = game.translateCoords({
        x: b.changedTouches[0].pageX,
        y: b.changedTouches[0].pageY
    });
    game.useUI3 && game.ui.processMove(b);
    game.api_processTouchMove(b)
}
function getMouseCoords(b) {
    if (b == null)
        b = window.event;
    return b == null ? null : b.pageX || b.pageY ? {
        x: b.pageX,
        y: b.pageY
    } : null
}
document.onmousedown = function(b) {
    var a = getMouseCoords(b);
    a == null || game.showRules || game.processClick(a, b)
}
;
document.onmouseup = function(b) {
    var a = getMouseCoords(b);
    if (!(a == null || game.showRules)) {
        game.processClickRelease(a, b);
        game.buttonsUp()
    }
}
;
document.onmousemove = function(b) {
    b = getMouseCoords(b);
    if (!(b == null || game.showRules)) {
        b = game.translateCoords(b);
        game.api_processTouchMove(b);
        game.useUI3 && game.ui.processMove(b)
    }
}
;
var loadIsCalled = !1
  , globalMessageIndex = 0
  , load = function() {
    if (!loadIsCalled) {
        loadIsCalled = true;
        if (scrollMode == 1 || scrollMode == 2 || scrollMode == 3)
            $(document).on("touchmove", function(b) {
                b.preventDefault()
            });
        anonymousMode ? $("#popup").load("./anon_options.htm", function() {
            $(".hide").click(function() {
                $("#popup").hide();
                $("#overlay").hide();
                game.modalState--;
                return false
            })
        }) : $("#popup").load("./options.htm", function() {
            $(".hide").click(function() {
                $("#popup").hide();
                $("#overlay").hide();
                game.modalState--;
                return false
            })
        });
        welcome = new Welcome;
        welcome.waitForSoundToLoad = waitForSoundToLoad;
        game.message = new Message;
        welcome.layout();
        welcome.draw();
        welcome.startDraw();
        fixFor888 && typeof windowObj.refreshIFrame === "function" && windowObj.refreshIFrame();
		console.log("#####GAME_INTERACTION-WindowObj at scroll to");
        windowObj.window.scrollTo(0, 1);
        game.ASSET_MANAGER.downloadAll(function() {}, game.progressUpdate);
        game.setCommsState(CS_INIT_1);
        $("#popup, .overlay").css("top", "0px");
        game.api_postLoad()
    }
}
  , start = function() {
    assetsLoaded && serverInitialised && welcome.initComplete()
}
  , startGame = function() {
    if (!document.documentMode && !silentAudioPlayed) {
        game.playSound("silentaudio");
        silentAudioPlayed = true
    }
    initAssets();
    game.imagePaylineEnds != null ? bkctx.drawImage(game.imagePaylineEnds, 0, 0) : createPaylineTexture(bkctx);
    for (var b = 0; b < game.account.NUM_PAYLINES; b++)
        game.paylines.push(new Payline(0,0,game.layout.paylineColours[b],game.layout.paylines[b]));
    game.meters.setMeterLabels(TXT_METERS_BALANCE, TXT_METERS_BET, TXT_METERS_WIN);
    createPaylineTexture2();
    calculatePaylineEndSizes();
    game.reelMan.init(game.defaultStops);
    loaded = true;
    try {
        METRICS.stopLoadTime()
    } catch (a) {}
    document.getElementById("game").style.display = "block";
    document.getElementById("help").style.display = "none";
    document.documentElement.style.webkitTouchCallout = "none";
    document.documentElement.style.webkitUserSelect = "none";
	console.log("#####GAME_INTERACTION-WindowObj at canBet to game ready");
    windowObj.gameReady();
    typeof windowObj.pyrRerender === "function" && windowObj.pyrRerender();
    game.clock.init(game.layout.CLOCK_POSITION);
    if (fixFor888) {
        typeof TXT_MENU_BACK != "undefined" && $("#btnBack").prop("value", TXT_MENU_BACK);
        typeof TXT_MENU_LOBBY != "undefined" && $("#btnLobby").prop("value", TXT_MENU_LOBBY);
        typeof TXT_MENU_CASHIER != "undefined" && $("#btnCashier").prop("value", TXT_MENU_CASHIER);
        typeof TXT_MENU_HELP != "undefined" && $("#btnHelp").prop("value", TXT_MENU_HELP)
    }
    showMeters();
    game.freeRounds.init();
    document.documentMode && soundStopped()
}
  , showMeters = function() {}
  , initSound = function(b) {
    game.api_initSound();
    game.initAudioPlayer();
    if (b) {
        welcome.draw();
        waitForSoundToLoad ? game.playSound("click") : beginGameLoop();
        game.ui.enableAudio(true)
    } else {
        game.ui.enableAudio(true);
        game.ui.setMute(true);
        beginGameLoop()
    }
}
  , beginGameLoop = function() {
    startGame();
    game.api_beforeWelcomeHide();
    welcome.stopDraw();
    GameLoop();
    game.modalState = 0;
    game.api_startGame();
    game.freeRounds.intro(function() {
        setTimeout(function() {
            game.roundActive || game.checkLowBalance()
        }, 1E3);
        game.recover()
    })
}
  , exitHelp = function() {
    game.toggleHelp();
	console.log("#####GAME_INTERACTION-WindowObj at scroll to");
    windowObj.setTimeout("window.scrollTo(0, 1)", 500);
    game.playSound("click")
}
  , calculateOffset = function() {
    offset = Math.floor((windowObj.innerWidth - ngg_canvas.width) / 2);
    offset < 0 && (offset = 0);
    popup.style.left = offset + "px";
    overlay.style.left = offset + "px"
}
  , changeOrientation = function(b) {
    game.changeOrientation(b)
}
  , pause = function() {}
  , initGame = function() {}
  , processHistoryMsg = function(b) {
    var a = []
      , a = b.split("&");
    game.processHistoryMsg(a)
}
  , showHistoryPick = function(b, a, d) {
    game.showHistoryPick(b, a, d)
}
  , processServerMsg = function(b) {
    for (var a = [], a = b.split("&"), d = 0; d < a.length; d++) {
        var c = a[d].split("=");
        if (c[0] == "MSGID") {
            if (c[1] == "ERROR") {
                processErrorMsg(a);
                break
            }
            if (c[1] == "INIT") {
                game.api_processResponseMsg(b);
                game.processInitMsg(a);
                game.setCommsState(CS_INIT_2);
                game.freeRounds.processMsg(a);
                break
            }
            if (c[1] == "REELSTRIP") {
                game.api_processResponseMsg(b);
                game.setCommsState(CS_INITIALISED);
                game.freeRounds.processMsg(a);
                break
            }
            if (c[1] == "BET") {
                if (game.api_processJackpotMsg(b, a))
                    game.api_handleJackpot();
                else {
                    game.api_processResponseMsg(b);
                    game.slotResult = game.processMsg(a, 0);
                    game.freeRounds.processMsg(a);
                    game.api_updateReelFromMsg()
                }
                break
            }
            if (c[1] == "UPDATE") {
                game.api_processJackpotUpdateMsg(b, a);
                break
            }
            if (c[1] == "FREE_GAME") {
                if (game.api_processJackpotMsg(b, a))
                    game.api_handleJackpot();
                else {
                    game.api_processResponseMsg(b);
                    game.slotResult = game.processMsg(a, 1);
                    game.freeRounds.processMsg(a);
                    game.api_updateReelFromMsg()
                }
                break
            }
            if (game.api_processFeatureMsg(c[1], a)) {
                game.freeRounds.processMsg(a);
                if (c[1] == "FEATURE_END") {
                    game.freeRounds.updateTotalWin();
                    game.freeRounds.outro();
                    if (game.roundActive && !game.freeGames.m_bInFreeGames) {
                        valueChanged("ROUND", 0);
                        game.roundActive = false
                    }
                }
                break
            }
            game.freeRounds.processMsg(a)
        }
    }
}
  , processErrorMsg = function(b) {
    for (var a = 0; a < b.length; a++) {
        var d = b[a].split("=");
        if (d[0] == "EID") {
            b = parseErrorMsg(d[1]);
            typeof TXT_RELOAD !== "undefined" && (b = b + (" " + TXT_RELOAD));
            if (!delegatedErrorHandling(d[1], b, true)) {
                game.message.messageBox(TXT_ERROR, b, [game.message.BTN_OK], function() {
					console.log("#####GAME_INTERACTION-WindowObj reload game on error");
                    typeof windowObj.reloadGame === "function" && windowObj.reloadGame()
                });
                game.message.setVisibility(gameDisplay);
				console.log("#####GAME_INTERACTION-WindowObj ERROR");
                windowObj.error(d[1])
            }
            break
        }
    }
}
  , sendSpinMsg = function() {
    var b = document.forms.debugform, a;
    if (b)
        a = b.elements.stops.value;
    if (game.slotResult.numFreeGames == 0) {
        try {
            METRICS.addSpin(game.autoPlay ? 1 : 0);
            METRICS.takeBet(parseInt(game.account.getBetAmount()))
        } catch (d) {}
        b = "&MSGID=BET"
    } else {
        try {
            METRICS.addSpin(2)
        } catch (c) {}
        b = "&MSGID=FREE_GAME"
    }
    a && (b = b + "&PRESET=" + a);
    b = gameConfig.way243 ? b + "&BPR=" + game.account.getBetPerLine() + "&RB=" + game.account.reelsSelected + "&" : b + "&BPL=" + game.account.getBetPerLine() + "&LB=" + game.account.paylinesSelected + "&";
    b = game.api_extendSpinMsg(b);
    try {
		console.log("#####GAME_INTERACTION-WindowObj at wrapper API metrics");
        windowObj.wrapperAPI("METRICS", METRICS.getString())
    } catch (e) {}
	console.log("#####GAME_INTERACTION-WindowObj send message to server "+b);
    windowObj.sendMsgToServer(b)
}
  , supportRequestAnimationFrame = void 0 != window.requestAnimationFrame ? !0 : !1
  , GameLoop = function() {
    var b = (new Date).getTime()
      , a = b - game.previousTime;
    game.previousTime = b;
    game.updateGame(a);
    loaded && game.drawGame();
    supportRequestAnimationFrame ? window.requestAnimationFrame(GameLoop) : game.gLoop = setTimeout(GameLoop, 20)
};
(function() {
    function b() {
        this[c] ? a() : d()
    }
    function a() {
        if (e) {
            fullscreen ? game.unloadSound() : game.pauseSound();
            game.gLoop !== void 0 && !supportRequestAnimationFrame && clearTimeout(game.gLoop);
            e = false
        }
    }
    function d() {
        if (!e) {
            if (android && userAgent.match(/android\s([0-9\.]*)/)[1] == "4.1.2" && !game.showRules) {
                f.style.display = "none";
                ngg_canvas.width = ngg_canvas.width;
                f.style.display = "block"
            }
            gameDisplay && game.resumeSound();
            game.previousTime = (new Date).getTime();
            supportRequestAnimationFrame || GameLoop();
            e = true
        }
    }
    var c = "hidden"
      , e = true
      , f = document.getElementById("game");
    game.enableGamePlay = function(b) {
        b ? d() : a()
    }
    ;
    if (c in document)
        document.addEventListener("visibilitychange", b);
    else if ((c = "mozHidden")in document)
        document.addEventListener("mozvisibilitychange", b);
    else if ((c = "webkitHidden")in document) {
        document.addEventListener("webkitvisibilitychange", b);
        window.addEventListener("blur", a, false);
        window.addEventListener("focus", d, false)
    } else
        (c = "msHidden")in document && document.addEventListener("msvisibilitychange", b);
    window.addEventListener("pageshow", d, false);
    window.addEventListener("pagehide", a, false);
    window.addEventListener("onfocusin", d, false);
    window.addEventListener("onfocusout", a, false)
}
)();
(function() {
    var b = document.createElement("style");
    b.innerHTML = '.scrollable{-webkit-transform:translate3d(0,0,0)}.scrollability-scrollbar{position:absolute;top:0;right:2px;width:7px;height:1px;z-index:2147483647;opacity:0;-webkit-transform:translate3d(0,0,0);-webkit-box-sizing:border-box;-webkit-transform-origin:top left;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAABCAYAAADuHp8EAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC5JREFUeNpi/P//vyQDAwMjKytr2Z8/f9gYIICRAQH+Q/n/WVhYfgNBJ4gNEGAAhVUOGMTI0TwAAAAASUVORK5CYII=") no-repeat}';
    document.head.appendChild(b)
}
)();
(function() {
    var b = window
      , a = function(a, b, d, e) {
        function k(a, b) {
            xa.push({
                node: a,
                callback: b,
                keyframes: []
            })
        }
        function u(a) {
            Z = a
        }
        function w(a) {
            S = a;
            A(F, fa)
        }
        function A(a, b) {
            ga = b - fa;
            fa = b;
            P = a - F;
            F = a;
            Math.abs(P) < n ? ++Ha : (Ha && --Ha,
            Ha = 0);
            if (Ca)
                if (J > Q && pa == Q) {
                    var c = J - Q;
                    P *= (1 - c / v) * q
                } else
                    J < V && wa == V && (c = V - J,
                    P *= (1 - c / v) * q);
            return J += P,
            D(J),
            R.style.webkitAnimationName = "",
            xa.forEach(function(a) {
                a.node.style.webkitAnimationName = ""
            }),
            !0
        }
        function B(a) {
            var b = -V - Q;
            if (U && Y < b) {
                var c = Y - 2 * y
                  , d = c / b * c;
                a > Q ? (d = Math.max(d - (a - Q), I),
                a = 0) : a < V ? (d = Math.max(d - (V - a), I),
                a = c - d) : a = Math.abs(a) / b * (c - d);
                return a += y,
                "translate3d(0, " + Math.round(a) + "px,  0) scaleY(" + Math.round(d) + ")"
            }
        }
        function D(b) {
            g("scrollability-scroll", R, {
                direction: a.direction,
                position: b
            }) && (E(b),
            U && C && (b = U,
            b.style.webkitTransition = "",
            b.style.opacity = "1"))
        }
        function E(b) {
            R.style.webkitTransform = a.update(b + S);
            R.scrollableOffset = S;
            xa.forEach(function(a) {
                a.node.style.webkitTransform = a.callback(b)
            })
        }
        function ja(b) {
            U && (b ? (b = U,
            b.style.webkitTransition = "",
            b.style.opacity = "1") : (U.style.opacity = "0",
            U.style.webkitTransition = "opacity 0.33s linear"));
            R.removeEventListener("webkitAnimationEnd", R.normalEnd, !1);
            delete R.earlyEnd;
            delete R.normalEnd;
            a.mute || g("scrollability-end", R)
        }
        var R = a.node
          , Ca = a.constrained
          , na = a.paginated
          , Y = a.viewport || 0
          , U = a.scrollbar
          , J = a.position
          , V = a.min
          , Q = a.max
          , wa = V
          , pa = Math.round(Q / Y) * Y
          , Z = 0
          , P = 0
          , X = na ? j : l
          , v = a.bounce
          , N = Y * o
          , F = startTouch = a.filter(b, d)
          , fa = e
          , ga = 0
          , Ha = 0
          , xa = []
          , S = R.scrollableOffset || 0;
        if (!a.mute && !g("scrollability-start", R, {
            position: J,
            track: k,
            setSpacing: u,
            setOffset: w
        }))
            return null;
        na && (void 0 === Z && (b = Math.round(Math.abs(wa) % Y),
        d = (Math.abs(wa) - b) / Y + 1,
        Z = b / d),
        V = Q = Math.round(J / (Y + Z)) * (Y + Z),
        wa += Z);
        return U && (k(U, B),
        U.parentNode || R.parentNode.appendChild(U)),
        R.earlyEnd && (f(R),
        xa.forEach(function(a) {
            f(a.node)
        }),
        R.earlyEnd(),
        D(J)),
        a.reposition = D,
        a.track = A,
        a.takeoff = function() {
            var b;
            Ha && (P = 0);
            J = J + P;
            D(J);
            P = P / ga * x;
            var d = function(a) {
                var b = J - j;
                if (a || e - k >= z || l < 0 != b < 0) {
                    u.push({
                        position: J,
                        time: e
                    });
                    xa.forEach(function(a) {
                        a.keyframes.push({
                            time: e,
                            css: a.callback(J)
                        })
                    });
                    l = b;
                    j = J;
                    k = e
                }
            }, e = 0, j = J, k = 0, l = 0, n, o, q = 0, u = [];
            if (na && (Math.abs(J - Q) > N || Math.abs(P) > s))
                if (J > Q) {
                    if (Q != pa) {
                        Q = Q + (Y + Z);
                        V = V + (Y + Z);
                        var w = V % Y
                          , w = -Math.round((J + Y - w) / (Y + Z));
                        g("scrollability-page", a.node, {
                            page: w
                        })
                    }
                } else if (V != wa) {
                    Q = Q - (Y + Z);
                    V = V - (Y + Z);
                    w = V % Y;
                    w = -Math.round((J - Y - w) / (Y + Z));
                    g("scrollability-page", a.node, {
                        page: w
                    })
                }
            for (w = true; w; ) {
                if (J > Q && Ca)
                    if (P > 0) {
                        var y = J - Q
                          , y = 1 - y / v;
                        P = Math.max(P - r, 0) * y;
                        J = J + P
                    } else {
                        q || (n = J,
                        o = Q - J);
                        J = q == X ? n + o : o * (-Math.pow(2, -10 * q / X) + 1) + n;
                        w = ++q <= X && Math.floor(Math.abs(J)) > Q
                    }
                else if (J < V && Ca)
                    if (P < 0) {
                        y = V - J;
                        y = 1 - y / v;
                        P = Math.min(P + r, 0) * y;
                        J = J + P
                    } else {
                        q || (n = J,
                        o = V - J);
                        J = q == X ? n + o : o * (-Math.pow(2, -10 * q / X) + 1) + n;
                        w = ++q <= X && Math.ceil(J) < V
                    }
                else {
                    w = Math.floor(Math.abs(P) * 10) > 0;
                    if (!w)
                        break;
                    P = P * p;
                    J = J + P
                }
                d(!w);
                e = e + x
            }
            if (na) {
                J = Math.round(J / (Y + Z)) * (Y + Z);
                d(true)
            } else
                J > Q && Ca ? (J = Q,
                d(true)) : J < V && Ca && (J = V,
                d(true));
            var A = u.length ? u[u.length - 1].time : 0
              , d = "scrollability" + m++;
            n = c(a, u, d, A, S);
            b = u;
            if (A) {
                g("scrollability-animate", R, {
                    direction: a.direction,
                    time: A,
                    keyframes: b
                });
                R.cleanup && R.cleanup();
                h.insertRule(n, 0);
                xa.forEach(function(b) {
                    b.name = "scrollability-track" + m++;
                    b = c(a, b.keyframes, b.name, A);
                    h.insertRule(b, 0)
                });
                R.earlyEnd = function() {
                    ja(true)
                }
                ;
                R.normalEnd = function() {
                    E(b[b.length - 1].position);
                    ja()
                }
                ;
                R.cleanup = function() {
                    delete R.cleanup;
                    h.deleteRule(0);
                    xa.forEach(function() {
                        h.deleteRule(0)
                    })
                }
                ;
                R.addEventListener("webkitAnimationEnd", R.normalEnd, false);
                f(R, d, A);
                xa.forEach(function(a) {
                    f(a.node, a.name, A)
                })
            } else
                ja()
        }
        ,
        a.terminate = function() {
            ja()
        }
        ,
        a
    }
      , d = function(b, c, d, e, f) {
        for (; b; ) {
            if (1 == b.nodeType) {
                var g;
                a: {
                    var h = b;
                    g = h.className.split(" ");
                    if (-1 != g.indexOf("scrollable"))
                        for (var j = 0; j < g.length; ++j) {
                            var k = g[j];
                            if (D[k]) {
                                h = D[k](h);
                                g = (h.direction = k,
                                h.paginated = -1 != g.indexOf("paginated"),
                                h);
                                break a
                            }
                        }
                    g = void 0
                }
                if (g) {
                    k = !1;
                    for (h = 0; h < c.length; ++h)
                        if (c[h].node == b) {
                            k = !0;
                            break
                        }
                    k || (g = a(g, d, e, f),
                    g && c.push(g))
                }
            }
            b = b.parentNode
        }
    }
      , c = function(a, b, c, d, e) {
        var f = ["@-webkit-keyframes " + c + " {"];
        return b.forEach(function(b) {
            b = Math.floor(100 * (b.time / d)) + "% {-webkit-transform: " + (b.css || a.update(b.position + e)) + ";}";
            f.push(b)
        }),
        f.push("}"),
        f.join("\n")
    }
      , e = function(a) {
        for (var b = 0; b < a.length; ++b) {
            var c = a[b];
            c.className = c.className.replace("touched", "")
        }
    }
      , f = function(a, b, c) {
        b && (a.style.webkitAnimation = b + " " + c + "ms linear both");
        a.style.webkitAnimationPlayState = b ? "running" : "paused"
    }
      , g = function(a, b, c) {
        var d = document.createEvent("Events");
        d.initEvent(a, !1, !0);
        if (c)
            for (a in c)
                d[a] = c[a];
        return b.dispatchEvent(d)
    };
    "style scrollability/scrollbar.css";
    "webkitTransform"in document.documentElement.style && /OS 5_/.exec(navigator.userAgent);
    var k = "ontouchstart"in window, p = 0.9925, n = 4, q = 0.75, r = 0.01, l = 240, j = 160, o = 0.5, s = 2, y = 2, I = 7, x = 4, z = 24, w, B, A, E, C, u = [], m = 0, h, D = {
        horizontal: function(a) {
            var b = a.parentNode
              , c = a.querySelector(".scrollable > .clipper") || a;
            a.style.webkitAnimation && (a.style.webkitAnimationPlayState = "paused");
            var d = getComputedStyle(a).webkitTransform
              , d = (new WebKitCSSMatrix(d)).m41 - (a.scrollableOffset || 0);
            return {
                node: a,
                min: -c.offsetWidth + b.offsetWidth,
                max: 0,
                position: d,
                viewport: b.offsetWidth,
                bounce: b.offsetWidth * q,
                constrained: !0,
                filter: function(a) {
                    return a
                },
                disable: function(a, b, c, d) {
                    a = Math.abs(a - c);
                    b = Math.abs(b - d);
                    if (b > a && 10 < b)
                        return !0
                },
                update: function(a) {
                    return "translate3d(" + Math.round(a) + "px, 0, 0)"
                }
            }
        },
        vertical: function(a) {
            var b = a.parentNode
              , c = a.querySelector(".scrollable > .clipper") || a;
            a.style.webkitAnimation && (a.style.webkitAnimationPlayState = "paused");
            var d = getComputedStyle(a).webkitTransform
              , d = (new WebKitCSSMatrix(d)).m42;
            a.scrollableScrollbar || ((a.scrollableScrollbar = document.createElement("div")).className = "scrollability-scrollbar");
            return {
                node: a,
                scrollbar: a.scrollableScrollbar,
                position: d,
                min: -c.offsetHeight + b.offsetHeight,
                max: 0,
                viewport: b.offsetHeight,
                bounce: b.offsetHeight * q,
                constrained: !0,
                filter: function(a, b) {
                    return b
                },
                disable: function(a, b, c, d) {
                    a = Math.abs(a - c);
                    b = Math.abs(b - d);
                    if (a > b && a > 10)
                        return true
                },
                update: function(a) {
                    return "translate3d(0, " + Math.round(a) + "px, 0)"
                }
            }
        }
    };
    b.directions = D;
    b.flashIndicators = function() {}
    ;
    document.addEventListener(k ? "touchstart" : "mousedown", function(a) {
        function b(a) {
            a.preventDefault();
            C = !0;
            r && (clearTimeout(r),
            r = 0);
            h && (e(h),
            h = null);
            var c = k ? a.touches[0] : a;
            A = c.clientX;
            E = c.clientY;
            if (1 < u.length)
                for (c = 0; c < u.length; ++c) {
                    var d = u[c];
                    d.disable && d.disable(A, E, w, B) && (d.terminate(),
                    u.splice(c--, 1),
                    1 == u.length && (d = u[0],
                    g("scrollability-lock", d.node, {
                        direction: d.direction
                    })))
                }
            u.forEach(function(b) {
                var c = b.filter(A, E);
                b.track(c, a.timeStamp)
            })
        }
        function c() {
            if (h) {
                var a = document.createEvent("MouseEvents");
                a.initMouseEvent("click", !0, !0, window, 1);
                h[0].dispatchEvent(a);
                e(h)
            }
            document.removeEventListener(k ? "touchmove" : "mousemove", b, !1);
            document.removeEventListener(k ? "touchend" : "mouseup", c, !1);
            u.forEach(function(a) {
                a.takeoff()
            })
        }
        var f = k ? a.touches[0] : a
          , h = null;
        A = w = f.clientX;
        E = B = f.clientY;
        C = !1;
        for (var f = a.target, j = A, l = E, n = a.timeStamp, p = [], m = document.querySelectorAll(".scrollable.universal"), o = 0; o < m.length; ++o)
            d(m[o], p, j, l, n);
        u = (m.length || d(f, p, j, l, n),
        p);
        if (!u.length)
            return !0;
        var q = a.target
          , r = setTimeout(function() {
            r = 0;
            for (var a = [], b = q; b; b = b.parentNode)
                1 == b.nodeType && (b.className = (b.className ? b.className + " " : "") + "touched",
                a.push(b));
            h = a
        }, 50);
        document.addEventListener(k ? "touchmove" : "mousemove", b, !1);
        document.addEventListener(k ? "touchend" : "mouseup", c, !1)
    }, !1);
    window.addEventListener("load", function() {
        var a = document.createElement("style");
        document.head.appendChild(a);
        h = document.styleSheets[document.styleSheets.length - 1]
    }, !1)
}
)();
function TPButtonDefaultOptions() {
    this.rotate = this.dY = this.dX = this.y = this.x = 0;
    this.scaleY = this.scaleX = this.alpha = 1;
    this.oY = this.oX = 0;
    this.visible = !0;
    this.autoCenter = "auto";
    this.showHitbox = !1;
    this.respectAxis = !0;
    this.height = this.width = 1;
    this.hitPadding = 5;
    this.scale = 0.9;
    this.isActive = this.isDisabled = this.isDown = !1
}
function TPButton(b, a) {
    if (void 0 != b) {
        this.type = "TPButton";
        var d = processDefaultOptions(b, new (void 0 == a ? TPButtonDefaultOptions : a)), c;
        for (c in d)
            this[c] = d[c];
        if (void 0 != d.cfg) {
            this.cfg = {};
            var e = c = 0, f = this.getAdditionalProps(), g;
            for (g in d.cfg) {
                "string" == typeof d.cfg[g] ? (this.cfg[g] = getConfigById(d.cfg[g]),
                void 0 == this.id && "normal" == g && (this.btnid = d.cfg[g])) : "object" == typeof d.cfg[g] && (this.cfg[g] = d.cfg[g]);
                for (var k in f)
                    void 0 == this.cfg[g][k] && (this.cfg[g][k] = f[k]);
                void 0 != d.designScale && (this.cfg[g].designScale = d.designScale);
                if (void 0 != d.props && void 0 != d.props[g])
                    for (k in d.props[g])
                        this.cfg[g][k] = d.props[g][k];
                c = Math.max(c, this.cfg[g].dW * this.cfg[g].designScale);
                e = Math.max(e, this.cfg[g].dH * this.cfg[g].designScale)
            }
            this.hitPaddingTotal = void 0 != d.hitPaddingTotal ? {
                top: void 0 != d.hitPaddingTotal.top ? d.hitPaddingTotal.top : 0,
                right: void 0 != d.hitPaddingTotal.right ? d.hitPaddingTotal.right : 0,
                bottom: void 0 != d.hitPaddingTotal.bottom ? d.hitPaddingTotal.bottom : 0,
                left: void 0 != d.hitPaddingTotal.left ? d.hitPaddingTotal.left : 0
            } : {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0
            };
            this.width = c;
            this.height = e;
            this.hitbox = {
                x: -this.hitPadding / 2 - this.hitPaddingTotal.left,
                y: -this.hitPadding / 2 - this.hitPaddingTotal.top,
                w: this.width + this.hitPadding + this.hitPaddingTotal.right + this.hitPaddingTotal.left,
                h: this.height + this.hitPadding + this.hitPaddingTotal.top + this.hitPaddingTotal.bottom
            };
            this.tooltip = d.tooltipTxt ? new ButtonTooltip(d.tooltipTxt) : null;
            !1 != d.autoCenter && ("auto" == d.autoCenter && (d.autoRespectAxis = !0),
            TPButton.prototype.adjustAxis.call(this, d.autoCenter));
            !0 == d.autoRespectAxis && TPButton.prototype.offsetByAxis.call(this);
            this.dirty = void 0 != d.dirty && !0 == d.dirty
        }
    }
}
TPButton.prototype.setPosition = function(b, a) {
    this.x = b.x;
    this.y = b.y;
    this.tooltip && this.tooltip.setPosition(a)
}
;
TPButton.prototype.isOverDisabled = function(b) {
    return this.isOver(b, !1)
}
;
TPButton.prototype.isOver = function(b, a) {
    if (void 0 == this.hitbox || void 0 == a && this.isDisabled)
        return !1;
    var d = this.x + this.oX + this.dX + this.hitbox.x
      , c = this.y + this.oY + this.dY + this.hitbox.y;
    return b.x > d && b.x < d + this.hitbox.w && b.y > c && b.y < c + this.hitbox.h ? !0 : !1
}
;
TPButton.prototype.processMove = function(b) {
    this.tooltip && this.tooltip.setVisible(this.isOver(b))
}
;
TPButton.prototype.getAdditionalProps = function() {
    return {
        designScale: 1,
        alpha: 1
    }
}
;
TPButton.prototype.adjustAxis = function(b) {
    this.dX = -(this.width / 2);
    this.dY = -(this.height / 2);
    b = b.toString().toLowerCase();
    -1 != b.indexOf("floor") ? (this.dX = Math.floor(this.dX),
    this.dY = Math.floor(this.dY)) : -1 != b.indexOf("round") && (this.dX = Math.round(this.dX),
    this.dY = Math.round(this.dY))
}
;
TPButton.prototype.offsetByAxis = function() {
    for (var b in this.cfg)
        this.cfg[b].x = -(this.cfg[b].dW / 2) * (1 - this.cfg[b].designScale),
        this.cfg[b].y = -(this.cfg[b].dH / 2) * (1 - this.cfg[b].designScale);
    this.oX -= this.dX;
    this.oY -= this.dY
}
;
TPButton.prototype.drawTooltip = function(b) {
    this.tooltip && (this.visible && !this.isDisabled) && this.tooltip.draw(b)
}
;
TPButton.prototype.draw = function(b) {
    if (this.visible) {
        var a = gameViewMan.viewScale;
        this.drawHitbox(b);
        b.save();
        this.dirty && (this.handleDirty(),
        this.dirty = !1);
        b.globalAlpha = this.alpha;
        b.translate((this.x + this.oX) * a, (this.y + this.oY) * a);
        var d = this.isDown ? this.scale : 1;
        b.scale(this.scaleX * d, this.scaleY * d);
        0 != this.rotate && b.rotate(this.rotate * Math.PI / 180);
        var c, d = this.isActive ? this.cfg.active : this.isDisabled ? this.cfg.disabled : this.cfg.normal;
        void 0 != d && (c = d.designScale,
        b.translate(d.x * a * c, d.y * a * c),
        b.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, (d.dX + this.dX) * a * c, (d.dX + this.dY) * a * c, d.dW * a * c, d.dH * a * c));
        b.restore();
        this.drawTooltip(b)
    }
}
;
TPButton.prototype.drawHitbox = function(b) {
    if (this.showHitbox) {
        var a = gameViewMan.viewScale
          , d = b.globalAlpha;
        b.globalAlpha = 0.5;
        b.lineWidth = 3;
        b.fillStyle = "black";
        b.fillRect((this.x + this.oX + this.dX + this.hitbox.x) * a, (this.y + this.oY + this.dY + this.hitbox.y) * a, this.hitbox.w * a, this.hitbox.h * a);
        b.globalAlpha = d
    }
}
;
TPButton.prototype.handleDirty = function() {}
;
function TPMaxbetPanel(b, a) {
    this.x = void 0 != b.x ? b.x : 0;
    this.y = void 0 != b.y ? b.y : 0;
    this.oX = void 0 != b.oX ? b.oX : 0;
    this.oY = void 0 != b.oY ? b.oY : 0;
    this.dX = void 0 != b.dX ? b.dX : 0;
    this.dY = void 0 != b.dY ? b.dY : 0;
    this.rotate = void 0 != b.rotate ? b.rotate : 0;
    this.alpha = void 0 != b.alpha ? b.alpha : 1;
    this.scaleX = void 0 != b.scaleX ? b.scaleX : 1;
    this.scaleY = void 0 != b.scaleY ? b.scaleY : 1;
    this.visible = void 0 != b.visible ? b.visible : !0;
    this.showHitbox = void 0 != b.showHitbox ? b.showHitbox : !1;
    this.coinsEnabled = 0;
    this.hitPadding = void 0 != b.hitPadding ? b.hitPadding : 5;
    this.isActive = this.isDisabled = this.isDown = !1;
    this.countStates = game.account.betAmounts.length;
    this.countCoins = b.countCoins ? b.countCoins : 5;
    var d = new CoinMeterLogic(game.account.betAmounts,this.countCoins);
    this.coins = [];
    for (var c = 0, e = 0, f = 0, f = [0, 0, 0, 0, 0], g = 0; g < this.countCoins; ++g)
        this.coins[g] = new TPMaxbetCoin(this,b,a),
        this.coins[g].x = 0.22 * g * this.coins[g].width,
        this.coins[g].y += f[g],
        c += this.coins[g].width,
        e = this.coins[g].height;
    f = 0.44 * this.coins[0].width;
    this.hitPaddingTotal = void 0 != b.hitPaddingTotal ? {
        top: void 0 != b.hitPaddingTotal.top ? b.hitPaddingTotal.top : 0,
        right: void 0 != b.hitPaddingTotal.right ? b.hitPaddingTotal.right : 0,
        bottom: void 0 != b.hitPaddingTotal.bottom ? b.hitPaddingTotal.bottom : 0,
        left: void 0 != b.hitPaddingTotal.left ? b.hitPaddingTotal.left : 0
    } : {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0
    };
    this.width = 0.22 * c + f;
    this.height = e;
    this.hitbox = {
        x: -this.hitPadding / 2 - this.hitPaddingTotal.left,
        y: -this.hitPadding / 2 - this.hitPaddingTotal.top,
        w: this.width + this.hitPadding + this.hitPaddingTotal.right + this.hitPaddingTotal.left,
        h: this.height + this.hitPadding + this.hitPaddingTotal.top + this.hitPaddingTotal.bottom
    };
    this.tooltip = void 0 != b.tooltipTxt ? new ButtonTooltip(b.tooltipTxt) : null;
    this.drawlist = [];
    void 0 != b.background && (this.background = new TPMovie(b.background),
    this.drawlist[0] = this.background);
    for (var k in this.coins[0].tweenProps)
        if (-1 != k.indexOf("glow"))
            for (c = 0; c < this.coins.length; ++c)
                this.drawlist.push(this.coins[c].tweenProps[k]);
    for (g = 0; g < this.coins.length; ++g)
        this.drawlist.push(this.coins[g].tweenProps.coinoff),
        this.drawlist.push(this.coins[g].tweenProps.coinoff_dim),
        this.drawlist.push(this.coins[g].tweenProps.coinon),
        this.drawlist.push(this.coins[g].tweenProps.coinon_dim);
    this.update = function() {
        this.coinsEnabled = d.getLegacyIndex();
        for (var a = 0; a < this.coins.length; ++a)
            this.coins[a].update(this.coinsEnabled - 1 >= a, this.coinsEnabled == 5)
    }
    ;
    this.draw = function(a) {
        if (this.visible) {
            TPButton.prototype.drawHitbox.call(this, a);
            this.update();
            var b = gameViewMan.viewScale;
            a.save();
            a.globalAlpha = this.alpha;
            a.translate(this.x * b, this.y * b);
            for (b = 0; b < this.drawlist.length; ++b)
                this.drawlist[b].draw(a);
            a.restore();
            this.drawTooltip(a)
        }
    }
    ;
    this.drawTooltip = function(a) {
        this.visible && (this.tooltip && !this.isDisabled) && this.tooltip.draw(a)
    }
    ;
    this.isOver = function(a, b) {
        if (this.hitbox == void 0 || b == void 0 && this.isDisabled)
            return false;
        var c = this.x + this.oX + this.dX + this.hitbox.x
          , d = this.y + this.oY + this.dY + this.hitbox.y;
        return a.x > c && a.x < c + this.hitbox.w && a.y > d && a.y < d + this.hitbox.h ? true : false
    }
    ;
    this.processMove = function(a) {
        this.tooltip && this.tooltip.setVisible(this.isOver(a))
    }
    ;
    this.setPosition = function(a, b) {
        this.x = a.x;
        this.y = a.y;
        this.tooltip && this.tooltip.setPosition(b)
    }
}
function TPMaxbetCoin(b, a, d) {
    if (void 0 != a) {
        this.parent = b;
        this.type = "TPButtonBetMax";
        var b = processDefaultOptions(a, new (void 0 == d ? TPButtonDefaultOptions : d)), c;
        for (c in b)
            this[c] = b[c];
        this.active = !1;
        this.cfg = {};
        this.tweenProps = {};
        var a = c = 0, d = this.getAdditionalProps(), e, f;
        for (f in b.cfg) {
            "string" == typeof b.cfg[f] ? this.cfg[f] = getConfigById(b.cfg[f]) : "object" == typeof b.cfg[f] && (this.cfg[f] = b.cfg[f]);
            if (void 0 != b.props && void 0 != b.props[f])
                for (var g in b.props[f])
                    this.cfg[f][g] = b.props[f][g];
            for (g in d)
                void 0 == this.cfg[f][g] && (this.cfg[f][g] = d[g]);
            void 0 != b.designScale && (this.cfg[f].designScale = b.designScale);
            if (void 0 != b.props && void 0 != b.props[f])
                for (g in b.props[f])
                    this.cfg[f][g] = b.props[f][g];
            var k = c;
            c = Math.max(c, this.cfg[f].dW * this.cfg[f].designScale);
            a = Math.max(a, this.cfg[f].dH * this.cfg[f].designScale);
            c > k && (e = f)
        }
        this.hitPaddingTotal = void 0 != b.hitPaddingTotal ? {
            top: void 0 != b.hitPaddingTotal.top ? b.hitPaddingTotal.top : 0,
            right: void 0 != b.hitPaddingTotal.right ? b.hitPaddingTotal.right : 0,
            bottom: void 0 != b.hitPaddingTotal.bottom ? b.hitPaddingTotal.bottom : 0,
            left: void 0 != b.hitPaddingTotal.left ? b.hitPaddingTotal.left : 0
        } : {
            top: 0,
            right: 0,
            bottom: 0,
            left: 0
        };
        this.width = c;
        this.height = a;
        this.hitbox = {
            x: -this.hitPadding / 2 - this.hitPaddingTotal.left,
            y: -this.hitPadding / 2 - this.hitPaddingTotal.top,
            w: this.width + this.hitPadding + this.hitPaddingTotal.right + this.hitPaddingTotal.left,
            h: this.height + this.hitPadding + this.hitPaddingTotal.top + this.hitPaddingTotal.bottom
        };
        this.dX = -(this.width / 2);
        this.dY = -(this.height / 2);
        c = this.cfg[e];
        c.x = -(this.width / 2);
        c.y = -(this.height / 2);
        g = c.x - c.oX;
        c = c.y - c.oY;
        for (f in this.cfg)
            a = this.cfg[f],
            f != e && (a.x = a.oX + g,
            a.y = a.oY + c);
        this.oX -= this.dX;
        this.oY -= this.dY;
        this.dimlist = [];
        this.activelist = [];
        this.tweenProps = {};
        e = void 0 == b.disabledKeyword ? "dim" : b.disabledKeyword;
        for (f in this.cfg)
            this.tweenProps[f] = {},
            this.tweenProps[f].alpha = 1,
            this.tweenProps[f].visible = !0,
            -1 != f.indexOf(e) ? this.dimlist[this.dimlist.length] = [this.cfg[f], this.tweenProps[f]] : this.activelist[this.dimlist.length] = [this.cfg[f], this.tweenProps[f]],
            this.tweenProps[f].src = this,
            this.tweenProps[f].cfg = this.cfg[f],
            this.tweenProps[f].draw = function(a) {
                var b = gameViewMan.viewScale, c, d, e = this.cfg, f, g = this.src;
                tp = this;
                tp.visible && 0 < tp.alpha && (f = e.designScale,
                oa = a.globalAlpha,
                a.globalAlpha = tp.alpha,
                c = ((e.dX + g.dX + e.x) * f + (g.x + g.oX) + 0.5 * (e.dW * f) * (1 - g.scaleX)) * b,
                d = ((e.dY + g.dY + e.y) * f + (g.y + g.oY) + 0.5 * (e.dH * f) * (1 - g.scaleY)) * b,
                a.drawImage(e.img, e.sX, e.sY, e.sW, e.sH, c, d, e.dW * b * f * g.scaleX, e.dH * b * f * g.scaleY),
                a.globalAlpha = oa)
            }
    }
}
TPMaxbetCoin.prototype = new TPButton;
TPMaxbetCoin.prototype.update = function(b, a) {
    var d = this.parent.isDown
      , c = this.parent.isDisabled;
    this.scaleX = d ? 0.9 : 1;
    this.scaleY = d ? 0.9 : 1;
    if (d)
        this.tweenProps.coinon.visible = !0,
        this.tweenProps.coinon_dim.visible = !1,
        this.tweenProps.coinglow.visible = !0,
        this.tweenProps.coinglow_dim.visible = !1,
        this.tweenProps.coinoff.visible = !1,
        this.tweenProps.coinoff_dim.visible = !1;
    else if (b ? (this.tweenProps.coinoff.visible = !1,
    this.tweenProps.coinoff_dim.visible = !1,
    this.tweenProps.coinon.visible = !c,
    this.tweenProps.coinon_dim.visible = c) : (this.tweenProps.coinoff.visible = !c,
    this.tweenProps.coinoff_dim.visible = c,
    this.tweenProps.coinon.visible = !1,
    this.tweenProps.coinon_dim.visible = !1),
    this.tweenProps.coinglow.visible = this.tweenProps.coinon.visible,
    this.tweenProps.coinglow_dim.visible = this.tweenProps.coinon_dim.visible,
    !a)
        this.tweenProps.maxglow.visible = !1,
        this.tweenProps.maxglow_dim.visible = !1
}
;
TPMaxbetCoin.prototype.draw = function(b) {
    if (this.visible && this.parent.visible) {
        var a = gameViewMan.viewScale;
        this.drawHitbox(b);
        b.save();
        b.globalAlpha = this.alpha * this.parent.alpha;
        b.translate((this.x + this.oX + this.parent.x) * a, (this.y + this.oY + this.parent.y) * a);
        b.scale(this.scaleX * this.parent.scaleX, this.scaleY * this.parent.scaleY);
        (0 != this.rotate || 0 != this.parent.rotate) && b.rotate((this.rotate + this.parent.rotate) * Math.PI / 180);
        var d, c, e, f;
        for (f in this.cfg)
            d = this.cfg[f],
            e = this.tweenProps[f],
            null != d && (0 < e.alpha && e.visible) && (b.save(),
            c = d.designScale,
            b.globalAlpha = e.alpha,
            b.translate(d.x * a * c, d.y * a * c),
            b.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, (d.dX + this.dX) * a * c, (d.dX + this.dY) * a * c, d.dW * a * c, d.dH * a * c),
            b.restore());
        b.restore()
    }
}
;
function CoinMeterLogic(b, a) {
    for (var d = [], c = [], d = b, e = [], f = [], g = b.length, k, p, n = 1, q = 0, n = 0; n < a; n++)
        e[n] = [];
    e[a - 1].push(1);
    k = Math.floor((g - 1) / (a - 1));
    p = (g - 1) % (a - 1);
    for (var r = 0; r < k; r++) {
        3 == e[1].length ? (q = 2,
        p += 2) : 2 == e[0].length && (q = 1,
        p += 1);
        for (n = a - 2; n >= q; n--)
            e[n].push(1)
    }
    for (; 0 < p; ) {
        3 == e[1].length ? q = 2 : 2 == e[0].length && (q = 1);
        for (n = a - 2; n >= q && !(e[n].push(1),
        p--,
        0 == p); n--)
            ;
    }
    for (k = 0; k < e.length; k++)
        for (p = 0; p < e[k].length; p++)
            f.push(k + 1);
    c = f;
    this.getCoinIndexWithBet = function(a) {
        var b = -1
          , a = d.indexOf(a);
        return b = c[a]
    }
    ;
    this.getCoinIndexWithIndex = function(a) {
        return c[a]
    }
    ;
    this.getLegacyIndex = function() {
        var b = Math.floor(a * ((game.account.currentBetIndex + 1) / g));
        return b || 1
    }
}
;var quality = windowObj.quality ? windowObj.quality : "sq";
"hq" == quality && (UILayout = function() {
    this.orientation = 0;
    this.btnSpin = {
        cfg: {
            normal: "btnSpin",
            disabled: "btnSpinOff"
        },
        designScale: 0.5,
        dirty: !1
    };
    this.btnStartAutoPlay = {
        cfg: {
            normal: "btnAutoPlay",
            disabled: "btnAutoPlayOff"
        },
        designScale: 0.5,
        dirty: !1
    };
    this.btnAutoPlayCounter = {
        nx: 306,
        ny: 378,
        nwidth: 65,
        nheight: 37,
        dx: 386,
        dy: 378,
        dwidth: 65,
        dheight: 37
    };
    this.btnStopAutoPlay = {
        cfg: {
            normal: "btnAutoStop",
            disabled: "btnAutoStopOff"
        },
        designScale: 0.5,
        dirty: !1
    };
    this.btnContinue = {
        cfg: {
            normal: "btnContinue",
            disabled: "btnContinueOff"
        },
        designScale: 0.5,
        dirty: !1
    };
    this.btnStop = {
        cfg: {
            normal: "btnStop",
            disabled: "btnStopOff"
        },
        designScale: 0.5,
        dirty: !1
    };
    this.btnHomeGame = {
        cfg: {
            normal: "btnHomeOn",
            disabled: "btnHomeOff"
        },
        designScale: 0.45
    };
    this.btnCashierGame = {
        cfg: {
            normal: "btnCashierOn",
            disabled: "btnCashierOff"
        },
        designScale: 0.45
    };
    this.btnSettings = {
        cfg: {
            normal: "btnToolOn"
        },
        designScale: 0.45
    };
    this.btnHold = {
        nx: 0,
        ny: 0,
        nwidth: 800,
        nheight: 468,
        dx: 0,
        dy: 0,
        dwidth: 800,
        dheight: 468
    };
    this.imgWinMeterBackground = {
        x: 0,
        y: 468,
        w: 572,
        h: 62
    };
    this.btnInGameBet = {
        nx: 305,
        ny: 11,
        nwidth: 70,
        nheight: 70,
        dx: 460,
        dy: 13,
        dwidth: 70,
        dheight: 70
    };
    this.btnBetDown = {
        cfg: {
            normal: "btnBetDownOff",
            disabled: "btnBetDownOn"
        },
        designScale: 0.5,
        hitPaddingTotal: {
            right: -2.5
        },
        altX: -80,
        altY: 519,
        tooltipalt: {
            x: -5,
            y: 470
        }
    };
    this.btnBetUp = {
        cfg: {
            normal: "btnBetUpOn",
            disabled: "btnBetUpOff"
        },
        designScale: 0.5,
        hitPaddingTotal: {
            left: -2.5
        },
        altX: 42,
        altY: 517,
        tooltipalt: {
            x: -5,
            y: 470
        }
    };
    this.igbBetMax = {
        cfg: {
            maxglow: "btnCoin_maxbetglow",
            maxglow_dim: "btnCoin_maxbetglow_grey",
            coinglow: "btnCoin_changebetglow",
            coinglow_dim: "btnCoin_changebetglow_grey",
            coinoff: "btnCoin_off",
            coinoff_dim: "btnCoin_off_grey",
            coinon: "btnCoin_on",
            coinon_dim: "btnCoin_on_grey"
        },
        designScale: 0.5,
        dirty: !1,
        dirtyProps: {
            altX: -41,
            altY: 512
        },
        tooltipalt: {
            x: -5,
            y: 470
        }
    };
    this.coinInGameBet = {
        x: 660,
        y: 275,
        w: 16,
        h: 37
    };
    this.btnHomeSettings = {
        nx: 20,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 20,
        dy: 70,
        dwidth: 76,
        dheight: 46
    };
    this.btnCashier = {
        nx: 87,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 87,
        dy: 70,
        dwidth: 76,
        dheight: 46
    };
    this.btnMute = {
        nx: 165,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 168,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 165,
        ay: 139,
        awidth: 76,
        aheight: 46
    };
    this.btnMuteOff = {
        nx: 237,
        ny: 1,
        nwidth: 76,
        nheight: 46,
        dx: 237,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 237,
        ay: 140,
        awidth: 76,
        aheight: 46
    };
    this.btnAutoplaySettings = {
        nx: 312,
        ny: 0,
        nwidth: 86,
        nheight: 46,
        dx: 312,
        dy: 70,
        dwidth: 86,
        dheight: 46,
        ax: 312,
        ay: 139,
        awidth: 86,
        aheight: 46
    };
    this.btnInfo = {
        nx: 400,
        ny: 0,
        nwidth: 60,
        nheight: 46,
        dx: 400,
        dy: 70,
        dwidth: 60,
        dheight: 46,
        ax: 400,
        ay: 139,
        awidth: 60,
        aheight: 46
    };
    this.btnBetSettings = {
        nx: 462,
        ny: 0,
        nwidth: 76,
        nheight: 46,
        dx: 462,
        dy: 70,
        dwidth: 76,
        dheight: 46,
        ax: 462,
        ay: 139,
        awidth: 76,
        aheight: 46
    };
    this.btnClose = {
        nx: 675,
        ny: 0,
        nwidth: 60,
        nheight: 46,
        dx: 675,
        dy: 70,
        dwidth: 60,
        dheight: 46,
        ax: 675,
        ay: 139,
        awidth: 60,
        aheight: 46
    };
    this.btnMaxLines = {
        nx: 121,
        ny: 273,
        nwidth: 104,
        nheight: 64,
        dx: 541,
        dy: 273,
        dwidth: 104,
        dheight: 64
    };
    this.btnMaxBet = {
        nx: 0,
        ny: 280,
        nwidth: 104,
        nheight: 49,
        dx: 420,
        dy: 280,
        dwidth: 104,
        dheight: 49
    };
    this.btnFreeRounds = {
        nx: 0,
        ny: 0,
        nwidth: 62,
        nheight: 62,
        dx: 0,
        dy: 0,
        dwidth: 1,
        dheight: 1
    };
    this.defaultHomeGameBtnPos = {
        x: 5,
        y: 5
    };
    this.defaultCashierGameBtnPos = {
        x: 100,
        y: 5
    };
    this.defaultSettingsBtnPos = {
        x: 885,
        y: 5
    };
    this.defaultFreeRoundsBtnPos = {
        x: 750,
        y: 5
    };
    this.defaultSpinBtnPos = {
        x: 642,
        y: 395
    };
    this.defaultStopBtnPos = {
        x: 842,
        y: 495
    };
    this.defaultContinueBtnPos = {
        x: 842,
        y: 495
    };
    this.defaultStartAutoplayBtnPos = {
        x: 842,
        y: 495
    };
    this.defaultStopAutoplayBtnPos = {
        x: 842,
        y: 495
    };
    this.defaultGamesRemainingMeterPos = {
        x: 902,
        y: 505
    };
    this.defaultGamesRemainingMeterPos2 = {
        x: 902,
        y: 508
    };
    this.defaultGamesRemainingMeterFont = "bold 25px arial";
    this.defaultGamesRemainingMeterFont2 = "bold 22px arial";
    this.defaultGamesRemainingBGPos = {
        x: 869,
        y: 479
    };
    this.defaultGamesRemainingBGPos2 = {
        x: 869,
        y: 482
    };
    this.defaultWinMeterPos = {
        x: 480,
        y: 493
    };
    this.defaultWinMeterBGPos = {
        x: 195,
        y: 445
    };
    this.defaultSpinBtnTooltipOffset = {
        x: 902,
        y: 470
    };
    this.defaultStopBtnTooltipOffset = {
        x: 902,
        y: 470
    };
    this.defaultContinueBtnTooltipOffset = {
        x: 902,
        y: 470
    };
    this.defaultBetUpTooltipOffset = {
        x: 92,
        y: 495
    };
    this.defaultBetDownTooltipOffset = {
        x: 92,
        y: 495
    };
    this.defaultBetMaxTooltipOffset = {
        x: 92,
        y: 495
    };
    this.btnInGameBetPos = {
        x: -70,
        y: 34
    };
    this.igbIconPos = {
        x: -540,
        y: 48
    };
    this.inGameSliderPos = {
        x: -450,
        y: 54
    };
    this.inGameSliderBackground = {
        x: -555,
        y: 44,
        w: 585,
        h: 50,
        c: 25
    };
    this.defaultBetUpBtn = {
        x: 120,
        y: 519
    };
    this.defaultBetDownBtn = {
        x: 0,
        y: 519
    };
    this.defaultBetMaxBtn = {
        x: 55,
        y: 527
    };
    this.igbClipPolygon1 = [{
        x: -600,
        y: -20
    }, {
        x: 60,
        y: -20
    }, {
        x: 60,
        y: 44
    }, {
        x: 8,
        y: 44
    }, {
        x: 4,
        y: 59
    }, {
        x: 4,
        y: 70
    }, {
        x: 4,
        y: 80
    }, {
        x: 8,
        y: 94
    }, {
        x: 8,
        y: 100
    }, {
        x: -600,
        y: 100
    }];
    this.igbClipPolygon2 = [{
        x: -600,
        y: -20
    }, {
        x: 60,
        y: -20
    }, {
        x: 60,
        y: 44
    }, {
        x: 15,
        y: 44
    }, {
        x: 10,
        y: 59
    }, {
        x: 10,
        y: 70
    }, {
        x: 10,
        y: 80
    }, {
        x: 14,
        y: 94
    }, {
        x: 14,
        y: 100
    }, {
        x: -600,
        y: 100
    }];
    this.defaultHoldBtnPos = {
        x: 70,
        y: 50
    };
    this.iconBarPos = {
        x: 0,
        y: 10
    };
    this.iconBarSize = {
        w: 960,
        h: 73
    };
    this.iconBarIconOffset = 14;
    this.defaultHomeSettingsBtnPos = {
        x: 25,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultCashierBtnPos = {
        x: 165,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultMuteBtnPos = {
        x: 310,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultAutoplaySettingsBtnPos = {
        x: 440,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultInfoBtnPos = {
        x: 590,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultBetSettingsBtnPos = {
        x: 715,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultCloseBtnPos = {
        x: 855,
        y: this.iconBarPos.y + this.iconBarIconOffset
    };
    this.defaultMaxLinesPos = {
        x: 85,
        y: 188
    };
    this.defaultLinesSliderPos = {
        x: 310,
        y: 200
    };
    this.defaultMaxBetPos = {
        x: 90,
        y: 370
    };
    this.defaultBetSliderPos = {
        x: 310,
        y: 370
    };
    this.defaultInsufficientFundsPos = {
        x: 470,
        y: 530
    };
    this.keypadHitPadding = 10;
    this.hitPadding = 20;
    this.keypadFrameFormat = {
        x: 664,
        y: 115,
        w: 280,
        h: 380,
        r: 44
    };
    this.UI_HIGHLIGHT = "#7effbe";
    this.UI_WARN = "#f17c68";
    this.UI_LIGHT_GREY = "#3d3b3b";
    this.UI_DARK_GREY = "#252525";
    this.UI_WHITE = "#FFFFFF";
    this.sliderCol = this.UI_HIGHLIGHT;
    this.baseLineCol = this.UI_LIGHT_GREY;
    this.sliderFontFmt = {
        font: "36px arial",
        align: "center",
        col: this.UI_WHITE
    };
    this.baseLineFmt = {
        width: 20,
        col: this.baseLineCol
    };
    this.selectedLineFmt = {
        width: 20,
        col: this.sliderCol,
        colAlt: this.UI_WARN
    };
    this.selectorFmt = {
        radius: 15,
        col: this.UI_LIGHT_GREY,
        textOffset: 40
    };
    this.sliderInGameFontFmt = {
        font: "24px arial",
        align: "center",
        col: this.UI_WHITE
    };
    this.baseLineInGameFmt = {
        width: 15,
        col: this.baseLineCol
    };
    this.selectedLineInGameFmt = {
        width: 15,
        col: this.sliderCol,
        colAlt: this.UI_WARN
    };
    this.selectorInGameFmt = {
        radius: 12,
        col: this.UI_LIGHT_GREY,
        textOffset: 40
    };
    this.tabBackgroundColour = this.UI_LIGHT_GREY;
    this.iconBarColour = this.UI_DARK_GREY;
    this.meterLabelCol = this.UI_HIGHLIGHT;
    this.meterValueCol = this.UI_WHITE;
    this.meterBackgroundCol = [{
        p: 0,
        col: "#000"
    }, {
        p: 1,
        col: "#000"
    }];
    this.betSliderConfig = {
        w: 450,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.betInGameSliderConfig = {
        w: 300,
        h: 30,
        valueFmt: this.sliderInGameFontFmt,
        baseLineFmt: this.baseLineInGameFmt,
        selectedLineFmt: this.selectedLineInGameFmt,
        selectorFmt: this.selectorInGameFmt
    };
    this.linesSliderConfig = {
        w: 450,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.gameNumberSliderConfig = {
        w: 465,
        h: 50,
        valueFmt: this.sliderFontFmt,
        baseLineFmt: this.baseLineFmt,
        selectedLineFmt: this.selectedLineFmt,
        selectorFmt: this.selectorFmt
    };
    this.orient = function(b) {
        this.orientation = b;
        this.HOME_GAME_BTN = this.defaultHomeGameBtnPos;
        this.CASHIER_GAME_BTN = this.defaultCashierGameBtnPos;
        this.SETTINGS_BTN = this.defaultSettingsBtnPos;
        this.SPIN_BTN = this.defaultSpinBtnPos;
        this.STOP_BTN = this.defaultStopBtnPos;
        this.CONTINUE_BTN = this.defaultContinueBtnPos;
        this.START_AUTOPLAY_BTN = this.defaultStartAutoplayBtnPos;
        this.STOP_AUTOPLAY_BTN = this.defaultStopAutoplayBtnPos;
        this.GAMES_REMAINING_METER = this.defaultGamesRemainingMeterPos;
        this.WIN_METER = this.defaultWinMeterPos;
        this.WIN_METER_BG = this.defaultWinMeterBGPos;
        this.HOLD_BTN = this.defaultHoldBtnPos;
        this.BET_UP_BTN = this.defaultBetUpBtn;
        this.BET_DOWN_BTN = this.defaultBetDownBtn;
        this.BET_MAX_BTN = this.defaultBetMaxBtn;
        this.SPIN_BTN_TOOLTIP = this.defaultSpinBtnTooltipOffset;
        this.STOP_BTN_TOOLTIP = this.defaultStopBtnTooltipOffset;
        this.CONTINUE_BTN_TOOLTIP = this.defaultContinueBtnTooltipOffset;
        this.BET_UP_BTN_TOOLTIP = this.defaultBetUpTooltipOffset;
        this.BET_DOWN_BTN_TOOLTIP = this.defaultBetDownTooltipOffset;
        this.BET_MAX_BTN_TOOLTIP = this.defaultBetMaxTooltipOffset;
        this.FREE_ROUNDS_BTN = this.defaultFreeRoundsBtnPos;
        this.MUTE_BTN = this.defaultMuteBtnPos;
        this.INFO_BTN = this.defaultInfoBtnPos;
        this.HOME_SETTINGS_BTN = this.defaultHomeSettingsBtnPos;
        this.CLOSE_BTN = this.defaultCloseBtnPos;
        this.CASHIER_BTN = this.defaultCashierBtnPos;
        this.AUTOPLAY_SETTINGS_BTN = this.defaultAutoplaySettingsBtnPos;
        this.BET_SETTINGS_BTN = this.defaultBetSettingsBtnPos;
        this.LINES_SLIDER_BTN = this.defaultLinesSliderPos;
        this.BET_SLIDER_BTN = this.defaultBetSliderPos;
        this.MAX_LINES_BTN = this.defaultMaxLinesPos;
        this.MAX_BET_BTN = this.defaultMaxBetPos;
        this.INSUFFICIENT_FUNDS = this.defaultInsufficientFundsPos
    }
}
);
quality = windowObj.quality ? windowObj.quality : "sq";
if ("hq" == quality) {
    (function() {
        function b(a, b) {
            var b = b || {
                bubbles: !1,
                cancelable: !1,
                detail: void 0
            }
              , c = document.createEvent("CustomEvent");
            c.initCustomEvent(a, b.bubbles, b.cancelable, b.detail);
            return c
        }
        if ("function" === typeof window.CustomEvent)
            return !1;
        b.prototype = window.Event.prototype;
        window.CustomEvent = b
    }
    )();
    var ui = function() {
        this.isUI3 = !0;
        this.reelStop = this.initStop = 300;
        this.windUp = 200;
        this.bounce = 400;
        this.reelSpeed = 100;
        this.layout = new UILayout;
        this.autoPlayMan = new AutoPlayManager;
        this.disableAllUI = this.uiInitialized = !1;
        this.AUTO_OFF = 0;
        this.AUTO_WAITING_TO_START = 1;
        this.AUTO_PLAYING = 2;
        this.AUTO_WAITING_TO_STOP = 3;
        this.AUDIO_DISABLED = 0;
        this.AUDIO_ON = 1;
        this.AUDIO_MUTED = 2;
        this.VIEW_GAME = 0;
        this.VIEW_SETTINGS = 1;
        this.state = this.VIEW_GAME;
        this.tabView = 0;
        this.tooltipIsActive = !1;
        this.currentMousePosition = {
            x: 0,
            y: 0
        };
        this.autoPlayMode = this.AUTO_OFF;
        this.audioState = this.AUDIO_ON;
        this.insufficientFunds = !1;
        this.disableHomeBtnMidRound = !0;
        this.winMeterShow = this.showCashierGameBtn = this.showCashierBtn = !1;
        this.btnHomeGame = {};
        this.btnCashierGame = {};
        this.btnSettings = {};
        this.btnHold = {};
        this.btnHomeSettings = {};
        this.btnCashier = {};
        this.btnMute = {};
        this.btnMuteOff = {};
        this.btnInfo = {};
        this.btnHelp = {};
        this.btnClose = {};
        this.btnAutoplaySettings = {};
        this.btnBetSettings = {};
        this.btnLinesSlider = {};
        this.btnBetSlider = {};
        this.btnMaxLines = {};
        this.btnMaxBet = {};
        this.btnSpin = {};
        this.btnStop = {};
        this.btnContinue = {};
        this.btnStartAutoPlay = {};
        this.btnStopAutoPlay = {};
        this.btnFreeRounds = {};
        this.btnBetUp = {};
        this.btnBetDown = {};
        this.btnBetMax = {};
        this.autoPlayGamesRemainingMeterBG = {};
        this.imgGameUI = {};
        this.imgMenuUI = {};
        this.imgFreeRounds = null;
        this.inFreeRounds = !1;
        this.showHomeButton = this.lineSelection = !0;
        this.gameMeterLabelCol = "#FFFF00";
        this.gameMeterValueCol = "#FFFFFF";
        this.gameMeterBackgroundCol = [{
            p: 0,
            col: "#000"
        }, {
            p: 1,
            col: "#000"
        }];
        this.winMeterAlpha = 0.8;
        this.useVariable243Way = !1;
        var b = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
        this.setFreeRounds = function(a) {
            (this.inFreeRounds = a) ? (this.btnAutoplaySettings.isDisabled = !0,
            this.btnLinesSlider.isDisabled = !0,
            this.btnBetSlider.isDisabled = !0,
            this.btnBetUp.isDisabled = !0,
            this.btnBetDown.isDisabled = !0,
            this.btnBetMax.isDisabled = !0,
            this.btnMaxBet.isDisabled = !0,
            this.btnMaxLines.isDisabled = !0) : (this.lineSelection && (this.btnLinesSlider.isDisabled = !1,
            this.btnMaxLines.isDisabled = !1),
            this.btnMaxBet.isDisabled = !1,
            this.btnAutoplaySettings.isDisabled = !1,
            this.btnBetSlider.isDisabled = !1,
            this.btnBetUp.isDisabled = !1,
            this.btnBetDown.isDisabled = !1,
            this.btnBetMax.isDisabled = !1,
            this.btnBetSlider.setValueIndex(game.account.getBetIndex()))
        }
        ;
        this.initAssets = function() {
            this.autoPlayMan.initAssets(this.layout);
            this.imgGameUI = game.ASSET_MANAGER.getAsset("game_ui_hq.png");
            this.imgMenuUI = game.ASSET_MANAGER.getAsset("menu_ui.png");
            game.frEnabled && (this.imgFreeRounds = game.ASSET_MANAGER.getAsset("freespins/btn_FreeRound.png"));
            this.layout.btnSpin.tooltipTxt = TOOLTIP_PROPERTIES.spin.txt;
            this.layout.btnStop.tooltipTxt = TOOLTIP_PROPERTIES.stop.txt;
            this.layout.btnContinue.tooltipTxt = TOOLTIP_PROPERTIES.continuebtn.txt;
            this.layout.btnBetUp.tooltipTxt = TOOLTIP_PROPERTIES.betup.txt;
            this.layout.btnBetDown.tooltipTxt = TOOLTIP_PROPERTIES.betdown.txt;
            this.layout.igbBetMax.tooltipTxt = TOOLTIP_PROPERTIES.maxbet.txt;
            this.btnSpin = new TPButton(this.layout.btnSpin);
            this.btnStop = new TPButton(this.layout.btnStop);
            this.btnContinue = new TPButton(this.layout.btnContinue);
            this.btnHomeGame = new TPButton(this.layout.btnHomeGame);
            this.btnSettings = new TPButton(this.layout.btnSettings);
            this.btnCashierGame = new TPButton(this.layout.btnCashierGame);
            this.btnStartAutoPlay = new TPButton(this.layout.btnStartAutoPlay);
            this.btnStopAutoPlay = new TPButton(this.layout.btnStopAutoPlay);
            this.btnHold = new ButtonHold(this.imgMenuUI,this.layout.btnHold);
            this.btnBetUp = new TPButton(this.layout.btnBetUp);
            this.btnBetDown = new TPButton(this.layout.btnBetDown);
            this.btnBetMax = new TPMaxbetPanel(this.layout.igbBetMax);
            this.btnBetUp.visible = !1;
            this.btnBetDown.visible = !1;
            this.btnBetMax.visible = !1;
            adjustTooltipPositions(this);
            this.autoPlayGamesRemainingMeter = new Text;
            this.autoPlayGamesRemainingMeter.font = this.layout.defaultGamesRemainingMeterFont;
            this.autoPlayGamesRemainingMeter.align = "center";
            this.autoPlayGamesRemainingMeter.m_Color = isStandardQualityFlag() ? "#FFFFFF" : "#999900";
            this.autoPlayGamesRemainingMeterBG = new Button(this.imgGameUI,this.layout.btnAutoPlayCounter);
            this.winMeter = new WinMeterText;
            this.winMeter.font = "undefined" === typeof WIN_METER_FONT ? "48px arial" : WIN_METER_FONT;
            this.winMeter.align = "center";
            this.winMeter.m_Text = "WIN: OOPS!";
            this.winMeter.m_Color = "#FFFF00";
            this.btnMute = new Button(this.imgMenuUI,this.layout.btnMute);
            this.btnMuteOff = new Button(this.imgMenuUI,this.layout.btnMuteOff);
            this.btnInfo = new Button(this.imgMenuUI,this.layout.btnInfo);
            this.btnHomeSettings = new Button(this.imgMenuUI,this.layout.btnHomeSettings);
            this.btnClose = new Button(this.imgMenuUI,this.layout.btnClose);
            this.btnCashier = new Button(this.imgMenuUI,this.layout.btnCashier);
            this.btnAutoplaySettings = new Button(this.imgMenuUI,this.layout.btnAutoplaySettings);
            this.btnBetSettings = new Button(this.imgMenuUI,this.layout.btnBetSettings);
            this.btnMaxLines = new Button(this.imgMenuUI,this.layout.btnMaxLines);
            this.btnMaxBet = new Button(this.imgMenuUI,this.layout.btnMaxBet);
            null != this.imgFreeRounds ? (this.btnFreeRounds = new Button(this.imgFreeRounds,this.layout.btnFreeRounds),
            this.btnFreeRounds.hitPadding = this.layout.hitPadding,
            this.btnFreeRoundsAnim = new FreeRoundsButtonAnim,
            this.btnFreeRoundsAnim.initFreeRoundButton(),
            this.btnFreeRoundsAnim.startAnimation()) : this.btnFreeRounds = null;
            this.btnLinesSlider = new Slider(this.layout.linesSliderConfig,this.imgMenuUI);
            for (var a = [], b = game.account.NUM_PAYLINES, c = 0; c < b; c++)
                a.push(c + 1);
            this.useVariable243Way && (a = [3, 9, 27, 81, 243]);
            this.btnLinesSlider.setValues(a);
            this.btnLinesSlider.setValueIndex(a.length - 1);
            0 < arguments.length && !1 == Boolean(arguments[0]) && (this.lineSelection = !1,
            this.btnLinesSlider.isDisabled = !0,
            this.btnMaxLines.isDisabled = !0);
            this.btnBetSlider = new Slider(this.layout.betSliderConfig,this.imgMenuUI);
            a = [];
            b = game.account.betAmounts;
            for (c = 0; c < b.length; c++)
                a.push(game.account.getCurrencyString(b[c]));
            this.btnBetSlider.setValues(a);
            this.btnBetSlider.setValueIndex(game.account.getBetIndex());
            this.btnMaxLines.hitPadding = this.layout.hitPadding;
            this.btnMaxBet.hitPadding = this.layout.hitPadding;
            this.btnHomeSettings.hitPadding = this.layout.hitPadding;
            this.btnHomeGame.hitPadding = this.layout.hitPadding;
            this.btnCashierGame.hitPadding = this.layout.hitPadding;
            this.btnSettings.hitPadding = this.layout.hitPadding;
            this.btnClose.hitPadding = this.layout.hitPadding;
            this.btnCashier.hitPadding = this.layout.hitPadding;
            this.btnAutoplaySettings.hitPadding = this.layout.hitPadding;
            this.btnBetSettings.hitPadding = this.layout.hitPadding;
            this.btnMute.hitPadding = this.layout.hitPadding;
            this.btnMuteOff.hitPadding = this.layout.hitPadding;
            this.btnInfo.hitPadding = this.layout.hitPadding;
            this.insufficientFundsTxt = new Text;
            this.insufficientFundsTxt.font = "26px arial";
            this.insufficientFundsTxt.align = "center";
            this.insufficientFundsTxt.m_Color = this.layout.UI_WARN;
            this.insufficientFundsTxt.m_Text = "undefined" === typeof TXT_NOT_ENOUGH_BALANCE_WH_SETTING ? TXT_NOT_ENOUGH_BALANCE : TXT_NOT_ENOUGH_BALANCE_WH_SETTING;
            this.gameMeterBackgroundCol = game.meters.getBackground();
            this.gameMeterLabelCol = game.meters.getLabelColour();
            this.gameMeterValueCol = game.meters.getValueColour();
            this.setTabView(0);
            this.btnStartAutoPlay.isOverDisabled = function(a) {
                return a.x > this.X - this.hitPadding && a.x < this.X + this.nwidth + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.nheight + this.hitPadding ? true : false
            }
            ;
            this.btnContinue.enableCondition = function() {
                return (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE || game.gameState == SS_STOPPED_FREEGAMES || game.gameState == SS_WIN_PAYLINE_FREEGAMES) && game.isBigWin && (communicator.getMarker("IFG") || communicator.getMarker("NFG"))
            }
            ;
            this.btnContinue.mainCondition = function() {
                return (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE || game.gameState == SS_STOPPED_FREEGAMES || game.gameState == SS_WIN_PAYLINE_FREEGAMES) && (communicator.getMarker("IFG") || communicator.getMarker("NFG"))
            }
            ;
            this.btnContinue.clickReleaseAction = function() {
                this.isDisabled = true;
                game.api_stopWinAnims();
                if (!communicator.getMarker("CFGG") && communicator.getMarker("NFG")) {
                    game.snapWinMeter();
                    game.setState(SS_FREEGAME_INTRO)
                } else
                    game.startSpin()
            }
            ;
            this.btnContinue.processClickCondition = function(a) {
                return this.mainCondition() && this.isOver(a)
            }
            ;
            this.btnContinue.processClickReleaseCondition = function(a) {
                return this.mainCondition() && this.isOver(a)
            }
            ;
            this.btnContinue.drawCondition = function() {
                return (game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE || game.gameState == SS_STOPPED_FREEGAMES || game.gameState == SS_WIN_PAYLINE_FREEGAMES || game.gameState == SS_FREEGAME_INTRO || game.gameState == SS_SPINNING_STOPPED) && game.freeGames.m_bInFreeGames
            }
            ;
            this.btnStop.messageProcessed = !1;
            this.btnStop.mainCondition = function() {
                var a = (game.gameState == SS_SPINNING || game.gameState == SS_SPINNING_STOPPED || game.gameState == SS_FREEGAME_INTRO) && (!game.ui.autoPlayMan.inSession || communicator.getMarker("IFG") && communicator.getMarker("NFG"));
				//console.log("#####GAME_INTERACTION-WindowObj check quick stop for spin button");
                typeof windowObj.getCustomSettings !== "undefined" && (windowObj.getCustomSettings().quickStop || (a = false));
                return a
            }
            ;
            this.btnStop.clickReleaseAction = function() {
                if (this.messageProcessed) {
                    game.reelMan.setFastSpin(game.ui.initStop, game.ui.reelStop, game.ui.windUp, game.ui.bounce, game.ui.reelSpeed);
                    this.messageProcessed = false
                }
                this.isClicked = this.isDisabled = true
            }
            ;
            this.btnStop.processClickCondition = function(a) {
                return this.mainCondition() && this.isOver(a)
            }
            ;
            this.btnStop.processClickReleaseCondition = function(a) {
                return this.mainCondition() && this.isOver(a) && this.isDown && !this.isClicked
            }
            ;
            this.btnStop.drawCondition = function() {
                var a = this.mainCondition();
				//console.log("#####GAME_INTERACTION-WindowObj at button draw check quick stop");
                return typeof windowObj.getCustomSettings !== "undefined" && !windowObj.getCustomSettings().quickStop ? false : a
            }
            ;
            this.btnSpin.isOverDisabled = function(a) {
                return a.x > this.X - this.hitPadding && a.x < this.X + this.nwidth + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.nheight + this.hitPadding ? true : false
            }
            ;
            this.btnSpin.drawCondition = function() {
                var a = !(game.ui.btnSpin.isDisabled || game.ui.insufficientFunds || game.gameState == SS_FREEGAME_INTRO || game.gameState == SS_FREEGAME_SUMMARY) || game_ui.inFeature;
				//console.log("#####GAME_INTERACTION-WindowObj at button draw quick stop check");
                return typeof windowObj.getCustomSettings !== "undefined" && !windowObj.getCustomSettings().quickStop && (game.gameState == SS_SPINNING || game.gameState == SS_SPINNING_STOPPED || game.gameState == SS_STOPPED || game.gameState == SS_WIN_PAYLINE || game.gameState == SS_FREEGAME_INTRO) && !game.ui.autoPlayMan.inSession ? true : a
            }
            ;
            this.btnStop.isOverDisabled = function(a) {
                return a.x > this.X - this.hitPadding && a.x < this.X + this.nwidth + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.nheight + this.hitPadding ? true : false
            }
            ;
            this.buttons = [this.btnContinue, this.btnStop, this.btnSpin, this.btnHomeGame, this.btnSettings, this.btnCashierGame, this.btnStartAutoPlay, this.btnStopAutoPlay, this.btnBetUp, this.btnBetDown, this.btnBetMax];
            this.uiInitialized = !0
        }
        ;
        this.changeOrientation = function(a) {
            this.layout.orient(a);
            this.autoPlayMan.changeOrientation(a);
            this.btnMute.setPosition(this.layout.MUTE_BTN);
            this.btnMuteOff.setPosition(this.layout.MUTE_BTN);
            this.btnInfo.setPosition(this.layout.INFO_BTN);
            this.btnHomeSettings.setPosition(this.layout.HOME_SETTINGS_BTN);
            this.btnHomeGame.setPosition(this.layout.HOME_GAME_BTN);
            this.btnCashierGame.setPosition(this.layout.CASHIER_GAME_BTN);
            this.btnHold.setPosition(this.layout.HOLD_BTN);
            this.btnSettings.setPosition(this.layout.SETTINGS_BTN);
            null != this.imgFreeRounds && (this.btnFreeRounds.setPosition(this.layout.FREE_ROUNDS_BTN),
            this.btnFreeRoundsAnim.setPosition(this.layout.FREE_ROUNDS_BTN.x, this.layout.FREE_ROUNDS_BTN.y));
            this.btnLinesSlider.setPosition(this.layout.LINES_SLIDER_BTN);
            this.btnBetSlider.setPosition(this.layout.BET_SLIDER_BTN);
            this.btnMaxLines.setPosition(this.layout.MAX_LINES_BTN);
            this.btnMaxBet.setPosition(this.layout.MAX_BET_BTN);
            this.btnClose.setPosition(this.layout.CLOSE_BTN);
            this.btnCashier.setPosition(this.layout.CASHIER_BTN);
            this.btnAutoplaySettings.setPosition(this.layout.AUTOPLAY_SETTINGS_BTN);
            this.btnBetSettings.setPosition(this.layout.BET_SETTINGS_BTN);
            this.btnSpin.setPosition(this.layout.SPIN_BTN, this.layout.SPIN_BTN_TOOLTIP);
            this.btnStop.setPosition(this.layout.STOP_BTN, this.layout.STOP_BTN_TOOLTIP);
            this.btnContinue.setPosition(this.layout.CONTINUE_BTN, this.layout.CONTINUE_BTN_TOOLTIP);
            this.btnStartAutoPlay.setPosition(this.layout.START_AUTOPLAY_BTN);
            this.btnStopAutoPlay.setPosition(this.layout.STOP_AUTOPLAY_BTN);
            this.autoPlayGamesRemainingMeter.setPosition(this.layout.GAMES_REMAINING_METER);
            this.autoPlayGamesRemainingMeterBG.setPosition(this.layout.defaultGamesRemainingBGPos);
            this.winMeter.setPosition(this.layout.WIN_METER);
            this.insufficientFundsTxt.setPosition(this.layout.INSUFFICIENT_FUNDS);
            this.btnBetUp.setPosition(this.layout.BET_UP_BTN, this.layout.BET_UP_BTN_TOOLTIP);
            this.btnBetDown.setPosition(this.layout.BET_DOWN_BTN, this.layout.BET_DOWN_BTN_TOOLTIP);
            this.btnBetMax.setPosition(this.layout.BET_MAX_BTN, this.layout.BET_MAX_BTN_TOOLTIP)
        }
        ;
        this.update = function(a) {
            this.btnHold.update(a);
            this.autoPlayMan.update(a);
            null != this.imgFreeRounds && this.btnFreeRoundsAnim.update(a);
            this.tooltipIsActive = this.btnSpin.tooltip.visible || this.btnStop.tooltip.visible && this.btnStop.drawCondition() || this.btnContinue.tooltip.visible && this.btnContinue.drawCondition() || this.btnBetUp.tooltip.visible || this.btnBetDown.tooltip.visible || this.btnBetMax.tooltip.visible;
            this.btnSpin.processMove(this.currentMousePosition);
            this.btnStop.processMove(this.currentMousePosition);
            this.btnContinue.processMove(this.currentMousePosition);
            this.btnBetUp.processMove(this.currentMousePosition);
            this.btnBetDown.processMove(this.currentMousePosition);
            this.btnBetMax.processMove(this.currentMousePosition)
        }
        ;
        this.setState = function(a) {
            if (a != this.state)
                switch (this.state = a,
                this.state) {
                case this.VIEW_GAME:
                    game.uapi_closePanel(!0);
                    game.meters.setBackground(this.gameMeterBackgroundCol);
                    game.meters.setFontColour(this.gameMeterLabelCol, this.gameMeterValueCol);
                    game.meters.refreshTexture();
                    game.jackpotMeters.setBackground(game.jackpotMetersBackgroundCol);
                    break;
                case this.VIEW_SETTINGS:
                    game.uapi_openPanel(),
                    game.meters.setBackground(this.layout.meterBackgroundCol),
                    game.meters.setFontColour(this.layout.meterLabelCol, this.layout.meterValueCol),
                    game.meters.refreshTexture(),
                    game.jackpotMeters.setBackground(this.layout.meterBackgroundCol),
                    this.btnBetSlider.setValueIndex(game.account.getBetIndex()),
                    this.useVariable243Way ? this.btnLinesSlider.setValueIndex(game.account.reelsSelected - 1) : this.btnLinesSlider.setValueIndex(game.account.paylinesSelected - 1)
                }
        }
        ;
        this.processClick = function(a) {
            this.btnStop.processClickCondition(a) && (this.btnStop.isDown = !0);
            this.btnContinue.processClickCondition(a) && (this.btnContinue.isDown = !0);
            if (!this.disableAllUI) {
                if (this.state == this.VIEW_GAME) {
                    if (this.showHomeButton && this.btnHomeGame.isOver(a)) {
                        this.btnHomeGame.isDown = !0;
                        return
                    }
                    if (this.btnCashierGame.isOver(a)) {
                        this.btnCashierGame.isDown = !0;
                        return
                    }
                    if (this.btnSettings.isOver(a)) {
                        this.btnSettings.isDown = !0;
                        return
                    }
                    if (null != this.imgFreeRounds && game.freeRounds.freeRoundAvailability && this.btnFreeRounds.isOver(a)) {
                        this.btnFreeRounds.isDown = !0;
                        this.btnFreeRoundsAnim.stopAnimation();
                        return
                    }
                    if (this.btnBetUp.isOver(a)) {
                        this.btnBetUp.isDown = !0;
                        return
                    }
                    if (this.btnBetDown.isOver(a)) {
                        this.btnBetDown.isDown = !0;
                        return
                    }
                    if (this.btnBetMax.isOver(a) && game.account.getBetIndex() != game.account.getBetAmountsLength() - 1) {
                        this.btnBetMax.isDown = !0;
                        return
                    }
                    switch (this.autoPlayMode) {
                    case this.AUTO_OFF:
                        if (this.btnSpin.isOver(a)) {
                            this.btnSpin.isDown = !0;
                            return
                        }
                        break;
                    case this.AUTO_WAITING_TO_START:
                        if (this.btnStartAutoPlay.isOver(a)) {
                            this.btnStartAutoPlay.isDown = !0;
                            this.autoPlayGamesRemainingMeterBG.isDown = !0;
                            this.autoPlayGamesRemainingMeter.font = this.layout.defaultGamesRemainingMeterFont2;
                            this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos2);
                            this.autoPlayGamesRemainingMeterBG.setPosition(this.layout.defaultGamesRemainingBGPos2);
                            return
                        }
                        break;
                    case this.AUTO_PLAYING:
                        if (this.btnStopAutoPlay.isOver(a)) {
                            this.btnStopAutoPlay.isDown = !0;
                            this.autoPlayGamesRemainingMeterBG.isDown = !0;
                            this.autoPlayGamesRemainingMeter.font = this.layout.defaultGamesRemainingMeterFont2;
                            this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos2);
                            this.autoPlayGamesRemainingMeterBG.setPosition(this.layout.defaultGamesRemainingBGPos2);
                            return
                        }
                    }
                    if (this.btnHold.isOver(a) && !this.btnStartAutoPlay.isOverDisabled(a)) {
                        this.btnHold.isDown = !0;
                        this.btnHold.setOrigin(a, this.audioState, this.inFreeRounds);
                        return
                    }
                }
                if (this.state == this.VIEW_SETTINGS)
                    if (this.showHomeButton && this.btnHomeSettings.isOver(a))
                        this.btnHomeSettings.isDown = !0;
                    else {
                        if (this.audioState == this.AUDIO_ON) {
                            if (this.btnMute.isOver(a)) {
                                this.btnMute.isDown = !0;
                                return
                            }
                        } else if (this.audioState == this.AUDIO_MUTED && this.btnMuteOff.isOver(a)) {
                            this.btnMuteOff.isDown = !0;
                            return
                        }
                        if (this.btnInfo.isOver(a))
                            this.btnInfo.isDown = !0;
                        else if (this.btnClose.isOver(a))
                            this.btnClose.isDown = !0;
                        else if (this.btnAutoplaySettings.isOver(a))
                            this.btnAutoplaySettings.isDown = !0;
                        else if (this.btnBetSettings.isOver(a))
                            this.btnBetSettings.isDown = !0;
                        else if (this.btnCashier.isOver(a))
                            this.btnCashier.isDown = !0;
                        else
                            switch (this.tabView) {
                            case 0:
                                if (this.btnLinesSlider.isOver(a))
                                    return this.btnLinesSlider.isDown = !0;
                                if (this.btnBetSlider.isOver(a))
                                    return this.btnBetSlider.isDown = !0;
                                if (this.btnMaxLines.isOver(a))
                                    return this.btnMaxLines.isDown = !0;
                                if (this.btnMaxBet.isOver(a))
                                    return this.btnMaxBet.isDown = !0;
                                break;
                            case 1:
                                this.autoPlayMan.processClick(a)
                            }
                    }
            }
        }
        ;
        this.refreshPlayButton = function() {
            var a = game.uapi_getAutoPlayGames();
            this.autoPlayMode = 0 < a ? this.AUTO_WAITING_TO_START : this.AUTO_OFF;
            this.setMeterText("autoGame", a)
        }
        ;
        this.processClickRelease = function(a, b) {
            this.btnStop.processClickReleaseCondition(a) && (this.btnStop.messageProcessed && (game.reelMan.setFastSpin(this.initStop, this.reelStop, this.windUp, this.bounce, this.reelSpeed),
            this.btnStop.messageProcessed = !1),
            this.btnStop.isDisabled = !0,
            this.btnStop.isClicked = !0);
            this.btnContinue.processClickReleaseCondition(a) && game.processContinue();
            if (!this.disableAllUI) {
                if (this.state == this.VIEW_GAME) {
                    if (this.btnHomeGame.isOver(a) && this.btnHomeGame.isDown) {
                        game.uapi_home();
                        b.preventDefault();
                        game.playSound("click");
                        return
                    }
                    if (this.btnCashierGame.isOver(a) && this.btnCashierGame.isDown) {
                        game.uapi_cashier();
                        b.preventDefault();
                        game.playSound("click");
                        return
                    }
                    if (this.btnSettings.isOver(a) && this.btnSettings.isDown) {
                        this.setState(this.VIEW_SETTINGS);
                        this.setTabView(this.tabView);
                        this.autoPlayMan.sessionPlayed && (this.autoPlayMan.resetOptions(),
                        this.autoPlayMan.sessionPlayed = !1);
                        return
                    }
                    if (null != this.imgFreeRounds && game.freeRounds.freeRoundAvailability && this.btnFreeRounds.isOver(a)) {
						console.log("#####GAME_INTERACTION-WindowObj message to server FREE Called");
                        windowObj.sendMsgToServer("&MSGID=FRRECALLED&");
                        game.enableAllUI(!1);
                        return
                    }
                    if (this.btnBetUp.isOver(a) && this.btnBetUp.isDown) {
                        var c = game.account.getBetIndex() + 1;
                        this.btnBetSlider.setValueIndex(c);
                        game.uapi_betUp(!0);
                        this.btnBetUp.isDisabled = game.account.getBetIndex() >= game.account.getBetAmountsLength() - 1;
                        return
                    }
                    if (this.btnBetDown.isOver(a) && this.btnBetDown.isDown) {
                        c = game.account.getBetIndex() - 1;
                        this.btnBetSlider.setValueIndex(c);
                        game.uapi_betDown(!0);
                        this.btnBetDown.isDisabled = 0 == game.account.getBetIndex();
                        return
                    }
                    if (this.btnBetMax.isOver(a) && this.btnBetMax.isDown) {
                        c = game.account.getBetAmountsLength() - 1;
                        game.ui.btnBetSlider.setValueIndex(c);
                        game.playSound("click");
                        game.uapi_setBet(c);
                        game.uapi_betMax();
                        game.snapWinMeter();
                        return
                    }
                    switch (this.autoPlayMode) {
                    case this.AUTO_OFF:
                        if (this.btnSpin.isOver(a) && this.btnSpin.isDown) {
                            game.uapi_play();
                            this.autoPlayMan.resetOptions();
                            this.btnStop.isClicked = !1;
                            return
                        }
                        if (this.btnSpin.isOverDisabled(a) && (this.insufficientFunds || this.autoPlayMan.mustSetBet) && !this.btnHold.isDown) {
                            this.setState(this.VIEW_SETTINGS);
                            this.setTabView(0);
                            return
                        }
                        break;
                    case this.AUTO_WAITING_TO_START:
                        if (this.btnStartAutoPlay.isOver(a) && this.btnStartAutoPlay.isDown) {
                            if (this.autoPlayMan.getLossLimit() <= game.account.getBetAmount()) {
                                this.autoPlayMan.showReasonCantStart();
                                return
                            }
                            this.autoPlayMan.startSession(game.account.getBetAmount());
                            game.uapi_startAutoplay();
                            this.btnStopAutoPlay.isDisabled = !1;
                            return
                        }
                        if (this.btnStartAutoPlay.isOverDisabled(a) && !this.btnHold.isDown) {
                            this.setState(this.VIEW_SETTINGS);
                            this.insufficientFunds || this.autoPlayMan.mustSetBet ? this.setTabView(0) : (this.setTabView(1),
                            this.autoPlayMan.startPulse());
                            this.autoPlayMan.sessionPlayed && (this.autoPlayMan.resetOptions(),
                            this.autoPlayMan.sessionPlayed = !1);
                            return
                        }
                        break;
                    case this.AUTO_PLAYING:
                        if (this.btnStopAutoPlay.isOver(a) && this.btnStopAutoPlay.isDown) {
                            game.uapi_stopAutoplay();
                            this.btnStopAutoPlay.isDisabled = !0;
                            this.btnContinue.isDisabled = !0;
                            return
                        }
                    }
                    if (this.btnHold.isDown) {
                        c = this.btnHold.getSubButtonID(a);
                        this.btnHold.hide();
                        switch (c) {
                        case 1:
                            this.setState(this.VIEW_SETTINGS);
                            this.setTabView(0);
                            this.autoPlayMan.sessionPlayed && (this.autoPlayMan.resetOptions(),
                            this.autoPlayMan.sessionPlayed = !1);
                            break;
                        case 2:
                            this.setState(this.VIEW_SETTINGS);
                            this.setTabView(1);
                            this.autoPlayMan.sessionPlayed && (this.autoPlayMan.resetOptions(),
                            this.autoPlayMan.sessionPlayed = !1);
                            break;
                        case 3:
                            game.uapi_info(0);
                            break;
                        case 4:
                            this.audioState == this.AUDIO_ON && (this.audioState = this.AUDIO_MUTED,
                            game.uapi_mute(!0));
                            break;
                        case 5:
                            this.audioState == this.AUDIO_MUTED && (this.audioState = this.AUDIO_ON,
                            game.uapi_mute(!1))
                        }
                        return
                    }
                }
                if (this.state == this.VIEW_SETTINGS)
                    if (this.btnHomeSettings.isOver(a) && this.btnHomeSettings.isDown)
                        game.uapi_home(),
                        b.preventDefault(),
                        game.playSound("click");
                    else {
                        if ("function" !== typeof windowObj.audioBtnVisibility || windowObj.audioBtnVisibility())
							console.log("#####GAME_INTERACTION-WindowObj aaudio button visibility check");
                            if (this.audioState == this.AUDIO_ON) {
                                if (this.btnMute.isOver(a) && this.btnMute.isDown) {
                                    this.audioState = this.AUDIO_MUTED;
                                    game.uapi_mute(!0);
                                    return
                                }
                            } else if (this.audioState == this.AUDIO_MUTED && this.btnMuteOff.isOver(a) && this.btnMuteOff.isDown) {
                                this.audioState = this.AUDIO_ON;
                                game.uapi_mute(!1);
                                return
                            }
                        if (this.btnInfo.isOver(a) && this.btnInfo.isDown)
                            game.uapi_info(0),
                            this.autoPlayMan.makeUISmall();
                        else if (this.btnAutoplaySettings.isOver(a) && this.btnAutoplaySettings.isDown)
                            this.setTabView(1),
                            game.playSound("click");
                        else if (this.btnBetSettings.isOver(a) && this.btnBetSettings.isDown)
                            this.setTabView(0),
                            game.playSound("click"),
                            this.autoPlayMan.makeUISmall();
                        else if (this.btnClose.isOver(a) && this.btnClose.isDown)
                            this.setState(this.VIEW_GAME),
                            this.autoPlayMan.makeUISmall();
                        else if (this.btnCashier.isOver(a) && this.btnCashier.isDown)
                            game.uapi_cashier(),
                            b.preventDefault(),
                            game.playSound("click");
                        else
                            switch (this.tabView) {
                            case 0:
                                if (this.btnLinesSlider.isOver(a) && this.btnLinesSlider.isDown) {
                                    c = this.btnLinesSlider.setValue(a);
                                    game.uapi_setLines(c + 1);
                                    this.autoPlayMan.mustSetBet = !1;
                                    break
                                }
                                if (this.btnBetSlider.isOver(a) && this.btnBetSlider.isDown) {
                                    c = this.btnBetSlider.setValue(a);
                                    game.uapi_setBet(c);
                                    this.autoPlayMan.mustSetBet = !1;
                                    break
                                }
                                if (this.btnMaxLines.isOver(a) && this.btnMaxLines.isDown) {
                                    this.inFreeRounds || (c = this.btnLinesSlider.setValueIndex(this.btnLinesSlider.getNumValues() - 1),
                                    game.uapi_setLines(c),
                                    this.autoPlayMan.mustSetBet = !1);
                                    break
                                }
                                if (this.btnMaxBet.isOver(a) && this.btnMaxBet.isDown) {
                                    this.inFreeRounds || (c = this.btnBetSlider.getNumValues() - 1,
                                    this.btnBetSlider.setValueIndex(c),
                                    game.uapi_setBet(this.btnBetSlider.getNumValues() - 1),
                                    this.autoPlayMan.mustSetBet = !1);
                                    break
                                }
                                break;
                            case 1:
                                this.autoPlayMan.processClickRelease(a, b) && (this.btnClose.isActive = this.autoPlayMan.canAutoPlay() && !this.insufficientFunds && !this.autoPlayMan.mustSetBet ? !0 : !1)
                            }
                    }
            }
        }
        ;
        this.processMove = function(a) {
            this.currentMousePosition = a;
            if (this.uiInitialized) {
                if (this.state == this.VIEW_SETTINGS)
                    switch (this.tabView) {
                    case 0:
                        if (this.btnLinesSlider.isOver(a) && this.btnLinesSlider.isDown) {
                            a = this.btnLinesSlider.setValue(a);
                            game.uapi_setLines(a + 1);
                            this.autoPlayMan.mustSetBet = !1;
                            return
                        }
                        if (this.btnBetSlider.isOver(a) && this.btnBetSlider.isDown) {
                            a = this.btnBetSlider.setValue(a);
                            game.uapi_setBet(a);
                            this.autoPlayMan.mustSetBet = !1;
                            return
                        }
                        break;
                    case 1:
                        this.autoPlayMan.processMove(a)
                    }
                this.state == this.VIEW_GAME && this.btnHold.processMove(a)
            }
        }
        ;
        this.buttonsUp = function() {
            this.autoPlayMan.buttonsUp();
            this.btnSpin.isDown = !1;
            this.btnStop.isDown = !1;
            this.btnContinue.isDown = !1;
            this.btnStartAutoPlay.isDown = !1;
            this.autoPlayGamesRemainingMeterBG.isDown = !1;
            this.btnStopAutoPlay.isDown = !1;
            this.btnMute.isDown = !1;
            this.btnMuteOff.isDown = !1;
            this.btnInfo.isDown = !1;
            this.btnHomeSettings.isDown = !1;
            this.btnHomeGame.isDown = !1;
            this.btnCashierGame.isDown = !1;
            this.btnHold.isDown = !1;
            this.btnSettings.isDown = !1;
            null != this.imgFreeRounds && (this.btnFreeRounds.isDown = !1);
            this.btnClose.isDown = !1;
            this.btnCashier.isDown = !1;
            this.btnBetSettings.isDown = !1;
            this.btnAutoplaySettings.isDown = !1;
            this.btnLinesSlider.isDown = !1;
            this.btnBetSlider.isDown = !1;
            this.btnMaxLines.isDown = !1;
            this.btnMaxBet.isDown = !1;
            this.btnBetUp.isDown = !1;
            this.btnBetDown.isDown = !1;
            this.btnBetMax.isDown = !1;
            "undefined" != typeof this.autoPlayGamesRemainingMeter && (this.autoPlayGamesRemainingMeter.setPosition(this.layout.defaultGamesRemainingMeterPos),
            this.autoPlayGamesRemainingMeter.font = this.layout.defaultGamesRemainingMeterFont,
            this.autoPlayGamesRemainingMeterBG.setPosition(this.layout.defaultGamesRemainingBGPos));
            this.btnClose.isActive = this.autoPlayMan.canAutoPlay() && !this.insufficientFunds && !this.autoPlayMan.mustSetBet ? !0 : !1;
            "undefined" != typeof this.btnFreeRoundsAnim && this.btnFreeRoundsAnim.startAnimation()
        }
        ;
        this.setTabView = function(a) {
            this.tabView = a;
            switch (this.tabView) {
            case 0:
                this.autoPlayMan.autoPlayOptions.showAutoOptions(!1);
                this.btnAutoplaySettings.isActive = !1;
                this.btnBetSettings.isActive = !0;
                break;
            case 1:
                this.autoPlayMan.autoPlayOptions.showAutoOptions(!0),
                this.btnAutoplaySettings.isActive = !0,
                this.btnBetSettings.isActive = !1
            }
        }
        ;
        this.setMeterText = function(a, b) {
            switch (a) {
            case "autoGame":
                this.autoPlayGamesRemainingMeter.m_Text = b;
                break;
            case "win":
                this.winMeter.m_Text = b
            }
        }
        ;
        this.enable = function(a) {
            this.btnBetUp.visible = !introMovie.visible;
            this.btnBetDown.visible = !introMovie.visible;
            this.btnBetMax.visible = !introMovie.visible;
            game.reelMan.setFastSpin(!1);
            a ? (this.btnSpin.isDisabled = !1,
            this.btnStartAutoPlay.isDisabled = !1,
            this.btnStartAutoPlay.isDisabled = this.autoPlayMan.canAutoPlay() ? !1 : !0) : (this.btnSpin.isDisabled = !0,
            this.btnStartAutoPlay.isDisabled = !0);
            this.inFreeRounds || (this.btnBetUp.isDisabled = game.account.getBetIndex() >= game.account.getBetAmountsLength() - 1,
            this.btnBetDown.isDisabled = 0 == game.account.getBetIndex(),
            this.btnBetMax.isDisabled = !1);
            this.btnSettings.isDisabled = !1;
            null != this.imgFreeRounds && (this.btnFreeRounds.isDisabled = game.freeRounds.freeRoundAvailability ? !1 : !0);
            this.btnHold.isDisabled = !1;
            this.disableHomeBtnMidRound && (this.btnHomeSettings.isDisabled = !1,
            this.btnHomeGame.isDisabled = !1);
            this.btnCashier.isDisabled = !this.showCashierBtn;
            this.btnCashierGame.isDisabled = !this.showCashierGameBtn;
            game.isTwist || (this.btnContinue.isDisabled = !1)
        }
        ;
        this.disable = function() {
            this.btnSpin.isDisabled = !0;
            this.btnBetUp.isDisabled = !0;
            this.btnBetDown.isDisabled = !0;
            this.btnBetMax.isDisabled = !0;
            this.btnSettings.isDisabled = !0;
            null != this.imgFreeRounds && (this.btnFreeRounds.isDisabled = !0);
            this.btnHold.isDisabled = !0;
            this.disableHomeBtnMidRound && (this.btnHomeSettings.isDisabled = !0,
            this.btnHomeGame.isDisabled = !0);
            this.showCashierBtn && (this.btnCashier.isDisabled = !0);
            this.showCashierGameBtn && (this.btnCashierGame.isDisabled = !0)
        }
        ;
        this.draw = function() {
            game.freeGames.m_bInFreeGames || (this.btnContinue.isDisabled = game.isBigWin);
            this.btnStop.visible = this.btnStop.drawCondition();
            this.btnContinue.visible = this.btnContinue.drawCondition();
            this.btnContinue.drawCondition() && this.btnContinue.draw(b);
            this.btnStop.draw(b);
            if (!this.disableAllUI) {
                var a = gameViewMan.viewScale;
                switch (this.state) {
                case this.VIEW_GAME:
                    this.btnSettings.draw(b);
                    null != this.imgFreeRounds && game.freeRounds.freeRoundAvailability && (this.btnFreeRounds.draw(),
                    this.btnFreeRoundsAnim.draw());
                    this.btnBetUp.draw(b);
                    this.btnBetDown.draw(b);
                    this.btnBetMax.draw(b);
                    switch (this.autoPlayMode) {
                    case this.AUTO_OFF:
                        this.btnSpin.drawCondition() && this.btnSpin.draw(b);
                        break;
                    case this.AUTO_WAITING_TO_START:
                        this.btnStartAutoPlay.draw(b);
                        isStandardQualityFlag() && this.autoPlayGamesRemainingMeterBG.draw(b);
                        this.autoPlayGamesRemainingMeter.draw(b);
                        break;
                    case this.AUTO_PLAYING:
                        0 < game.uapi_getAutoPlayGames() && (this.btnStopAutoPlay.draw(b),
                        isStandardQualityFlag() && this.autoPlayGamesRemainingMeterBG.draw(b),
                        this.autoPlayGamesRemainingMeter.draw(b))
                    }
                    if (isStandardQualityFlag()) {
                        if (this.winMeterShow) {
                            var d = b.globalAlpha;
                            b.globalAlpha = this.winMeterAlpha;
                            var c = this.layout.imgWinMeterBackground.w
                              , e = this.layout.imgWinMeterBackground.h;
                            "undefined" !== typeof this.layout.imgWinMeterBackground.designW && (c = this.layout.imgWinMeterBackground.designW);
                            "undefined" !== typeof this.layout.imgWinMeterBackground.designH && (e = this.layout.imgWinMeterBackground.designH);
                            b.drawImage(this.imgGameUI, this.layout.imgWinMeterBackground.x, this.layout.imgWinMeterBackground.y, this.layout.imgWinMeterBackground.w, this.layout.imgWinMeterBackground.h, this.layout.WIN_METER_BG.x * a, this.layout.WIN_METER_BG.y * a, c * a, e * a);
                            b.globalAlpha = d;
                            this.winMeter.draw(b)
                        }
                    } else
                        game.winMeter.draw(b, this.winMeter),
                        this.winMeterShow ? !game.winMeter.visible && game.winMeter.showStart && game.winMeter.start() : game.winMeter.visible && !game.winMeter.showStart && game.winMeter.finish();
                    this.showHomeButton && this.btnHomeGame.draw(b);
                    this.showCashierGameBtn && !this.btnCashierGame.isDisabled && this.btnCashierGame.draw(b);
                    break;
                case this.VIEW_SETTINGS:
                    d = b.createLinearGradient(0, 100 * a, 0, 468 * a);
                    d.addColorStop(0, "rgba(0,0,0,0.9)");
                    d.addColorStop(1, "rgba(0,0,0,0.9)");
                    b.fillStyle = d;
                    b.fillRect(0, 0, 960 * a, 568 * a);
                    b.fillStyle = this.layout.iconBarColour;
                    b.fillRect(this.layout.iconBarPos.x * a, this.layout.iconBarPos.y * a, this.layout.iconBarSize.w * a, this.layout.iconBarSize.h * a);
                    switch (this.tabView) {
                    case 0:
                        b.fillStyle = this.layout.tabBackgroundColour;
                        b.fillRect(685 * a, this.layout.iconBarPos.y * a, 137 * a, this.layout.iconBarSize.h * a);
                        break;
                    case 1:
                        b.fillStyle = this.layout.tabBackgroundColour,
                        b.fillRect(411 * a, this.layout.iconBarPos.y * a, 137 * a, this.layout.iconBarSize.h * a)
                    }
                    this.btnInfo.draw();
                    this.btnClose.draw();
                    this.showCashierBtn && !this.btnCashier.isDisabled && this.btnCashier.draw();
                    this.btnAutoplaySettings.draw();
                    this.btnBetSettings.draw();
                    this.insufficientFunds && this.insufficientFundsTxt.draw(b);
                    switch (this.tabView) {
                    case 0:
                        this.btnLinesSlider.draw(this.insufficientFunds || this.autoPlayMan.mustSetBet);
                        this.btnBetSlider.draw(this.insufficientFunds || this.autoPlayMan.mustSetBet);
                        this.btnMaxLines.draw();
                        this.btnMaxBet.draw();
                        break;
                    case 1:
                        this.autoPlayMan.draw()
                    }
					console.log("#####GAME_INTERACTION-WindowObj audio button visibility check");
                    if ("function" !== typeof windowObj.audioBtnVisibility || windowObj.audioBtnVisibility())
                        switch (this.audioState) {
                        case this.AUDIO_DISABLED:
                            this.btnMuteOff.draw();
                            break;
                        case this.AUDIO_ON:
                            this.btnMute.draw();
                            break;
                        case this.AUDIO_MUTED:
                            this.btnMuteOff.draw()
                        }
                    this.showHomeButton && this.btnHomeSettings.draw()
                }
                this.btnHold.draw()
            }
        }
        ;
        this.setInGameButtonVisibility = function() {}
        ;
        this.setHomeVisibility = function(a) {
            this.showHomeButton = a
        }
        ;
        this.enableAudio = function(a) {
            a ? (this.audioState = this.AUDIO_ON,
            this.btnMute.isDisabled = !1,
            this.btnMuteOff.isDisabled = !1) : (this.audioState = this.AUDIO_DISABLED,
            this.btnMute.isDisabled = !0,
            this.btnMuteOff.isDisabled = !0)
        }
        ;
        this.setMute = function(a) {
            game.loadedComplete ? this.audioState != this.AUDIO_DISABLED ? (this.audioState = a ? this.AUDIO_MUTED : this.AUDIO_ON,
            game.uapi_mute(a)) : game.uapi_mute(!0) : game.muteBeforeLoad = a
        }
        ;
        this.showWinMeter = function(a) {
            this.winMeterShow = a
        }
        ;
        this.disableUI = function(a) {
            this.disableAllUI = a;
            this.btnStop.isClicked = !1;
            this.btnContinue.isDisabled = !0
        }
        ;
        this.setHomeBtnMidRoundState = function(a) {
            this.disableHomeBtnMidRound = a
        }
        ;
        this.setCashierVisibility = function(a) {
            this.showCashierBtn = this.showCashierGameBtn = a
        }
        ;
        this.setCashierSettingsVisibility = function(a) {
            this.showCashierBtn = a
        }
        ;
        this.setGameCount = function(a) {
            game.uapi_setAutoPlayGameCount(a);
            this.refreshPlayButton()
        }
        ;
        this.addWin = function(a) {
            this.autoPlayMan.addWin(a)
        }
        ;
        this.takeBet = function(a) {
            this.autoPlayMan.takeBet(a)
        }
    }
      , ButtonBetMax = function(b, a, d) {
        this.image = b;
        this.designW = a.designW || a.nwidth;
        this.designH = a.designH || a.nheight;
        this.width = a.nwidth;
        this.height = a.nheight;
        this.srcScaleX = this.designW / this.width;
        this.srcScaleY = this.designH / this.height;
        this.Y = this.X = 0;
        this.deltaX = 10;
        this.glowPositionCorrection = {
            normal: {
                x: -6,
                y: -5
            },
            active: {
                x: -10,
                y: -6
            }
        };
        this.deltaX *= this.srcScaleX;
        for (var c in this.glowPositionCorrection)
            this.glowPositionCorrection[c].x *= this.srcScaleX,
            this.glowPositionCorrection[c].y *= this.srcScaleY;
        this.countStates = game.account.betAmounts.length;
        this.countCoins = 5;
        this.nx = a.nx;
        this.ny = a.ny;
        this.nwidth = a.nwidth;
        this.nheight = a.nheight;
        this.dx = a.dx;
        this.dy = a.dy;
        this.dwidth = a.dwidth;
        this.dheight = a.dheight;
        this.ax = "undefined" === a.ax ? 0 : a.ax;
        this.ay = "undefined" === a.ay ? 0 : a.ay;
        this.awidth = "undefined" === a.awidth ? 0 : a.awidth;
        this.aheight = "undefined" === a.aheight ? 0 : a.aheight;
        this.ndimx = "undefined" === a.ndimx ? 0 : a.ndimx;
        this.ndimy = "undefined" === a.ndimy ? 0 : a.ndimy;
        this.ndimwidth = "undefined" === a.ndimwidth ? 0 : a.ndimwidth;
        this.ndimheight = "undefined" === a.ndimheight ? 0 : a.ndimheight;
        this.ddimx = "undefined" === a.ddimx ? 0 : a.ddimx;
        this.ddimy = "undefined" === a.ddimy ? 0 : a.ddimy;
        this.ddimwidth = "undefined" === a.ddimwidth ? 0 : a.ddimwidth;
        this.ddimheight = "undefined" === a.ddimheight ? 0 : a.ddimheight;
        this.nglowx = "undefined" === a.nglowx ? 0 : a.nglowx;
        this.nglowy = "undefined" === a.nglowy ? 0 : a.nglowy;
        this.nglowwidth = "undefined" === a.nglowwidth ? 0 : a.nglowwidth;
        this.nglowheight = "undefined" === a.nglowheight ? 0 : a.nglowheight;
        this.dglowx = "undefined" === a.dglowx ? 0 : a.dglowx;
        this.dglowy = "undefined" === a.dglowy ? 0 : a.dglowy;
        this.dglowwidth = "undefined" === a.dglowwidth ? 0 : a.dglowwidth;
        this.dglowheight = "undefined" === a.dglowheight ? 0 : a.dglowheight;
        this.aglowx = "undefined" === a.aglowx ? 0 : a.aglowx;
        this.aglowy = "undefined" === a.aglowy ? 0 : a.aglowy;
        this.aglowwidth = "undefined" === a.aglowwidth ? 0 : a.aglowwidth;
        this.aglowheight = "undefined" === a.aglowheight ? 0 : a.aglowheight;
        this.adimglowx = "undefined" === a.adimglowx ? 0 : a.adimglowx;
        this.adimglowy = "undefined" === a.adimglowy ? 0 : a.adimglowy;
        this.adimglowwidth = "undefined" === a.adimglowwidth ? 0 : a.adimglowwidth;
        this.adimglowheight = "undefined" === a.adimglowheight ? 0 : a.adimglowheight;
        this.isActive = this.isDisabled = this.isDown = !1;
        this.visible = !0;
        this.scale = 0.9;
        this.hitPadding = 0;
        this.hitPaddingTotal = {
            top: 0,
            right: 40,
            bottom: 0,
            left: 3
        };
        var e = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
        this.tooltip = d ? new ButtonTooltip(d) : null;
        this.setPosition = function(a, b) {
            this.X = a.x;
            this.Y = a.y;
            this.tooltip && this.tooltip.setPosition(b)
        }
        ;
        this.updateScale = function() {
            this.isDown && (this.scale -= 0.01,
            0.7 >= this.scale && (this.scale = 0.7))
        }
        ;
        this.draw = function() {
            var a = gameViewMan.viewScale, b = this.srcScaleX, c = this.srcScaleY, d, n, q, r, l, j, o, s, y, I, x, z, w, B, A, E, C = {
                x: 0,
                y: 0
            };
            this.isDisabled ? (d = this.ndimx,
            n = this.ndimy,
            q = this.ndimwidth,
            r = this.ndimheight,
            l = this.ddimx,
            j = this.ddimy,
            o = this.ddimwidth,
            s = this.ddimheight,
            y = this.adimglowx,
            I = this.adimglowy,
            x = this.adimglowwidth,
            z = this.adimglowheight) : game.account.currentBetIndex != game.account.betAmounts.length - 1 ? (d = this.nx,
            n = this.ny,
            q = this.nwidth,
            r = this.nheight,
            l = this.dx,
            j = this.dy,
            o = this.dwidth,
            s = this.dheight,
            y = this.nglowx,
            I = this.nglowy,
            x = this.nglowwidth,
            z = this.nglowheight) : (d = this.nx,
            n = this.ny,
            q = this.nwidth,
            r = this.nheight,
            l = this.dx,
            j = this.dy,
            o = this.dwidth,
            s = this.dheight,
            y = this.aglowx,
            I = this.aglowy,
            x = this.aglowwidth,
            z = this.aglowheight);
            w = this.dglowx;
            B = this.dglowy;
            A = this.dglowwidth;
            E = this.dglowheight;
            var u = Math.floor(this.countCoins * ((game.account.currentBetIndex + 1) / this.countStates)), u = u || 1, m, h;
            if (this.isDown) {
                m = x * b;
                h = z * c;
                for (var D = 0; D < this.countCoins; D++)
                    D < u && (C = game.account.currentBetIndex != game.account.betAmounts.length - 1 ? this.glowPositionCorrection.normal : this.glowPositionCorrection.active,
                    e.drawImage(this.image, y, I, x, z, (this.X + m / 2 * (1 - this.scale) + this.deltaX * D + C.x) * a, (this.Y + h / 2 * (1 - this.scale) + C.y) * a, m * this.scale * a, h * this.scale * a));
                m = q * b;
                h = r * c;
                for (D = 0; D < this.countCoins; D++)
                    e.drawImage(this.image, d, n, q, r, (this.X + m / 2 * (1 - this.scale) + this.deltaX * D) * a, (this.Y + h / 2 * (1 - this.scale)) * a, m * this.scale * a, h * this.scale * a)
            } else {
                for (D = 0; D < this.countCoins; D++)
                    D < u ? (C = !this.isDisabled && game.account.currentBetIndex != game.account.betAmounts.length - 1 ? this.glowPositionCorrection.normal : this.glowPositionCorrection.active,
                    m = x * b,
                    h = z * c,
                    e.drawImage(this.image, y, I, x, z, (this.X + this.deltaX * D + C.x) * a, (this.Y + C.y) * a, m * a, h * a)) : (C = this.glowPositionCorrection.normal,
                    m = A * b,
                    h = E * c,
                    e.drawImage(this.image, w, B, A, E, (this.X + this.deltaX * D + C.x) * a, (this.Y + C.y) * a, m * a, h * a));
                for (D = 0; D < this.countCoins; D++)
                    D < u ? (m = q * b,
                    h = r * c,
                    e.drawImage(this.image, d, n, q, r, (this.X + this.deltaX * D) * a, this.Y * a, m * a, h * a)) : (m = o * b,
                    h = s * c,
                    e.drawImage(this.image, l, j, o, s, (this.X + this.deltaX * D) * a, this.Y * a, m * a, h * a))
            }
            this.tooltip && (!this.isDisabled && game.account.currentBetIndex != game.account.betAmounts.length - 1) && this.tooltip.draw(e)
        }
        ;
        this.isOver = function(a) {
            return this.isDisabled ? !1 : a.x > this.X - this.hitPaddingTotal.left && a.x < this.X + this.designW + this.hitPaddingTotal.right && a.y > this.Y - this.hitPaddingTotal.top && a.y < this.Y + this.designH + this.hitPaddingTotal.bottom ? !0 : !1
        }
        ;
        this.processMove = function(a) {
            this.tooltip && this.tooltip.setVisible(this.isOver(a))
        }
    }
      , Button = function(b, a, d) {
        this.image = b;
        this.designW = a.designW || a.nwidth;
        this.designH = a.designH || a.nheight;
        this.width = a.nwidth;
        this.height = a.nheight;
        this.Y = this.X = 0;
        this.nx = a.nx;
        this.ny = a.ny;
        this.nwidth = a.nwidth;
        this.nheight = a.nheight;
        this.dx = a.dx;
        this.dy = a.dy;
        this.dwidth = a.dwidth;
        this.dheight = a.dheight;
        this.ax = "undefined" === a.ax ? 0 : a.ax;
        this.ay = "undefined" === a.ay ? 0 : a.ay;
        this.awidth = "undefined" === a.awidth ? 0 : a.awidth;
        this.aheight = "undefined" === a.aheight ? 0 : a.aheight;
        this.isActive = this.isDisabled = this.isDown = !1;
        this.visible = !0;
        this.scale = 0.9;
        this.hitPadding = 0;
        var c = void 0 !== typeof top_ctx && null !== top_ctx ? top_ctx : game_ctx;
        this.tooltip = d ? new ButtonTooltip(d) : null;
        this.setPosition = function(a, b) {
            this.X = a.x;
            this.Y = a.y;
            this.tooltip && this.tooltip.setPosition(b)
        }
        ;
        this.updateScale = function() {
            this.isDown && (this.scale -= 0.01,
            0.7 >= this.scale && (this.scale = 0.7))
        }
        ;
        this.draw = function() {
            var a = gameViewMan.viewScale, b, d, k, p, n = this.designW / this.nwidth, q = this.designH / this.nheight;
            this.isActive ? (b = this.ax,
            d = this.ay,
            k = this.awidth,
            p = this.aheight) : this.isDisabled ? (b = this.dx,
            d = this.dy,
            k = this.dwidth,
            p = this.dheight) : (b = this.nx,
            d = this.ny,
            k = this.nwidth,
            p = this.nheight);
            this.isDown ? c.drawImage(this.image, b, d, k, p, (this.X + k * n / 2 * (1 - this.scale)) * a, (this.Y + p * q / 2 * (1 - this.scale)) * a, this.designW * this.scale * a, this.designH * this.scale * a) : c.drawImage(this.image, b, d, k, p, this.X * a, this.Y * a, this.designW * a, this.designH * a);
            this.tooltip && !this.isDisabled && this.tooltip.draw(c)
        }
        ;
        this.isOver = function(a) {
            return this.isDisabled ? !1 : a.x > this.X - this.hitPadding && a.x < this.X + this.designW + this.hitPadding && a.y > this.Y - this.hitPadding && a.y < this.Y + this.designH + this.hitPadding ? !0 : !1
        }
        ;
        this.processMove = function(a) {
            this.tooltip && this.tooltip.setVisible(this.isOver(a))
        }
    }
      , ButtonTooltip = function(b) {
        this.visible = !1;
        this.txt = new AF.Text;
        TOOLTIP_STYLE ? (this.txt.setMixedFormat(TOOLTIP_STYLE),
        this.txt.dX = TOOLTIP_STYLE.dX,
        this.txt.dY = TOOLTIP_STYLE.dY) : (this.txt.dX = 0,
        this.txt.dY = 0);
        this.txt.text = b;
        this.txtCenterY = this.txtCenterX = 0;
        this.setVisible = function(a) {
            if (!game.ui.tooltipIsActive || this.visible && !a)
                this.visible = a
        }
        ;
        this.setPosition = function(a) {
            this.txt.x = a.x + this.txt.dX;
            this.txt.y = a.y + this.txt.dY
        }
        ;
        this.draw = function(a) {
            this.visible && this.txt.draw(a)
        }
    }
      , processKeyUp = function(b) {
        var a = document.getElementById("game")
          , d = document.getElementById("msgBox_2");
        if (32 == b.keyCode && game_ui.superState == game_ui.SP_BET_STOP && game.spaceSpinAvailable && "none" != a.style.display && (game.account.canBet() && game.ui.btnSpin && game.ui.btnSpin.visible && !game.ui.btnSpin.isDisabled && game.gEnableUI && game.ui.autoPlayMode == game.ui.AUTO_OFF || game.ui.btnStop.drawCondition() || game.ui.btnContinue.drawCondition()))
            if (null != d && "block" != d.style.display || null == d)
                b = {
                    x: Math.round(game.ui.layout.SPIN_BTN.x + 2),
                    y: Math.round(game.ui.layout.SPIN_BTN.y + 2)
                },
                a = new CustomEvent("click",{
                    clientX: b.x,
                    clientY: b.y,
                    view: window,
                    bubbles: !0,
                    cancelable: !1
                }),
                game_ui.state = 1,
                game.ui.processClick(b),
                game.ui.processClickRelease(b, a),
                game.ui.buttonsUp()
    };
	console.log("#####GAME_INTERACTION-WindowObj sett key up event listener??");
    windowObj.addEventListener("keyup", processKeyUp, !1);
    document.addEventListener("keyup", processKeyUp, !1);
    document.addEventListener("mouseout", function() {
        game.ui.processMove({
            x: 999999,
            y: 999999
        })
    }, !1);
    FreeRoundsButtonAnim = function() {
        game.ASSET_MANAGER.getAsset("freespins/btn_FreeRound.png");
        var b = game.ASSET_MANAGER.getAsset("freespins/btn_FreeRoundGlow.png");
        this.initFreeRoundButton = function() {
            this.btnGlowAnim = new ngImage2(b);
            this.btnGlowAnimLayout = {
                x: 0,
                y: 0,
                w: 80,
                h: 80
            };
            this.btnGlowAnim.setAnimConfig([{
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }, {
                x: this.btnGlowAnimLayout.x,
                y: this.btnGlowAnimLayout.y,
                w: this.btnGlowAnimLayout.w,
                h: this.btnGlowAnimLayout.h
            }], [{
                t: 0,
                a: 1
            }, {
                t: 1,
                a: 0.9
            }, {
                t: 2,
                a: 0.8
            }, {
                t: 3,
                a: 0.7
            }, {
                t: 4,
                a: 0.6
            }, {
                t: 5,
                a: 0.5
            }, {
                t: 6,
                a: 0.4
            }, {
                t: 7,
                a: 0.3
            }, {
                t: 8,
                a: 0.2
            }, {
                t: 9,
                a: 0.1
            }, {
                t: 10,
                a: 0
            }, {
                t: 9,
                a: 0.1
            }, {
                t: 8,
                a: 0.2
            }, {
                t: 7,
                a: 0.3
            }, {
                t: 6,
                a: 0.4
            }, {
                t: 5,
                a: 0.5
            }, {
                t: 4,
                a: 0.6
            }, {
                t: 3,
                a: 0.7
            }, {
                t: 2,
                a: 0.8
            }, {
                t: 1,
                a: 0.9
            }]);
            this.visible = !1
        }
        ;
        this.setPosition = function(a, b) {
            this.btnGlowAnim.setPosition(a - 9, b - 9)
        }
        ;
        this.startAnimation = function() {
            this.visible = !0;
            this.btnGlowAnim.startAnim(!0, 0)
        }
        ;
        this.stopAnimation = function() {
            this.visible = !1;
            this.btnGlowAnim.stopAnim(!0)
        }
        ;
        this.draw = function() {
            game.freeRounds.freeRoundAvailability && (this.visible && !game.ui.btnFreeRounds.isDisabled) && this.btnGlowAnim.draw()
        }
        ;
        this.update = function(a) {
            this.btnGlowAnim.update(a)
        }
    }
}
;function SearchFor(b, a) {
    var d = !Array.isArray(b) ? [b] : b
      , c = window
      , e = ["window"]
      , f = []
      , g = ObjectHasValue
      , k = ["parent", "children"]
      , p = [];
    if (void 0 != a) {
        a.target && (c = a.target,
        e[0] = c.toString());
        a.rootID && (e[0] = a.rootID);
        if (a.condition && (g = a.condition,
        a.conditionArgs)) {
            var n = a.conditionArgs;
            "string" == typeof n && p.push(n)
        }
        a.varNames && (g = ObjectHasValueToString);
        a.exceptionList && (k = a.exceptionList);
        a.addToExceptList && AddIntoList(k, a.addToExceptList)
    }
    c = [c];
    for (n = 0; n < d.length; n++)
        for (var q = 0; q < c.length; q++) {
            var r = FindProp(c[q], d[n], g, f, k, e[q], p);
            if (0 < r[0].length)
                for (var l = 0; l < r[0].length; ++l)
                    0 <= AddIntoList(c, r[0][l]) && AddIntoList(e, r[1][l])
        }
    return f
}
function FindProp(b, a, d, c, e, f, g) {
    var k = []
      , p = [];
    Array.isArray(e) || (e = [e]);
    for (var n in b)
        if (0 > e.indexOf(n)) {
            var q = b[n]
              , r = d(b, n, a).concat(g);
            if (r[0]) {
                var r = r[1]
                  , l = f.split(".");
                r.varName = l[l.length - 1];
                r.pathID = f;
                AddIntoList(c, r)
            }
            q && "[object Object]" == q.toString() && 0 <= AddIntoList(k, q) && AddIntoList(p, f + "." + n)
        }
    return [k, p]
}
function ObjectHasKey(b, a, d) {
    return [a === d, b]
}
function ObjectHasValue(b, a, d) {
    return [b[a] === d, b]
}
function ObjectHasProperty(b, a, d, c) {
    return [b[a][c] === d, b]
}
function ObjectHasValueToString(b, a, d) {
    return [b[a] === d, {
        target: b,
        key: "" + a
    }]
}
function IsANumber(b) {
    return void 0 != b && !isNaN(b)
}
function Exists(b) {
    return void 0 !== b || null != b
}
function IsOver(b, a) {
    return b.x > a.x + a.dX && b.x < a.x + a.dX + a.width && b.y > a.y + a.dY && b.y < a.y + a.dY + a.height
}
function RemoveFromList(b, a) {
    for (var d = 0; d < b.length; ++d)
        b[d] === a && (b.splice(d, 1),
        --d)
}
function AddIntoList(b, a, d) {
    var d = void 0 == d ? !0 : d
      , c = []
      , e = -1;
    !Array.isArray(a) || !d ? c[0] = a : c = a;
    Array.isArray(b) || (b = [b]);
    a = 0;
    for (d = c.length; a < d; ++a) {
        for (var f = c[a], g = !1, k = 0, p = b.length; k < p; ++k)
            if (b[k] === f) {
                g = !0;
                break
            }
        !g && Exists(f) && (b.push(f),
        e = b.length - 1)
    }
    return e
}
function SwapInList(b, a, d, c) {
    for (var e = 0, f = b.length; e < f; ++e)
        if (b[e] === a) {
            b[e] = d;
            return
        }
    void 0 != c && !0 == c && b.push(d)
}
function InList(b, a) {
    for (var d = 0, c = b.length; d < c; ++d)
        if (b[d] === a)
            return d;
    return -1
}
var _tempCvs = document.createElement("canvas")
  , textManager = new TextManager;
function TextManager() {
    this.txtObjects = [];
    this.txtFormat = {};
    this.instanceCount = 0;
    this.instanceID = "unique"
}
TextManager.prototype.addFormats = function(b) {
    for (var a in b)
        this.txtFormat[a] = b[a]
}
;
TextManager.prototype.addFormat = function(b, a) {
    if ("UNIQUE" == b) {
        var d = this.instanceID + this.instanceCount;
        this.instanceCount++
    } else
        d = b;
    this.txtFormat[d] = a
}
;
TextManager.prototype.getFormat = function(b) {
    return this.txtFormat[b]
}
;
TextManager.prototype.getFormatID = function(b) {
    for (var a in this.txtFormat)
        if (this.txtFormat[a] === b)
            return a;
    return "could not find id"
}
;
TextManager.prototype.update = function() {
    for (var b = 0; b < this.txtObjects.length; ++b)
        void 0 != this.txtObjects[b].updateBuffer && this.txtObjects[b].updateBuffer()
}
;
TextManager.prototype.add = function(b) {
    AddIntoList(this.txtObjects, b)
}
;
TextManager.prototype.cloneCustomText = function(b, a) {
    var d = null;
    if (void 0 != b.options) {
        var d = new CustomText(b.options), c;
        for (c in d)
            if ("number" == typeof d[c] || "string" == typeof d[c] || "boolean" == typeof d[c])
                d[c] = b[c];
        a && d.createUniqueFormat()
    }
    return d
}
;
var getTextWidth = function(b, a) {
    var d = _tempCvs.getContext("2d");
    d.font = b;
    return d.measureText(a).width
};
function BaseCustomTextOptions() {
    this.rotate = this.oY = this.oX = this.dY = this.dX = this.y = this.x = 0;
    this.scaleY = this.scaleX = this.alpha = 1;
    this.visible = !0;
    this.offsetY = this.offsetX = this.height = this.width = 0;
    this.useBuffer = !1;
    this.maxStroke = 0;
    this.text = "";
    this.fontSize = 16;
    this.fontType = "arial";
    this.fontWeight = "";
    this.lineJoin = "round";
    this.miterLimit = 2;
    this.textY = this.fontSize;
    this.autoCenter = !0;
    this.textAlign = "left";
    this.bUseFillShadow = !1;
    this.fillShadowOffsetY = this.fillShadowOffsetX = 3;
    this.shadowFillColor = "rgba(0,0,0,1)";
    this.format = {}
}
function CustomText(b, a) {
    this.type = "CustomText";
    var d = new (void 0 == a ? BaseCustomTextOptions : a), d = processDefaultOptions(b, d), c;
    for (c in d)
        this[c] = d[c];
    this.padding = {
        left: void 0 != this.padding && void 0 != this.padding.left ? this.padding.left : 0,
        right: void 0 != this.padding && void 0 != this.padding.right ? this.padding.right : 0,
        top: void 0 != this.padding && void 0 != this.padding.top ? this.padding.top : 0,
        bottom: void 0 != this.padding && void 0 != this.padding.bottom ? this.padding.bottom : 0,
        all: void 0 != this.padding && void 0 != this.padding.all ? this.padding.all : 0
    };
    this.textBoxModifiers = {
        sizeMult: void 0 != this.textBoxModifiers && void 0 != this.textBoxModifiers.sizeMult ? this.textBoxModifiers.sizeMult : 1.4,
        heightMult: void 0 != this.textBoxModifiers && void 0 != this.textBoxModifiers.heightMult ? this.textBoxModifiers.heightMult : 0,
        gradientModifier: void 0 != this.textBoxModifiers && void 0 != this.textBoxModifiers.gradientModifier ? this.textBoxModifiers.gradientModifier : 0.15,
        gradientPosition: void 0 != this.textBoxModifiers && void 0 != this.textBoxModifiers.gradientPosition ? this.textBoxModifiers.gradientPosition : 0
    };
    this.usedArea = {
        height: 0,
        width: 0,
        x: 0,
        y: 0,
        alpha: 0.5
    };
    this.offsets = {
        x: 0,
        y: 0,
        blur: {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            extraWidth: 0,
            extraHeight: 0
        },
        stroke: 0
    };
    "string" == typeof d.format ? (this.formatID = this.format,
    this.format = textManager.getFormat(d.format)) : (this.formatID = this.fontType + this.text,
    textManager.addFormat(this.formatID, this.format));
    void 0 != this.format.shadowBlurSettings && !Array.isArray(this.format.shadowBlurSettings) && (this.format.shadowBlurSettings = [this.format.shadowBlurSettings]);
    this.updateFont();
    this.fontWidth = getTextWidth(this.font, this.text);
    this.fontHeight = this.fontSize;
    this.shadowfillFont = void 0 == d.shadowfillFont ? this.font : d.shadowfillFont;
    this.textY = this.fontHeight;
    this.autoCenter && (this.dX = -this.fontWidth / 2,
    this.dY = -this.fontHeight / 2);
    this.useBuffer && (this.createBuffer(),
    this.updateBuffer());
    textManager.add(this);
    this.calcUsedSpace();
    this.options = d
}
CustomText.prototype.getMaxLinewidth = function() {
    for (var b = 0, a = this.format.styleSettings, d = 0; d < a.length; ++d)
        void 0 != a[d].strokeStyle && void 0 != a[d].lineWidth && (b = Math.max(b, a[d].lineWidth));
    return b
}
;
CustomText.prototype.adjustBlurOffsets = function() {
    if (void 0 != this.format.shadowBlurSettings)
        for (var b, a = this.offsets.blur, d = 0; d < this.format.shadowBlurSettings.length; ++d)
            if (b = this.format.shadowBlurSettings[d],
            void 0 != b) {
                var c = b.shadowOffsetX
                  , e = b.shadowOffsetY
                  , f = b.shadowBlur / 2;
                a.left = Math.max(0 > c - f ? c - f : 0, a.left);
                a.right = Math.max(0 < c + f ? c + f : 0, a.right);
                a.top = Math.max(0 > e - f ? e - f : 0, a.top);
                a.bottom = Math.max(0 < e + f ? e + f : 0, a.bottom);
                c = Math.abs(a.left) + Math.abs(a.right);
                void 0 != b.shadowMultiplier && (b = getTextWidth(this.fontSize * b.shadowMultiplier + "px " + this.fontType, this.text),
                c += b - this.fontWidth);
                a.extraWidth = Math.max(c, a.extraWidth);
                a.extraHeight = Math.max(Math.abs(a.top) + Math.abs(a.bottom), a.extraHeight)
            }
}
;
CustomText.prototype.createBuffer = function() {
    this.buffer = document.createElement("canvas");
    this.bufferCtx = this.buffer.getContext("2d");
    this.bcfg = {}
}
;
CustomText.prototype.calcUsedSpace = function() {
    this.offsets.stroke = this.getMaxLinewidth();
    this.adjustBlurOffsets();
    this.offsets.x = 0 - this.padding.left - this.offsets.stroke + this.offsets.blur.left - this.padding.all / 2;
    this.offsets.y = this.fontSize * this.textBoxModifiers.heightMult - this.padding.top + this.offsets.blur.top - this.padding.all / 2;
    this.usedArea.x = this.offsets.x;
    this.usedArea.y = this.offsets.y;
    this.width = this.usedArea.width = this.fontWidth + 2 * this.offsets.stroke + this.offsets.blur.extraWidth + this.padding.left + this.padding.right + this.padding.all;
    this.height = this.usedArea.height = this.fontHeight * this.textBoxModifiers.sizeMult + this.padding.top + this.padding.bottom + this.offsets.blur.extraHeight + this.padding.all;
    this.width *= this.scaleX;
    this.height *= this.scaleY
}
;
CustomText.prototype.updateFont = function(b, a) {
    this.font = "";
    0 < this.fontWeight.length && (this.font += this.fontWeight + " ");
    this.fontSize = void 0 == a ? this.fontSize : a;
    this.fontType = void 0 == b ? this.fontType : b;
    this.font += this.fontSize + "px " + this.fontType
}
;
CustomText.prototype.draw = function(b) {
    if (this.visible) {
        var a = gameViewMan.viewScale;
        b.save();
        b.globalAlpha = this.alpha;
        b.translate((this.x + this.oX) * a, (this.y + this.oY) * a);
        b.scale(this.scaleX, this.scaleY);
        b.rotate(this.rotate * Math.PI / 180);
        if (this.showUsedSpace) {
            b.save();
            this.updateFont();
            b.font = this.font;
            this.calcUsedSpace();
            b.beginPath();
            b.fillStyle = "rgba(0, 0, 0, " + this.usedArea.alpha + ")";
            var d = this.usedArea.x
              , c = this.usedArea.y + this.dY * a
              , d = d + -this.usedArea.width / 2 * a;
            b.fillRect(d, c, this.usedArea.width * a, this.usedArea.height * a);
            b.closePath();
            b.restore()
        }
        this.useBuffer ? void 0 != this.bcfg ? (d = this.bcfg,
        b.translate(this.offsets.x * a, this.offsets.y * a),
        b.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, d.dX * a, d.dY * a, d.dW * a, d.dH * a)) : (this.createBuffer(),
        this.updateBuffer()) : (b.textAlign = this.textAlign,
        this.drawText(b, this.dX * a, this.dY * a));
        b.restore()
    }
}
;
CustomText.prototype.regularDraw = function(b) {
    if (this.visible) {
        var a = gameViewMan.viewScale;
        b.save();
        b.globalAlpha = this.alpha;
        b.translate((this.x + this.oX) * a, (this.y + this.oY) * a);
        b.scale(this.scaleX * a, this.scaleY * a);
        b.rotate(this.rotate * Math.PI / 180);
        b.textAlign = this.textAlign;
        this.drawText(b, this.dX, this.dY);
        b.restore()
    }
}
;
CustomText.prototype.drawText = function(b, a, d) {
    b.font = this.font;
    this.fontWidth = b.measureText(this.text).width;
    this.textY = this.fontHeight = this.fontSize;
    if (void 0 != this.format.shadowBlurSettings) {
        var c = this.format.shadowBlurSettings, e;
        if (0 < this.format.shadowBlurSettings.length)
            for (var f = 1; f < c.length; ++f)
                e = c[f],
                b.shadowColor = e.shadowColor,
                b.shadowOffsetX = e.shadowOffsetX,
                b.shadowOffsetY = e.shadowOffsetY,
                b.shadowBlur = e.shadowBlur,
                void 0 == this.firefoxQuickfix && (this.firefoxQuickfix = b.createLinearGradient(a, d, a, this.fontHeight * this.textBoxModifiers.sizeMult + d),
                this.firefoxQuickfix.addColorStop(0, "rgba(0,0,0,1)")),
                b.fillStyle = this.firefoxQuickfix,
                b.fillText(this.text, a, this.textY + d);
        e = c[0];
        void 0 != e && (b.shadowColor = e.shadowColor,
        b.shadowOffsetX = e.shadowOffsetX,
        b.shadowOffsetY = e.shadowOffsetY,
        b.shadowBlur = e.shadowBlur)
    }
    e = this.format.styleSettings;
    if (this.bUseFillShadow)
        for (f = 0; f < e.length; ++f) {
            c = e[f];
            b.lineJoin = void 0 == c.lineJoin ? this.lineJoin : c.lineJoin;
            b.miterLimit = void 0 == c.miterLimit ? this.miterLimit : c.miterLimit;
            var g = b.globalAlpha;
            b.globalAlpha = this.alpha;
            b.font = this.shadowfillFont;
            void 0 != c.strokeStyle ? (b.lineWidth = void 0 != c.lineWidth ? c.lineWidth : 1,
            b.strokeStyle = this.getShadowStrokeStyle(b, c, c.strokeStyle, a, d),
            b.strokeText(this.text, a + this.fillShadowOffsetX, this.textY + d + this.fillShadowOffsetY)) : void 0 != c.fillStyle && (b.fillStyle = this.getShadowFillStyle(),
            b.fillText(this.text, a + this.fillShadowOffsetX, this.textY + d + this.fillShadowOffsetY));
            b.globalAlpha = g;
            b.font = this.font
        }
    for (f = 0; f < e.length; ++f)
        c = e[f],
        b.lineJoin = void 0 == c.lineJoin ? this.lineJoin : c.lineJoin,
        b.miterLimit = void 0 == c.miterLimit ? this.miterLimit : c.miterLimit,
        void 0 != c.strokeStyle ? (b.lineWidth = void 0 != c.lineWidth ? c.lineWidth : 1,
        b.strokeStyle = this.getStyle(b, c, c.strokeStyle, a, d),
        b.strokeText(this.text, a, this.textY + d)) : void 0 != c.fillStyle && (b.fillStyle = this.getStyle(b, c, c.fillStyle, a, d),
        b.fillText(this.text, a, this.textY + d))
}
;
CustomText.prototype.getShadowFillStyle = function() {
    var b = ctx.createLinearGradient(0, 0, this.fontWidth, this.fontHeight);
    b.addColorStop(0, this.shadowFillColor);
    b.addColorStop(1, this.shadowFillColor);
    return b
}
;
CustomText.prototype.getShadowStrokeStyle = function(b, a, d, c, e) {
    var f, g = void 0 == a.gradientPosition ? this.textBoxModifiers.gradientPosition : a.gradientPosition;
    f = void 0 == a.gradientModifier ? this.textBoxModifiers.gradientModifier : a.gradientModifier;
    var d = this.fontHeight * this.textBoxModifiers.sizeMult, k, p, n, q;
    void 0 == a.gradientType || void 0 != a.gradientType && -1 != a.gradientType.indexOf("v") ? (a = this.fontSize * f + g,
    k = 0 + c,
    n = a + e,
    p = 0 + c,
    q = d + e) : -1 != a.gradientType.indexOf("h") && (a = this.fontWidth * f + g,
    k = a + c,
    n = 0 + e,
    p = this.fontWidth + c,
    q = 0 + e);
    b = b.createLinearGradient(k, n, p, q);
    c = this.shadowFillColor;
    b.addColorStop(0, c);
    b.addColorStop(1, c);
    return b
}
;
CustomText.prototype.getStyle = function(b, a, d, c, e) {
    if (Array.isArray(d)) {
        var f, g, k = void 0 == a.gradientPosition ? this.textBoxModifiers.gradientPosition : a.gradientPosition;
        g = void 0 == a.gradientModifier ? this.textBoxModifiers.gradientModifier : a.gradientModifier;
        f = this.fontHeight * this.textBoxModifiers.sizeMult;
        var p, n, q, r;
        void 0 == a.gradientType || void 0 != a.gradientType && -1 != a.gradientType.indexOf("v") ? (a = this.fontSize * g + k,
        p = 0 + c,
        q = a + e,
        n = 0 + c,
        r = f + e) : -1 != a.gradientType.indexOf("h") && (a = this.fontWidth * g + k,
        p = a + c,
        q = 0 + e,
        n = this.fontWidth + c,
        r = 0 + e);
        b = b.createLinearGradient(p, q, n, r);
        for (f = 0; f < d.length; ++f)
            c = d[f][0],
            e = d[f][1],
            b.addColorStop(e, c);
        return b
    }
    return d
}
;
CustomText.prototype.updateBuffer = function() {
    void 0 == this.buffer && this.createBuffer();
    this.updateFont();
    this.bufferCtx.font = this.font;
    this.fontWidth = this.bufferCtx.measureText(this.text).width;
    this.textY = this.fontHeight = this.fontSize;
    this.calcUsedSpace();
    this.buffer.width = this.bcfg.width = this.usedArea.width;
    this.buffer.height = this.bcfg.height = this.usedArea.height;
    this.bufferCtx.clearRect(0, 0, this.buffer.width, this.buffer.height);
    this.bufferCtx.translate(-this.usedArea.x, -this.usedArea.y);
    this.bufferCtx.textAlign = "left";
    var b = this.alpha;
    this.alpha = 1;
    this.drawText(this.bufferCtx, 0, 0);
    this.alpha = b;
    this.bcfg.sX = 0;
    this.bcfg.sY = 0;
    this.bcfg.sW = this.buffer.width;
    this.bcfg.sH = this.buffer.height;
    this.bcfg.dX = this.dX;
    this.bcfg.dY = this.dY;
    this.bcfg.dW = this.bcfg.sW;
    this.bcfg.dH = this.bcfg.sH;
    this.bcfg.img = this.buffer;
    if (this.autoCenter && ("left" == this.textAlign || this.useBuffer ? this.dX = -this.fontWidth / 2 : "center" == this.textAlign && (this.dX = 0),
    this.dY = -this.fontHeight / 2,
    this.useBuffer))
        this.bcfg.dX = this.dX,
        this.bcfg.dY = this.dY;
    this.firefoxQuickfix = ctx.createLinearGradient(this.dX, this.dY, this.dX, this.fontHeight * this.textBoxModifiers.sizeMult + this.dY);
    this.firefoxQuickfix.addColorStop(0, "rgba(0,0,0,1)")
}
;
CustomText.prototype.updateTextProperties = function() {
    this.updateFont();
    this.fontWidth = getTextWidth(this.font, this.text);
    this.textY = this.fontHeight = this.fontSize;
    if (this.autoCenter && ("left" == this.textAlign || this.useBuffer ? this.dX = -this.fontWidth / 2 : "center" == this.textAlign && (this.dX = 0),
    this.dY = -this.fontHeight / 2,
    this.useBuffer))
        this.bcfg.dX = this.dX,
        this.bcfg.dY = this.dY
}
;
CustomText.prototype.createUniqueFormat = function() {
    this.format = new CustomTextFormat(this.format);
    textManager.addFormat("UNIQUE", this.format);
    this.formatID = "" + textManager.getFormatID(this.format)
}
;
function CustomTextFormat(b) {
    this.shadowBlurSettings = [];
    this.styleSettings = [];
    void 0 != b && this.cloneFormat(b)
}
CustomTextFormat.prototype.cloneFormat = function(b) {
    var a;
    if (void 0 != b.shadowBlurSettings) {
        this.shadowBlurSettings = [];
        for (var d = 0; d < b.shadowBlurSettings.length; ++d) {
            a = b.shadowBlurSettings[d];
            this.shadowBlurSettings[d] = {};
            for (var c in a)
                this.shadowBlurSettings[d][c] = a[c]
        }
    }
    if (void 0 != b.styleSettings) {
        this.styleSettings = [];
        for (d = 0; d < b.styleSettings.length; ++d) {
            this.styleSettings[d] = {};
            a = b.styleSettings[d];
            for (var e in a)
                if (c = a[e],
                Array.isArray(c)) {
                    this.styleSettings[d][e] = [];
                    for (var f = 0; f < c.length; ++f) {
                        var g = c[f];
                        if (Array.isArray(c[f])) {
                            this.styleSettings[d][e][f] = [];
                            for (var k = 0; k < g.length; ++k)
                                this.styleSettings[d][e][f][k] = g[k]
                        } else
                            this.styleSettings[d][e][f] = g
                    }
                } else
                    this.styleSettings[d][e] = c
        }
    }
}
;
function correctIphoneHelpText() {
    navigator.userAgent.match(/iPhone/i) && ($(".titlerules, .titlefree, .rules, .titlefeature, .titlesuperbet, .titleowlbonus").css("font-size", "44px"),
    $(".count, .amount, .helptext").css("font-size", "24px"))
}
;function nggSlotCommunicator() {
    function b(a) {
        for (var b = 0; b < e.length; b++)
            if (e[b] == a)
                return e[b + 1];
        return ""
    }
    function a(a, b) {
        a.charAt(a.length - 1) == b && (a = a.substr(0, a.length - 1));
        return a
    }
    function d(a, c, d) {
        var e = Number(b("ENC"))
          , f = a.split(d)
          , g = [];
        if (1 == e) {
            for (a = 0; a < f.length; a++) {
                for (var e = g, k = a, s = parseInt(f[a], 36), y = c, I = d, x = "", z = Math.pow(2, 3) - 1, z = s & z, w = 3, B = 0; B < z; B++) {
                    var A = Math.pow(2, y + w) - 1
                      , x = x + ((s & A) >> w)
                      , w = w + y;
                    B < z - 1 && (x += I)
                }
                e[k] = x
            }
            return c = g.join(d)
        }
        return a
    }
    function c() {
        f.MSG = "BET";
        f.MSGID = b("MSGID");
        f.B = Number(b("B"));
        f.RS = a(b("RS"), "|").split("|").map(Number);
        f.RID = Number(b("RID"));
        f.NRID = Number(b("NRID"));
        f.CW = Number(b("CW"));
        f.TW = Number(b("TW"));
        f.NFG = Number(b("NFG"));
        f.IFG = Number(b("IFG"));
        f.FGT = Number(b("FGT"));
        f.TFG = Number(b("TFG"));
        f.CFGG = Number(b("CFGG"));
        f.FGTW = Number(b("FGTW"));
        f.FID = a(b("FID"), "|").split("|").map(Number);
        f.WC = a(b("WC"), "|").split("|").map(Number);
        f.R = 0;
        f.SUB = Number(b("SUB"));
        f.MUL = Number(b("MUL"));
        f.WS = a(b("WS"), "|").split("|").map(function(b) {
            return a(b, ";").split(";").map(function(a) {
                return 0 < a.indexOf(",") ? a.split(",").map(Number) : Number(a)
            })
        });
        f.GSD = b("GSD");
        if (f.GSD) {
            for (var c = f.GSD.split("#"), d = {}, e = 0; e < c.length; e++)
                c[e] = c[e].split("~"),
                d[c[e][0]] = c[e][1];
            d = g.GSDParser(d);
            f.GSD = d
        }
        f.SSS = b("SSS");
        f.SSS && (f.SSS = g.SSSParser(f.SSS));
        f.CFG = Number(b("CFG"));
        b("CFG") && (c = f.CFG,
        f.FS = Number(b("FS_" + c)),
        f.NFR = Number(b("NFR_" + c)),
        f.CFR = Number(b("CFR_" + c)),
        f.CFP = Number(b("CFP_" + c)),
        f.TFW = Number(b("TFW")),
        f.FPM = a(b("FPM_" + c), "|").split("|").map(function(b) {
            return a(b, ";").split(";").map(Number)
        }),
        b("FTV_" + c) && (f.FTV = a(b("FTV_" + c), "|").split("|").map(function(b) {
            return a(b, ";").split(";").map(Number)
        })))
    }
    var e = []
      , f = {
        RID: 0,
        NRID: 0,
        R: 0
    }
      , g = this
      , k = !1;
    g.processResponse = function(g) {
        if (null == g || "" == g || "&" == g)
            g = "&MSGID=ERROR&EID=ERROR_NULL&";
        e = g.split(/&|=/);
        switch (b("MSGID")) {
        case "INIT":
            c();
            f.MSG = "INIT";
            f.R = Number(b("R"));
            f.BDD = Number(b("BDD"));
            f.BD = a(b("BD"), "|").split("|").map(Number);
            b("ABM") && (f.ABPM = Number(b("ABPM")),
            f.ABM = a(b("ABM"), "|").split("|").map(Number),
            f.ABRSC = a(b("ABRSC"), "|").split("|").map(Number));
            break;
        case "REELSTRIP":
            f.MSG = "REELSTRIP";
            f.MSGID = b("MSGID");
            if (b("RST_0")) {
                for (var g = f, n = b("RST_0"), n = a(n, "|"), q = [], r = [], r = n.split("|"), n = 0; n < r.length; n++) {
                    var l = r[n].split(">");
                    l[1] = a(l[1], ";");
                    l = d(l[1], 5, ";").split(";");
                    q[n] = l.map(Number)
                }
                g.RST_0 = q
            }
            if (b("RSIDS")) {
                g = a(b("RSIDS"), "|").split("|");
                f.RSIDS = g.map(Number);
                for (q = 0; q < g.length; q++)
                    if ("0" != g[q]) {
                        r = JSON.parse(JSON.stringify(f.RST_0));
                        n = b("RST_" + g[q]);
                        if ("" != n) {
                            n = a(n, "|");
                            n = n.split("|");
                            for (l = 0; l < n.length; l++) {
                                var j = n[l].split(">")
                                  , o = Number(j[0])
                                  , j = d(j[1], 5, ";").split(";");
                                r[o] = j.map(Number)
                            }
                        }
                        n = b("RSC_" + g[q]);
                        if ("" != n) {
                            n = a(n, "|");
                            n = n.split("|");
                            for (l = 0; l < n.length; l++)
                                for (var j = n[l].split(">"), o = Number(j[0]), j = a(j[1], ";").split(";"), s = 0; s < j.length; s++) {
                                    var y = d(j[s], 10, ":").split(":");
                                    r[o][Number(y[0])] = Number(y[1])
                                }
                        }
                        f["RST_" + g[q]] = r
                    }
            }
            break;
        case "BET":
        case "FREE_GAME":
        case "FEATURE_PICK":
        case "FEATURE_END":
            c();
            break;
        case "FEATURE_START":
            f.MSGID = b("MSGID");
            break;
        case "ERROR":
            f.MSG = "ERROR",
            f.MSGID = b("MSGID"),
            f.EID = b("EID")
        }
        k = !0
    }
    ;
    g.getMarker = function(a) {
        return f[a]
    }
    ;
    g.getRawMarker = function(a) {
        return b(a)
    }
    ;
    g.markerExist = function(a) {
        return "" !== b(a)
    }
    ;
    g.spinStarted = function() {
        k = !1
    }
    ;
    g.serverResponded = function() {
        return k
    }
    ;
    g.GSDParser = function(a) {
        return a
    }
    ;
    g.SSSParser = function(a) {
        return a
    }
    ;
    g.removeDelimiter = a
}
;var texturePackerFiles = []
  , textureImages = {}
  , textureConfigs = {}
  , texturePartedList = {}
  , isStandardQualityFlag = function() {
    return void 0 == windowObj.quality || "sq" == windowObj.quality
};
function loadJSON(b, a, d) {
    var c = new XMLHttpRequest;
    c.overrideMimeType("application/json");
    c.open("GET", b, !0);
    c.params = d;
    c.onreadystatechange = function() {
        4 == c.readyState && "200" == c.status && a(c.responseText, c.params)
    }
    ;
    c.send(null)
}
function loadTexturePackedFiles(b) {
    for (var b = void 0 != b && !0 == b, a, d, c, e = 0; e < texturePackerFiles.length; ++e)
        c = texturePackerFiles[e][0],
        a = texturePackerFiles[e][1],
        d = texturePackerFiles[e][2],
        c += a,
        textureImages[a] = c + d,
        loadJSON(c + ".json", autoConfigureTexture, [textureConfigs, a, texturePartedList]);
    $.each(textureImages, function(a, b) {
        game.ASSET_MANAGER.queueDownload(b)
    });
    b && (console.log("loadTexturePackedFiles:: textureConfigs ( if any exist ) logged below : "),
    console.log(textureConfigs))
}
function initializeTPConfigs(b) {
    var b = !0 === b, a;
    for (a in textureConfigs)
        Array.isArray(textureConfigs[a]) ? addTPImageRef(textureConfigs[a], null) : void 0 != textureConfigs[a].imgid && (void 0 != getImageById(textureConfigs[a].imgid) ? textureConfigs[a].img = getImageById(textureConfigs[a].imgid) : b && (console.log("unexpected error! could not find the img reference: " + textureConfigs[a].imgid),
        console.log(Error().stack)));
    b && (console.log("initializeTPConfigs:: texturePartedList ( if any exist ) logged below : "),
    console.log(texturePartedList));
    for (a in texturePartedList)
        autoAdjustPartedSprites(texturePartedList[a], !1)
}
function autoConfigureTexture(b, a) {
    var d = "string" === typeof b ? JSON.parse(b) : b, c = a[0], e = a[1], f = a[2], g = /(_[b|c|t|l|r])?_(\d+)(?!.*\d)/, k = /(.+?)(\.[^.]*$|$)/, p = /(_[b|c|t|l|r])(?![a-z])(?!.*_[b|c|t|l|r])/, n, q, r, l, j, o, s;
    for (s in d.frames)
        if (n = s.toString().match(g),
        null !== n) {
            if (j = void 0 != n[1] ? n[1] : "",
            o = parseInt(n[2]),
            l = s.toString().replace(g, "").match(k)[1],
            -1 != l.indexOf("/") && (l = l.split("/"),
            l = l[l.length - 1]),
            q = l + j,
            void 0 == c[q] ? c[q] = [] : Array.isArray(c[q]) || (c[q] = [c[q]]),
            r = new TPConvertedData(d.frames[s],e,s),
            r.position = j.charAt(1),
            c[q][o] = r,
            void 0 != n[1])
                void 0 == f[l] && (f[l] = {}),
                void 0 == f[l][j.charAt(1)] && (f[l][j.charAt(1)] = c[q])
        } else if (q = s.toString().match(k)[1],
        q = q.replace("-", ""),
        -1 != q.indexOf("/") && (l = q.split("/"),
        q = l[l.length - 1]),
        r = new TPConvertedData(d.frames[s],e,s),
        j = s.toString().match(p),
        null !== j) {
            l = s.toString().replace(p, "").match(k)[1];
            -1 != l.indexOf("/") && (l = l.split("/"),
            l = l[l.length - 1]);
            r.position = j[0].charAt(1);
            if (void 0 != c[q]) {
                if (Array.isArray(c[q])) {
                    n = 0;
                    for (n; n < c[q].length && void 0 != c[q][n]; ++n)
                        ;
                    c[q][n] = r
                }
            } else
                c[q] = [r];
            void 0 == f[l] && (f[l] = {});
            void 0 == f[l][j[0].charAt(1)] && (f[l][j[0].charAt(1)] = c[q])
        } else if (void 0 != c[q]) {
            if (Array.isArray(c[q])) {
                n = 0;
                for (n; n < c[q].length && void 0 != c[q][n]; ++n)
                    ;
                c[q][n] = r
            }
        } else
            c[q] = r
}
function TPConvertedData(b, a, d) {
    this.frame = b.frame;
    this.pivot = b.pivot;
    this.rotated = b.rotated;
    this.sourceSize = b.sourceSize;
    this.spriteSourceSize = b.spriteSourceSize;
    this.trimmed = b.trimmed;
    this.filename = d;
    this.imgid = a;
    this.width = b.frame.w;
    this.height = b.frame.h;
    this.rotation = 0;
    this.rotationConstant = 1;
    this.sX = this.frame.x;
    this.sY = this.frame.y;
    this.sW = this.frame.w;
    this.sH = this.frame.h;
    this.dY = this.dX = 0;
    this.x = this.spriteSourceSize.x;
    this.y = this.spriteSourceSize.y;
    !0 === this.rotated && (this.rotation = -90 * Math.PI / 180,
    this.sW = this.frame.h,
    this.sH = this.frame.w,
    this.rotationConstant = Math.round(Math.sin(this.rotation)),
    this.x = this.spriteSourceSize.y * this.rotationConstant + this.spriteSourceSize.h * this.rotationConstant,
    this.y = this.spriteSourceSize.x);
    this.dW = this.sW;
    this.dH = this.sH;
    this.oX = this.x;
    this.oY = this.y
}
function addTPImageRef(b, a, d) {
    for (var d = processDefaultOptions(d, {
        propName: "img",
        start: 0,
        end: b.length - 1
    }), c = d.propName, e = d.start, e = d.end; 0 <= e; --e)
        if (void 0 != b[e])
            if (null != a)
                b[e][c] = a;
            else
                try {
                    b[e][c] = getImageById(b[e].imgid)
                } catch (f) {}
        else
            b.splice(e, 1)
}
function autoAdjustPartedSprites(b, a) {
    try {
        var d = void 0 != a && !0 == a, c, e, f, g, k, p = -1, n = 0, q = 0, r = 0, l = 0, j;
        for (j in b) {
            switch (j) {
            case "t":
                g = b[j];
                r = b[j][0].sourceSize.h;
                break;
            case "l":
                e = b[j];
                q = b[j][0].sourceSize.w;
                l = Math.max(l, b[j][0].sourceSize.h);
                break;
            case "c":
                c = b[j];
                n = b[j][0].sourceSize.w;
                l = Math.max(l, b[j][0].sourceSize.h);
                break;
            case "r":
                f = b[j];
                l = Math.max(l, b[j][0].sourceSize.h);
                break;
            case "b":
                k = b[j]
            }
            0 > p && (p = b[j].length)
        }
        for (j = 0; j < p; ++j) {
            void 0 != g && (g[j].x = g[j].oX,
            g[j].y = g[j].oY);
            void 0 != e && (e[j].x = e[j].oX,
            e[j].y = e[j].oY,
            void 0 != g && (e[j].y += r));
            if (void 0 != c && (c[j].x = c[j].oX,
            c[j].y = c[j].oY,
            void 0 != e && (c[j].x += q),
            void 0 != g))
                c[j].y += r;
            if (void 0 != f && (f[j].x = f[j].oX,
            f[j].y = f[j].oY,
            void 0 != e && (f[j].x += q),
            void 0 != c && (f[j].x += n),
            void 0 != g))
                f[j].y += r;
            void 0 != k && (k[j].x = k[j].oX,
            k[j].y = k[j].oY,
            void 0 != g && (k[j].y += r),
            k[j].y += l)
        }
    } catch (o) {
        d && (console.log(o),
        console.log(o.stack),
        console.log(b))
    }
}
function PositionData() {
    this.cfg = [];
    this.height = this.width = 0
}
function ExtraConfigData(b) {
    this.left = new PositionData;
    this.right = new PositionData;
    this.top = new PositionData;
    this.bottom = new PositionData;
    this.center = new PositionData;
    this.calcPartDimensions(b);
    this.calcTotalDimensions(b)
}
ExtraConfigData.prototype.calcPartDimensions = function(b) {
    for (var a = 0; a < b.cfg.length; ++a)
        if (Array.isArray(b.cfg[a])) {
            switch (b.cfg[a][0].position) {
            case "b":
                this.bottom.cfg = b.cfg[a];
                this.bottom.width = b.cfg[a][0].sourceSize.w;
                this.bottom.height = b.cfg[a][0].sourceSize.h;
                break;
            case "t":
                this.top.cfg = b.cfg[a];
                this.top.width = b.cfg[a][0].sourceSize.w;
                this.top.height = b.cfg[a][0].sourceSize.h;
                break;
            case "l":
                this.left.cfg = b.cfg[a];
                this.left.width = b.cfg[a][0].sourceSize.w;
                this.left.height = b.cfg[a][0].sourceSize.h;
                break;
            case "r":
                this.right.cfg = b.cfg[a];
                this.right.width = b.cfg[a][0].sourceSize.w;
                this.right.height = b.cfg[a][0].sourceSize.h;
                break;
            case "c":
                this.center.cfg = b.cfg[a];
                this.center.width = b.cfg[a][0].sourceSize.w;
                this.center.height = b.cfg[a][0].sourceSize.h;
                break;
            default:
                this.center.cfg = b.cfg[a],
                this.center.width = b.cfg[a][0].sourceSize.w,
                this.center.height = b.cfg[a][0].sourceSize.h
            }
            void 0 == this.totalFrames && (this.totalFrames = b.cfg[a].length)
        } else
            this.center.cfg = b.cfg,
            this.center.width = b.cfg[a].sourceSize.w,
            this.center.height = b.cfg[a].sourceSize.h,
            this.totalFrames = b.cfg.length
}
;
ExtraConfigData.prototype.calcTotalDimensions = function(b) {
    if (0 < this.center.width)
        this.totalWidth = this.center.width + this.left.width + this.right.width;
    else if (0 < this.left.width || 0 < this.right.width ? this.totalWidth = this.left.width + this.right.width : 0 < this.top.width ? this.totalWidth = this.top.width : 0 < this.bottom.width && (this.totalWidth = this.bottom.width),
    0 >= this.totalWidth)
        throw console.log(b),
        Error("check config data, something unexpected was encountered... could not calculate the total width");
    0 < this.center.height ? this.totalHeight = this.center.height + this.top.height + this.bottom.height : (this.totalHeight = this.top.height + this.bottom.height,
    0 < this.left.height ? this.totalHeight += this.left.height : 0 < this.right.height && (this.totalHeight += this.right.height))
}
;
ExtraConfigData.prototype.getBufferData = function(b) {
    for (; 0 < b.cfg.length; )
        if (Array.isArray(b.cfg[0]))
            switch (b.cfg[0][0].position) {
            case "c":
                return b.cfg[0][0];
            default:
                return b.cfg[0][0]
            }
        else
            return b.cfg
}
;
function TPSpriteDefaultValues() {
    this.rotate = this.dY = this.dX = this.y = this.x = 0;
    this.scaleY = this.scaleX = this.alpha = 1;
    this.oY = this.oX = 0;
    this.showUsedSpace = this.showOrigin = this.autoCenter = this.visible = !1;
    this.totalFrames = this.frame = 0;
    this.respectAxis = !1;
    this.designScale = 1
}
function TPMovieDefaultValues() {
    TPSpriteDefaultValues.call(this);
    this.playing = !1;
    this.fps = 20;
    this.bufferSolution = !1
}
TPMovieDefaultValues.prototype = new TPSpriteDefaultValues;
function TPMovie(b, a) {
    if (void 0 != b) {
        var d = void 0 == b.checkParted || void 0 != b.checkParted && !0 == b.checkParted;
        void 0 == b.cfg && void 0 != b.id && void 0 == getConfigById(b.id, d) && createConfigForImage(b.id);
        this.cfg = void 0 != b.cfg && Array.isArray(b.cfg) ? b.cfg : getConfigById(b.id, d);
        if (void 0 == this.cfg)
            console.log(b),
            console.log("vars.id: " + b.id),
            console.log("checkParted: " + d),
            console.log("TPMovie: is dependent on a cfg, returning!\n" + Error().stack);
        else {
            Array.isArray(this.cfg) || (this.cfg = [this.cfg]);
            Array.isArray(this.cfg[0]) || (this.cfg = [this.cfg]);
            this.type = "TPMovie";
            var d = processDefaultOptions(b, new (void 0 == a ? TPMovieDefaultValues : a)), c;
            for (c in d)
                this[c] = d[c];
            var e = new ExtraConfigData(this);
            this.cData = e;
            this.totalFrames = e.totalFrames;
            !1 != d.autoCenter && ("auto" == d.autoCenter && (d.autoRespectAxis = !0),
            TPMovie.prototype.adjustAxis.call(this, d.autoCenter));
            !0 == d.autoRespectAxis && TPMovie.prototype.offsetByAxis.call(this);
            if (d.bufferSolution) {
                var f = e.getBufferData(this);
                this.centralConfig = f;
                if (void 0 == f.buffer) {
                    f.bufferTick = 0;
                    f.bufferSize = 3;
                    f.buffer = [];
                    f.bctx = [];
                    for (c = 0; c < f.bufferSize; ++c) {
                        var g = document.createElement("canvas");
                        g.width = e.totalWidth;
                        g.height = e.totalHeight;
                        f.buffer.push(g);
                        var k = g.getContext("2d");
                        k.clearRect(0, 0, g.width, g.height);
                        f.bctx.push(k)
                    }
                }
                this.buffer = f.buffer;
                this.bctx = f.bctx;
                this.boY = this.boX = 0
            }
            d.showOrigin || d.showUsedSpace ? this.draw = function(a) {
                debugDrawTPMovie(this, a)
            }
            : d.bufferSolution && void 0 != this.bctx && (this.draw = this.bdraw)
        }
    }
}
TPMovie.prototype.draw = function(b) {
    if (this.visible) {
        var a = gameViewMan.viewScale;
        b.save();
        b.globalAlpha = this.alpha;
        b.translate((this.x + this.oX) * a, (this.y + this.oY) * a);
        b.scale(this.scaleX, this.scaleY);
        0 != this.rotate && b.rotate(this.rotate * Math.PI / 180);
        for (var d, c, e, f, g, k = 0; k < this.cfg.length; ++k)
            d = this.cfg[k][this.frame],
            f = d.dW * a * this.designScale,
            g = d.dH * a * this.designScale,
            1 <= f * Math.abs(this.scaleX) && 1 <= g * Math.abs(this.scaleY) && (b.save(),
            0 != d.rotation && b.rotate(d.rotation),
            b.translate(d.x * a * this.designScale, d.y * a * this.designScale),
            c = !d.rotated ? d.dX + this.dX : d.dX - this.dY,
            e = !d.rotated ? d.dY + this.dY : d.dY + this.dX,
            b.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, c * a * this.designScale, e * a * this.designScale, f, g),
            b.restore());
        b.restore()
    }
}
;
TPMovie.prototype.bdraw = function(b) {
    if (this.visible) {
        var a = gameViewMan.viewScale, d;
        d = this.centralConfig;
        var c = this.buffer[d.bufferTick]
          , e = this.bctx[d.bufferTick]
          , f = c.width * a * this.designScale
          , g = c.height * a * this.designScale;
        if (1 <= f * Math.abs(this.scaleX) && 1 <= g * Math.abs(this.scaleY)) {
            d.bufferTick++;
            d.bufferTick >= d.bufferSize && (d.bufferTick = 0);
            e.clearRect(0, 0, c.width, c.height);
            for (var k = 0; k < this.cfg.length; ++k)
                e.save(),
                d = this.cfg[k][this.frame],
                0 != d.rotation && e.rotate(d.rotation),
                e.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, d.x, d.y, d.dW, d.dH),
                e.restore();
            b.save();
            b.globalAlpha = this.alpha;
            b.translate((this.x + this.oX) * a, (this.y + this.oY) * a);
            b.scale(this.scaleX, this.scaleY);
            0 != this.rotate && b.rotate(this.rotate * Math.PI / 180);
            b.drawImage(c, 0, 0, c.width, c.height, (this.dX - this.boX) * a * this.designScale, (this.dY - this.boY) * a * this.designScale, f, g);
            b.restore()
        }
    }
}
;
TPMovie.prototype.adjustAxis = function(b) {
    this.dX = -(this.cData.totalWidth / 2);
    this.dY = -(this.cData.totalHeight / 2);
    b = b.toString().toLowerCase();
    -1 != b.indexOf("floor") ? (this.dX = Math.floor(this.dX),
    this.dY = Math.floor(this.dY)) : -1 != b.indexOf("round") && (this.dX = Math.round(this.dX),
    this.dY = Math.round(this.dY))
}
;
TPMovie.prototype.offsetByAxis = function() {
    this.oX -= this.dX * this.designScale;
    this.oY -= this.dY * this.designScale
}
;
function processDefaultOptions(b, a) {
    if (null == b)
        return a;
    for (var d in a)
        void 0 == b[d] && (b[d] = a[d]);
    return b
}
function debugDrawTPMovie(b, a) {
    if (b.visible) {
        var d = gameViewMan.viewScale;
        a.save();
        a.globalAlpha = b.alpha;
        a.translate((b.x + b.oX) * d, (b.y + b.oY) * d);
        a.scale(b.scaleX, b.scaleY);
        a.rotate(b.rotate * Math.PI / 180);
        var c;
        if (b.bufferSolution && void 0 != b.bctx) {
            c = b.centralConfig;
            var e = b.buffer[c.bufferTick]
              , f = b.bctx[c.bufferTick]
              , g = e.width * d * b.designScale
              , k = e.height * d * b.designScale;
            if (1 <= g && 1 <= k) {
                c.bufferTick++;
                c.bufferTick >= c.bufferSize && (c.bufferTick = 0);
                f.clearRect(0, 0, e.width, e.height);
                for (var p = 0; p < b.cfg.length; ++p)
                    f.save(),
                    c = b.cfg[p][b.frame],
                    f.rotate(c.rotation),
                    f.translate(c.x, c.y),
                    f.drawImage(c.img, c.sX, c.sY, c.sW, c.sH, b.boX, b.boY, c.dW, c.dH),
                    f.restore();
                a.drawImage(e, 0, 0, e.width, e.height, (b.dX - b.boX) * d * b.designScale, (b.dY - b.boY) * d * b.designScale, g, k);
                b.showUsedSpace && (a.globalAlpha = 0.5,
                a.lineWidth = 3,
                a.fillStyle = "black",
                a.fillRect((b.dX - b.boX) * d * b.designScale, (b.dY - b.boY) * d * b.designScale, g, k));
                b.showOrigin && (a.save(),
                g = d = -5,
                a.beginPath(),
                a.moveTo(d, g - 10),
                a.lineTo(d, g + 10),
                a.moveTo(d - 10, g),
                a.lineTo(d + 10, g),
                a.strokeStyle = "rgb(0,0,0)",
                a.stroke(),
                a.closePath(),
                a.restore())
            }
        } else {
            for (p = 0; p < b.cfg.length; ++p)
                c = b.cfg[p][b.frame],
                g = c.dW * d * b.designScale,
                k = c.dH * d * b.designScale,
                1 <= g && 1 <= k && (a.save(),
                0 != c.rotation && a.rotate(c.rotation),
                a.translate(c.x * d * b.designScale, c.y * d * b.designScale),
                e = !c.rotated ? c.dX + b.dX : c.dX - b.dY,
                f = !c.rotated ? c.dY + b.dY : c.dY + b.dX,
                a.drawImage(c.img, c.sX, c.sY, c.sW, c.sH, e * d * b.designScale, f * d * b.designScale, g, k),
                a.restore());
            b.showUsedSpace && (a.save(),
            a.globalAlpha = 0.5,
            a.lineWidth = 3,
            a.fillStyle = "black",
            a.fillRect(b.dX * d * b.designScale, b.dY * d * b.designScale, b.cData.totalWidth * d * b.designScale, b.cData.totalHeight * d * b.designScale),
            a.restore());
            b.showOrigin && (a.save(),
            g = d = -5,
            a.beginPath(),
            a.moveTo(d, g - 10),
            a.lineTo(d, g + 10),
            a.moveTo(d - 10, g),
            a.lineTo(d + 10, g),
            a.strokeStyle = "rgb(0,0,0)",
            a.stroke(),
            a.closePath(),
            a.restore())
        }
        a.restore()
    }
}
function getImageById(b) {
    var a = void 0 != textureImages[b] ? textureImages[b] : b
      , d = game.ASSET_MANAGER.getAsset(a);
    void 0 == d && (console.log("getImageById:: failed to retrieve: " + b),
    console.log("getImageById:: with url: " + a),
    console.log("getImageById:: logging the asset manager for inspection"),
    console.log(game.ASSET_MANAGER),
    console.log(Error().stack));
    return d
}
function getConfigById(b, a) {
    if (void 0 != a && !0 == a && void 0 != texturePartedList[b]) {
        var d = [], c;
        for (c in texturePartedList[b])
            d.push(texturePartedList[b][c]);
        return d
    }
    return textureConfigs[b]
}
function ImageConfigData(b, a) {
    this.img = b;
    this.imgid = a;
    this.sY = this.sX = 0;
    this.sW = b.width;
    this.sH = b.height;
    this.sourceSize = {
        w: this.sW,
        h: this.sH
    };
    this.dY = this.dX = 0;
    this.dW = this.sW;
    this.dH = this.sH;
    this.rotation = this.oY = this.oX = this.y = this.x = 0
}
function createConfigForImage(b, a) {
    var d, c;
    "string" == typeof b ? (c = getImageById(b),
    d = void 0 == a ? b : a) : (c = b,
    d = void 0 == a ? c.src.toString() : a);
    void 0 == textureConfigs[d] && (textureConfigs[d] = new ImageConfigData(c,d));
    return textureConfigs[d]
}
;var _NUM_ROWS = 3
  , _NUM_REELS = 5
  , _SYM_TOTAL_NUM = 12
  , _SYM_WILD = 0
  , _SYM_SCATTER = 11
  , overridenFunctions = {};
function initOptimization() {
    AF.BufferedPanel.prototype.performDraw = function(b) {
        var a = gameViewMan.viewScale;
        this.previousVS = this.previousVS || 1;
        this.previousVS != a && (this.previousVS = a,
        this.reset());
        if (this.useBuffer()) {
            if (!this.buffer) {
                this.buffer = document.createElement("canvas");
                var d = this.height * a
                  , a = this.width * a;
                this.buffer.width = 1 > a ? 1 : a;
                this.buffer.height = 1 > d ? 1 : d;
                AF.Container.prototype.performDraw.call(this, this.buffer.getContext("2d"))
            }
            b.drawImage(this.buffer, 0, 0)
        } else
            this.buffer = null,
            AF.Container.prototype.performDraw.call(this, b)
    }
    ;
    AF.DObject.prototype.draw = function(b) {
        if (this.visible && !(0 >= this.alpha || !this.scaleX || !this.scaleY)) {
            var a = !1
              , d = !1
              , c = !1
              , e = gameViewMan.viewScale;
            if (this.x || this.y)
                a = !0;
            1 > this.alpha && (d = !0);
            if (1 != this.scaleX || 1 != this.scaleY)
                c = !0;
            var f = a || d || c || this.rotate || this.mask;
            f && b.save();
            a && b.translate(this.x * e, this.y * e);
            c && b.scale(this.scaleX, this.scaleY);
            this.rotate && b.rotate(this.rotate * Math.PI / 180);
            d && (b.globalAlpha *= this.alpha);
            this.mask && (b.beginPath(),
            b.rect(this.mask.x * e, this.mask.y * e, this.mask.width * e, this.mask.height * e),
            b.clip());
            this.performDraw(b);
            f && b.restore()
        }
    }
    ;
    AF.Sprite.prototype.draw = function(b) {
        if (this.visible && !(0 >= this.alpha || !this.scaleX || !this.scaleY)) {
            var a = 0 > this.scaleX || 0 > this.scaleY
              , d = 1 > this.alpha || a || this.mask
              , c = gameViewMan.viewScale;
            d && b.save();
            a && (b.translate(this.x * c, this.y * c),
            b.scale(this.scaleX, this.scaleY));
            1 > this.alpha && (b.globalAlpha *= this.alpha);
            this.mask && (b.beginPath(),
            b.rect(this.mask.x * c, this.mask.y * c, this.mask.width * c, this.mask.height * c),
            b.clip());
            this.frame = Math.floor(this.frame) % this.framesCount;
            b.drawImage(this.image, this.width * (this.frame % this.cols) + this.margin, this.height * Math.floor(this.frame / this.cols) + this.margin, this.sWidth, this.sHeight, a ? 0 : this.x * c, a ? 0 : this.y * c, this.dWidth * (a ? 1 : this.scaleX) * c, this.dHeight * (a ? 1 : this.scaleY) * c);
            d && b.restore()
        }
    }
}
;function Welcome() {
    this.welcomeCanv = document.createElement("canvas");
    waitForSoundToLoad = !0;
    this.welcomeCanv.width = 960;
    this.welcomeCanv.height = 900;
    this.welcomeCtx = this.welcomeCanv.getContext("2d");
    this.WS_LOADING = 0;
    this.WS_AUDIO = 1;
    this.WS_LOADED = 2;
    this.WS_WAITING_FOR_INIT = 3;
    this.WS_WAITING_FOR_SOUND = 4;
    this.userAgent = navigator.userAgent.toLowerCase();
    this.Android = /Android/i.test(this.userAgent);
    this.AndroidVer = -1;
    this.Android && (this.AndroidVer = parseFloat(this.userAgent.slice(this.userAgent.indexOf("android") + 8)));
    this.state = this.WS_LOADING;
    this.waitForSoundToLoad = !0;
    var b = this;
    this.rightFoxLoaded = this.bigFoxLoaded = this.leftFoxLoaded = this.nameLoaded = !1;
    this.gameNameY = this.gameNameX = 0;
    this.btnSoundYesPos = {
        x: 0,
        y: 0
    };
    this.btnSoundNoPos = {
        x: 0,
        y: 0
    };
    this.bigFoxPos = {};
    this.leftFoxPos = {};
    this.rightFoxPos = {};
    this.btnSoundYesPos.x = 352.5;
    this.btnSoundYesPos.y = 530;
    this.btnSoundNoPos.x = 607.5;
    this.btnSoundNoPos.y = 530;
    this.bigFoxPos.x = 300;
    this.bigFoxPos.y = 40;
    this.leftFoxPos.x = 20;
    this.leftFoxPos.y = 220;
    this.rightFoxPos.x = 610;
    this.rightFoxPos.y = 210;
    this.gameName = new Image;
    this.gameName.src = "assets/hq/images/loading/gamename.png";
    this.gameName.onload = function() {
        b.nameLoaded = true;
        b.gameNameX = 480 - b.gameName.width / 2;
        b.gameNameY = 450 - b.gameName.height
    }
    ;
    this.bigFox = new Image;
    this.bigFox.src = "assets/hq/images/loading/fox.png";
    this.bigFox.onload = function() {
        b.bigFoxLoaded = true;
        b.bigFoxX = b.bigFoxPos.x;
        b.bigFoxY = b.bigFoxPos.y
    }
    ;
    this.leftFox = new Image;
    this.leftFox.src = "assets/hq/images/loading/fox_left.png";
    this.leftFox.onload = function() {
        b.leftFoxLoaded = true;
        b.leftFoxX = b.leftFoxPos.x;
        b.leftFoxY = b.leftFoxPos.y
    }
    ;
    this.rightFox = new Image;
    this.rightFox.src = "assets/hq/images/loading/fox_right.png";
    this.rightFox.onload = function() {
        b.rightFoxLoaded = true;
        b.rightFoxX = b.rightFoxPos.x;
        b.rightFoxY = b.rightFoxPos.y
    }
    ;
    this.rect = new AF.Rectangle(960,900,"rgba( 255, 0, 0, 0.3 )");
    this.rect.x = 0;
    this.rect.y = 0;
    this.imgSoundOn = new Image;
    this.imgSoundOn.src = "assets/common/images/sound_yes.png";
    this.imgSoundOn.onload = function() {
        b.yesButton = new ButtonImg({
            x: b.btnSoundYesPos.x,
            y: b.btnSoundYesPos.y,
            width: 305,
            height: 115,
            srcX: 0,
            srcY: 0,
            srcW: 305,
            srcH: 115,
            srcImage: this
        },b.welcomeCtx)
    }
    ;
    this.imgSoundOff = new Image;
    this.imgSoundOff.src = "assets/common/images/sound_no.png";
    this.imgSoundOff.onload = function() {
        b.noButton = new ButtonImg({
            x: b.btnSoundNoPos.x,
            y: b.btnSoundNoPos.y,
            width: 305,
            height: 115,
            srcX: 0,
            srcY: 0,
            srcW: 305,
            srcH: 115,
            srcImage: this
        },b.welcomeCtx)
    }
    ;
    this.copyrightTxt = new Text;
    this.copyrightTxt.font = "26px arial";
    this.copyrightTxt.align = "center";
    this.copyrightTxt.m_Color = "#DDDDDD";
    this.copyrightTxt.stroke_0_Color = "#303030";
    this.copyrightTxt.stroke_0_Width = 3;
    this.copyrightTxt.m_Text = TXT_COPY_RIGHT_MESSAGES;
    this.soundTxt = new Text;
    this.soundTxt.font = "24px arial";
    this.soundTxt.align = "center";
    this.soundTxt.m_Color = "#FFFFFF";
    this.soundTxt.stroke_0_Color = "black";
    this.soundTxt.stroke_0_Width = 2;
    this.soundTxt.m_Text = TXT_USE_SOUND;
    this.progressBarPercent = 0;
    this.progressBarWidth = 350;
    this.progressBarHeight = 5;
    this.progressBarY = this.progressBarX = 20;
    this.gameNameOffset = 50;
    this.loadingTxt = new Text;
    this.loadingTxt.font = "24px arial";
    this.loadingTxt.align = "center";
    this.loadingTxt.m_Color = "#FFFFFF";
    this.loadingTxt.stroke_0_Color = "black";
    this.loadingTxt.stroke_0_Width = 2;
    this.loadingTxt.m_Text = TXT_LOADING;
    this.loadingSoundTxt = new Text;
    this.loadingSoundTxt.font = "24px arial";
    this.loadingSoundTxt.align = "center";
    this.loadingSoundTxt.m_Color = "#FFFFFF";
    this.loadingSoundTxt.stroke_0_Color = "black";
    this.loadingSoundTxt.stroke_0_Width = 2;
    this.loadingSoundTxt.m_Text = TXT_LOADING_SOUND;
    this.loadingPercentTxt = new Text;
    this.loadingPercentTxt.font = "24px arial";
    this.loadingPercentTxt.align = "center";
    this.loadingPercentTxt.m_Color = "#FFFFFF";
    this.loadingPercentTxt.stroke_0_Color = "black";
    this.loadingPercentTxt.stroke_0_Width = 2;
    this.loadingPercentTxt.m_Text = "0%";
    this.gameLoaded = function() {
        return this.state == this.WS_LOADED
    }
    ;
    this.soundFinishedLoading = function() {
        this.state = this.WS_LOADED
    }
    ;
    this.MAX_SCALE = this.scale = 1;
    this.Yoffset = this.Xoffset = 0;
    this.calculateScale = function(a, b) {
        if (a / b > 960 / 900) {
            this.scale = b / 900;
            if (this.scale > this.MAX_SCALE)
                this.scale = this.MAX_SCALE;
            this.Xoffset = a / 2 - 960 * this.scale / 2
        } else {
            this.scale = a / 960;
            if (this.scale > this.MAX_SCALE)
                this.scale = this.MAX_SCALE;
            this.Xoffset = a / 2 - 480 * this.scale
        }
        this.Yoffset = b / 2 - 450 * this.scale
    }
    ;
    this.layout = function() {
        this.calculateScale(ngg_canvas.width, ngg_canvas.height);
        this.progressBarY = 470;
        this.loadingTxt.setPosition({
            x: 480,
            y: 450
        });
        this.loadingSoundTxt.setPosition({
            x: 480,
            y: 450
        });
        this.progressBarX = 480 - this.progressBarWidth / 2;
        this.loadingPercentTxt.setPosition({
            x: 480,
            y: this.progressBarY + 50
        });
        this.soundTxt.setPosition({
            x: 480,
            y: 450
        });
        this.copyrightTxt.setPosition({
            x: 480,
            y: 880
        })
    }
    ;
    this.draw = function() {
        if (this.state != this.WS_LOADED) {
            this.welcomeCtx.clearRect(0, 0, 959, 900);
            this.welcomeCtx.save();
            if (this.leftFoxLoaded) {
                scaledWidth = this.leftFox.width * 0.75;
                scaledHeight = this.leftFox.height * 0.75;
                this.welcomeCtx.drawImage(this.leftFox, this.leftFoxX, this.leftFoxY, scaledWidth, scaledHeight)
            }
            if (this.bigFoxLoaded) {
                scaledWidth = this.bigFox.width * 0.75;
                scaledHeight = this.bigFox.height * 0.75;
                this.welcomeCtx.drawImage(this.bigFox, this.bigFoxX, this.bigFoxY, scaledWidth, scaledHeight)
            }
            if (this.rightFoxLoaded) {
                scaledWidth = this.rightFox.width * 0.75;
                scaledHeight = this.rightFox.height * 0.75;
                this.welcomeCtx.drawImage(this.rightFox, this.rightFoxX, this.rightFoxY, scaledWidth, scaledHeight)
            }
            this.nameLoaded && this.welcomeCtx.drawImage(this.gameName, this.gameNameX, this.gameNameY);
            this.welcomeCtx.restore();
            this.copyrightTxt.draw(this.welcomeCtx);
            ctx.save();
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.clearRect(0, 0, ngg_canvas.width - 1, ngg_canvas.height);
            ctx.restore();
            ngg_canvas.style.opacity = ngg_canvas.style.opacity == 1 ? 0.99 : 1;
            switch (this.state) {
            case this.WS_LOADING:
            case this.WS_WAITING_FOR_INIT:
                this.welcomeCtx.save();
                this.welcomeCtx.beginPath();
                this.welcomeCtx.rect(this.progressBarX, this.progressBarY, this.progressBarWidth, this.progressBarHeight);
                this.welcomeCtx.fillStyle = "black";
                this.welcomeCtx.fill();
                this.welcomeCtx.shadowColor = "white";
                this.welcomeCtx.shadowBlur = 5;
                this.welcomeCtx.shadowOffsetX = 0;
                this.welcomeCtx.shadowOffsetY = 0;
                var a = this.welcomeCtx.createLinearGradient(this.progressBarX, this.progressBarY, this.progressBarWidth * this.progressBarPercent + this.progressBarX, this.progressBarY);
                a.addColorStop(0, "#C0C0ff");
                a.addColorStop(1, "#ffffff");
                this.welcomeCtx.fillStyle = a;
                this.welcomeCtx.beginPath();
                this.welcomeCtx.rect(this.progressBarX, this.progressBarY, this.progressBarWidth * this.progressBarPercent, this.progressBarHeight);
                this.welcomeCtx.fill();
                var a = this.progressBarWidth * this.progressBarPercent + this.progressBarX
                  , b = this.progressBarY + this.progressBarHeight / 2
                  , c = this.welcomeCtx.createRadialGradient(a, b, 5, a, b, 15);
                c.addColorStop(0, "rgba(255,255,255,1)");
                c.addColorStop(1, "rgba(255,255,255,0)");
                var e = this.welcomeCtx.createRadialGradient(a - 5, b, 5, a - 5, b, 10);
                e.addColorStop(0, "rgba(255,255,255,1)");
                e.addColorStop(1, "rgba(255,255,255,0)");
                var f = this.welcomeCtx.createRadialGradient(a - 10, b, 5, a - 10, b, 8);
                f.addColorStop(0, "rgba(255,255,255,1)");
                f.addColorStop(1, "rgba(255,255,255,0)");
                this.welcomeCtx.fillStyle = c;
                this.welcomeCtx.beginPath();
                this.welcomeCtx.arc(a, b, 15, 0, Math.PI * 2, false);
                this.welcomeCtx.fill();
                this.welcomeCtx.fillStyle = e;
                this.welcomeCtx.beginPath();
                this.welcomeCtx.arc(a - 5, b, 10, 0, Math.PI * 2, false);
                this.welcomeCtx.fill();
                this.welcomeCtx.fillStyle = f;
                this.welcomeCtx.beginPath();
                this.welcomeCtx.arc(a - 10, b, 8, 0, Math.PI * 2, false);
                this.welcomeCtx.fill();
                this.welcomeCtx.restore();
                this.welcomeCtx.save();
                this.welcomeCtx.shadowColor = "black";
                this.welcomeCtx.shadowBlur = 5;
                this.welcomeCtx.shadowOffsetX = 2;
                this.welcomeCtx.shadowOffsetY = 2;
                this.loadingTxt.draw(this.welcomeCtx);
                this.loadingPercentTxt.draw(this.welcomeCtx);
                this.welcomeCtx.restore();
                break;
            case this.WS_WAITING_FOR_SOUND:
                this.welcomeCtx.save();
                this.welcomeCtx.shadowColor = "black";
                this.welcomeCtx.shadowBlur = 5;
                this.welcomeCtx.shadowOffsetX = 2;
                this.welcomeCtx.shadowOffsetY = 2;
                this.loadingSoundTxt.draw(this.welcomeCtx);
                this.welcomeCtx.restore();
                break;
            case this.WS_AUDIO:
                this.welcomeCtx.save();
                this.welcomeCtx.shadowColor = "black";
                this.welcomeCtx.shadowBlur = 5;
                this.welcomeCtx.shadowOffsetX = 2;
                this.welcomeCtx.shadowOffsetY = 2;
                this.soundTxt.draw(this.welcomeCtx);
                this.welcomeCtx.restore();
                this.yesButton.draw();
                this.noButton.draw()
            }
            ctx.drawImage(this.welcomeCanv, 0, 0, 960, 900, this.Xoffset, this.Yoffset, 960 * this.scale, 900 * this.scale)
        }
    }
    ;
    this.updateProgressBar = function(a, b) {
        this.progressBarPercent = (Number(a) + 1) / Number(b);
        if (this.progressBarPercent >= 1)
            this.progressBarPercent = 1;
        this.loadingPercentTxt.m_Text = Math.floor(this.progressBarPercent * 100) + "%";
        if (a >= b) {
            try {
                METRICS.stopLoadTime()
            } catch (c) {}
            if (this.state == this.WS_LOADING) {
                this.state = this.WS_WAITING_FOR_INIT;
                this.loadingTxt.m_Text = TXT_CONNECTING_TO_SERVER
            }
        }
        this.draw();
		console.log("#####GAME_INTERACTION-WindowObj update progress");
        typeof windowObj.updateProgress === "function" && windowObj.updateProgress(a, b)
    }
    ;
    this.initComplete = function() {
		console.log("#####GAME_INTERACTION-WindowObj audio button visibility check");
        if (typeof windowObj.audioBtnVisibility === "function")
            if (windowObj.audioBtnVisibility())
                this.state = this.WS_AUDIO;
            else {
                this.state = this.WS_LOADED;
                game.initSound(1)
            }
        else
            this.state = this.WS_AUDIO
    }
    ;
    this.translateCoords = function(a) {
        return {
            x: Math.floor((a.x - this.Xoffset) / this.scale),
            y: Math.floor((a.y - this.Yoffset) / this.scale)
        }
    }
    ;
    this.processClick = function(a, b) {
        var c = this.translateCoords(a);
        if (this.state == this.WS_AUDIO) {
            b.preventDefault();
            if (this.yesButton.isOver(c)) {
                this.yesButton.isDown = true;
                this.draw();
                game.uapi_mute(false);
                this.state = this.waitForSoundToLoad ? this.WS_WAITING_FOR_SOUND : this.WS_LOADED;
                return 1
            }
            if (this.noButton.isOver(c)) {
                this.noButton.isDown = true;
                this.draw();
                this.state = this.WS_LOADED;
                return 0
            }
        }
        return -1
    }
    ;
    this.processClickRelease = function(a) {
        a = this.translateCoords(a);
        if (this.state == this.WS_AUDIO)
            if (this.yesButton.isOver(a) && this.yesButton.isDown) {
                this.yesButton.isDown = false;
                this.draw();
                ngg_canvas.style.opacity = 1
            } else if (this.noButton.isOver(a) && this.noButton.isDown) {
                this.noButton.isDown = false;
                this.draw();
                ngg_canvas.style.opacity = 1
            }
    }
    ;
    this.drawTimerID = 0;
    this.startDraw = function() {
        this.drawTimerID = setInterval(function() {
            welcome.draw()
        }, 100)
    }
    ;
    this.stopDraw = function() {
        clearInterval(this.drawTimerID)
    }
    ;
    this.buttonsUp = function() {}
}
function ButtonImg(b, a) {
    this.width = b.width;
    this.height = b.height;
    this.X = b.x;
    this.Y = b.y;
    this.isDisabled = this.isDown = !1;
    this.targetCtx = a;
    this.scale = 0.8;
    this.srcX = b.srcX;
    this.srcY = b.srcY;
    this.srcW = b.srcW;
    this.srcH = b.srcH;
    this.hitPadding = 0;
    this.srcImage = b.srcImage
}
ButtonImg.prototype.setPosition = function(b) {
    this.X = b.x;
    this.Y = b.y
}
;
ButtonImg.prototype.draw = function() {
    try {
        if (!this.isDisabled && !(void 0 == this.srcImage || null == this.srcImage)) {
            var b = this.scale - (this.isDown ? 0.1 : 0)
              , a = this.width * b
              , d = this.height * b;
            this.targetCtx.drawImage(this.srcImage, this.srcX, this.srcY, this.srcW, this.srcH, this.X - 0.5 * a, this.Y - 0.5 * d, a, d)
        }
    } catch (c) {}
}
;
ButtonImg.prototype.isOver = function(b) {
    if (this.isDisabled)
        return !1;
    var a = this.scale - (this.isDown ? 0.1 : 0)
      , d = this.width * a
      , a = this.height * a
      , c = this.X - 0.5 * d
      , e = this.Y - 0.5 * a;
    return b.x > c - this.hitPadding && b.x < c + d + this.hitPadding && b.y > e - this.hitPadding && b.y < e + a + this.hitPadding ? !0 : !1
}
;
function getGameScale() {
    var b = gameViewMan.designViewWidth
      , a = gameViewMan.designViewHeight
      , d = Number(windowObj.getSize().w)
      , c = Number(windowObj.getSize().h);
    if (game.freeRounds.inFreeRounds && game.jackpotMeters.isJackPotGame)
        a += 64;
    else if (game.freeRounds.inFreeRounds || game.jackpotMeters.isJackPotGame)
        a += 32;
    if (!0 === gameViewMan.dynamicResolution) {
        var e = d / gameViewMan.maxCanvasWidth
          , f = c / gameViewMan.maxCanvasHeight
          , e = e > f ? e : f;
        1 > e && (e = 1);
        b = d / b;
        a = c / a;
        return e * (b > a ? a : b)
    }
    return 1.65 < d / c ? c / 600 : d / 960
}
;function ScaleableShine(b) {
    this.parent = b.parent || {
        alpha: 1
    };
    this.visible = b.visible || !0;
    this.alpha = b.alpha || 1;
    this.x = b.x || 0;
    this.y = b.y || 0;
    this.scaleX = b.scaleX || 1;
    this.scaleY = b.scaleY || 1;
    this.textScaleX = b.textScaleX || 1;
    this.textScaleY = b.textScaleY || 1;
    this.designScale = b.designScale || 1;
    this.img = spriteAssets.getByID("shine").img;
    b = b.numConfigs || 2;
    this.cfg = [];
    for (var a = 0; a < b; ++a)
        this.cfg[a] = {
            x: 0,
            y: 0,
            sX: 0,
            sY: 0,
            sW: this.img.width,
            sH: this.img.height,
            dX: -6 - Math.round(this.img.width / 2),
            dY: -8 - Math.round(this.img.height / 2),
            dW: this.img.width,
            dH: this.img.height,
            rotate: 0,
            scaleX: 5,
            scaleY: 1,
            alpha: 1
        };
    this.duration = 12;
    this.tl = new TimelineMax({
        paused: !0
    });
    this.tl.add(new TweenMax(this.cfg[0],this.duration,{
        rotate: "+=360",
        ease: Linear.easeNone,
        repeat: -1
    }), 0);
    this.cfg[1] && this.tl.add(new TweenMax(this.cfg[1],this.duration,{
        rotate: "-=360",
        ease: Linear.easeNone,
        repeat: -1
    }), 0);
    this.start = function() {
        this.tl.play()
    }
    ;
    this.stop = function() {
        this.tl.pause()
    }
    ;
    this.draw = function(a) {
        if (this.visible) {
            var b = gameViewMan.viewScale;
            a.save();
            a.globalAlpha = this.alpha * this.parent.alpha;
            a.translate(this.x * b, this.y * b);
            a.scale(this.scaleX * this.textScaleX, this.scaleY * this.textScaleY);
            for (var e, f, g, k = 0; k < this.cfg.length; ++k)
                e = this.cfg[k],
                f = e.dW * b * this.designScale,
                g = e.dH * b * this.designScale,
                1 <= f * this.scaleX * this.textScaleX && 1 <= g * this.scaleY * this.textScaleY && (a.save(),
                a.translate(e.x * b, e.y * b),
                a.scale(e.scaleX, e.scaleY),
                a.rotate(e.rotate * Math.PI / 180),
                a.drawImage(this.img, e.sX, e.sY, e.sW, e.sH, e.dX * b * this.designScale, e.dY * b * this.designScale, f, g),
                a.restore());
            a.restore()
        }
    }
}
function WinMeterStars(b) {
    var a = this;
    a.parent = b.parent || {
        alpha: 1
    };
    a.visible = b.visible || !0;
    a.alpha = b.alpha || 1;
    a.x = b.x || 0;
    a.y = b.y || 0;
    a.scaleX = b.scaleX || 1;
    a.scaleY = b.scaleY || 1;
    a.textScaleX = b.textScaleX || 1;
    a.textScaleY = b.textScaleY || 1;
    a.designScale = b.designScale || 1;
    void 0 == textureConfigs.sparkles && (textureConfigs.sparkles = new ImageConfigData(spriteAssets.getByID("sparkles").img,"sparkles"));
    var d = textureConfigs.sparkles;
    a.img = spriteAssets.getByID("sparkles").img;
    var c = b.numConfigs || 2;
    a.cfg = [];
    for (var b = 1.1 / 3, e = 1 - (1 - 2 * b), f = 0; f < c; ++f)
        switch (a.cfg[f] = {
            x: 0,
            y: 0,
            sX: 0,
            sY: 0,
            sW: a.img.width,
            sH: a.img.height,
            dX: -a.img.width / 2,
            dY: -a.img.height / 2,
            dW: a.img.width,
            dH: a.img.height,
            rotate: 0,
            scaleX: 0,
            scaleY: 0,
            alpha: 0
        },
        f) {
        case 0:
            a.cfg[f].scaleX = 0;
            a.cfg[f].scaleY = 0;
            a.cfg[f].alpha = 0;
            break;
        case 1:
            a.cfg[f].scaleX = b;
            a.cfg[f].scaleY = b;
            a.cfg[f].alpha = 1;
            break;
        case 2:
            a.cfg[f].scaleX = 2 * b,
            a.cfg[f].scaleY = 2 * b,
            a.cfg[f].alpha = e
        }
    c = 1 / 15;
    a.tl = new TimelineMax({
        paused: !0,
        repeat: -1
    });
    a.tl.add(new TweenMax(a.cfg[0],c,{
        alpha: 1,
        ease: Linear.easeNone
    }), 0);
    a.tl.add(new TweenMax(a.cfg[0],4.5,{
        scaleX: 1.1,
        scaleY: 1.1,
        ease: Linear.easeNone
    }), 0);
    a.tl.add(new TweenMax(a.cfg[0],2.25,{
        alpha: 0,
        ease: Linear.easeNone
    }), 2.25);
    a.tl.add(new TweenMax(a.cfg[1],3,{
        scaleX: 1.1,
        scaleY: 1.1,
        ease: Linear.easeNone
    }), 0);
    a.tl.add(new TweenMax(a.cfg[1],2.25,{
        alpha: 0,
        ease: Linear.easeNone
    }), 0.75);
    a.tl.add(new TweenMax(a.cfg[1],c,{
        alpha: 1,
        ease: Linear.easeNone
    }), 3);
    a.tl.add(new TweenMax(a.cfg[1],1.5,{
        scaleX: b,
        scaleY: b,
        startAt: {
            scaleX: 0,
            scaleY: 0
        },
        ease: Linear.easeNone
    }), 3);
    a.tl.add(new TweenMax(a.cfg[2],1.5,{
        scaleX: 1.1,
        scaleY: 1.1,
        ease: Linear.easeNone
    }), 0);
    a.tl.add(new TweenMax(a.cfg[2],0.75,{
        alpha: 0,
        ease: Linear.easeNone
    }), 0);
    a.tl.add(new TweenMax(a.cfg[2],c,{
        alpha: 1,
        ease: Linear.easeNone
    }), 1.5);
    a.tl.add(new TweenMax(a.cfg[2],3,{
        scaleX: 2 * b,
        scaleY: 2 * b,
        startAt: {
            scaleX: 0,
            scaleY: 0
        },
        ease: Linear.easeNone
    }), 1.5);
    a.tl.add(new TweenMax(a.cfg[2],0.75,{
        alpha: e,
        ease: Linear.easeNone
    }), 3.75);
    a.start = function() {
        a.tl.timeScale(1).play()
    }
    ;
    a.stop = function() {
        a.tl.pause()
    }
    ;
    a.draw = function(b) {
        if (a.visible) {
            var c = gameViewMan.viewScale;
            b.save();
            b.globalAlpha = a.alpha * a.parent.alpha;
            b.translate(a.x * c, a.y * c);
            b.scale(a.scaleX * a.textScaleX, a.scaleY * a.textScaleY);
            for (var e, f, q, r = 0; r < a.cfg.length; ++r)
                e = a.cfg[r],
                f = e.dW * c * a.designScale,
                q = e.dH * c * a.designScale,
                1 <= f * a.scaleX * a.textScaleX && 1 <= q * a.scaleY * a.textScaleY && (b.save(),
                b.globalAlpha = e.alpha * a.parent.alpha,
                b.translate(e.x * c, e.y * c),
                b.scale(e.scaleX, e.scaleY),
                b.rotate(e.rotate * Math.PI / 180),
                b.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, e.dX * c * a.designScale, e.dY * c * a.designScale, f, q),
                b.restore());
            b.restore()
        }
    }
}
function WinMeterText() {
    var b = this;
    b.meter = new CustomText({
        autoCenter: !0,
        visible: !0,
        scaleX: 1,
        scaleY: 1,
        useBuffer: !1,
        showUsedSpace: !1,
        textAlign: "center",
        text: "",
        fontSize: winMeterTextProperty.fontSize,
        fontType: winMeterTextProperty.fontType,
        fontWeight: winMeterTextProperty.fontWeight,
        padding: winMeterTextProperty.padding,
        format: winMeterTextProperty.format,
        offsetX: winMeterTextProperty.offsetX,
        offsetY: winMeterTextProperty.offsetY
    });
    b.meter.x = 450 + b.meter.offsetX;
    b.meter.y = 300 + b.meter.offsetY;
    b.meter.dX = 0;
    b.meter.dY = Math.floor(-b.meter.usedArea.height / 2);
    b.meter.draw = CustomText.prototype.regularDraw;
    isStandardQualityFlag() || (b.meter.bUseFillShadow = !0,
    b.meter.shadowfillFont = b.meter.fontWeight + (b.meter.fontSize + 2) + "px " + b.meter.fontType,
    b.meter.fillShadowOffsetX = 3,
    b.meter.fillShadowOffsetY = 3);
    b.draw = function(a) {
        b.meter.text = b.m_Text;
        b.meter.draw(a)
    }
    ;
    b.setPosition = function() {}
}
function WinMeterGraphic(b) {
    var a = this;
    a.showStart = !0;
    a.showFinish = !1;
    a.showingMeter = !1;
    a.shine = new ScaleableShine({
        numConfigs: 1,
        designScale: 0.5,
        x: 450,
        y: 450,
        parent: this
    });
    a.stars = new WinMeterStars({
        numConfigs: 3,
        designScale: 1,
        x: 450,
        y: 450,
        parent: this
    });
    a.winMeterText = b.meter;
    a.shine.textScaleX = 1;
    a.shine.textScaleY = 1;
    a.shine.scaleX = 1;
    a.shine.scaleY = 1;
    a.shine.alpha = 1;
    a.stars.textScaleX = 1;
    a.stars.textScaleY = 1;
    a.winMeterText.scaleX = 1;
    a.winMeterText.scaleY = 1;
    a.visible = !1;
    a.alpha = 0;
    a.start = function() {
        a.showingMeter = !0;
        a.visible = !0;
        a.showStart = !1;
        a.alpha = 0;
        a.scaleOutro.progress(1, !0);
        a.shine.tl.timeScale(1).progress(0).pause();
        a.shine.textScaleX = 1;
        a.shine.textScaleY = 1.25;
        a.shine.scaleX = 1;
        a.shine.scaleY = 1;
        a.shine.alpha = 1;
        a.stars.textScaleX = 1;
        a.stars.textScaleY = 1;
        a.winMeterText.scaleX = 1;
        a.winMeterText.scaleY = 1;
        a.alphaFadeIn.restart();
        a.stars.start()
    }
    ;
    a.finish = function() {
        a.showStart = !0;
        a.scaleOutro.timeScale(2).restart()
    }
    ;
    a.onComplete = function() {
        a.stars.stop();
        a.visible = !1;
        a.showingMeter = !1
    }
    ;
    a.alphaFadeIn = new TweenMax(a,0.5,{
        alpha: 1,
        startAt: {
            alpha: 0
        }
    });
    a.scaleOutro = new TimelineMax({
        paused: !0
    });
    b = 0;
    a.scaleOutro.add(new TweenMax(a.shine,0.3,{
        scaleX: 0.12,
        ease: "Linear.easeNone"
    }), 0.1);
    a.scaleOutro.add(new TweenMax(a.shine,0.3,{
        scaleY: 0.45,
        ease: "Linear.easeNone"
    }), 0.1);
    a.scaleOutro.addCallback(function() {
        a.stars.tl.timeScale(7).progress(1).reverse();
        a.shine.tl.timeScale(10).play()
    }, 0.1, [], a);
    var d = Math.max(0.3, 0.3)
      , b = b + (0.1 + d);
    a.scaleOutro.add(new TweenMax(a.shine,0.3 / 1.5,{
        scaleX: 0,
        ease: "Power2.easeOut"
    }), b);
    a.scaleOutro.add(new TweenMax(a.shine,0.15,{
        scaleY: 0,
        ease: "Power2.easeOut"
    }), b);
    a.scaleOutro.add(new TweenMax(a.stars,0.15,{
        textScaleX: 0,
        textScaleY: 0
    }), 0.1 * 3);
    a.scaleOutro.add(new TweenMax(a.winMeterText,0.3,{
        scaleX: 0,
        scaleY: 0
    }), 0.1);
    d = Math.max(0.1 * 3 + 0.15, 0.4, b + 0.15);
    a.scaleOutro.addCallback(a.onComplete, b + d, [], a);
    a.draw = function(b, d) {
        a.visible && (a.shine.draw(b),
        a.stars.draw(b),
        a.showingMeter && d.draw(b))
    }
}
;function TPSprite(b, a, d, c, e, f) {
    AF.DObject.call(this);
    this.qualityScale = 1;
    this.yOffset = this.xOffset = 0;
    this.alpha = [1];
    this.config = getConfigById(b);
    this.frame = 0;
    this.framesCount = a || 1;
    this.cols = d || this.framesCount;
    this.rows = c || 1;
    this.width = this.config.sourceSize.w / this.cols;
    this.height = this.config.sourceSize.h / this.rows;
    this.sWidth = e || this.width;
    this.sHeight = f || this.height;
    this.setPosition = function(a) {
        this.X = a.x;
        this.Y = a.y
    }
}
TPSprite.prototype = new AF.DObject;
TPSprite.prototype.drawXY = function(b, a) {
    this.x = b + this.xOffset;
    this.y = a + this.yOffset;
    this.draw(ctx)
}
;
TPSprite.prototype.performDraw = function(b) {
    if (0 !== this.alpha[0]) {
        var a = this.config
          , d = gameViewMan.viewScale * this.qualityScale;
        this.frame = Math.floor(this.frame) % this.framesCount;
        var c = this.frame % this.cols
          , e = Math.floor(this.frame / this.cols)
          , f = this.width * c
          , g = this.height * e
          , k = a.oX
          , p = a.oY
          , n = this.width
          , q = this.height;
        0 == c && (n -= a.oX);
        c == this.cols - 1 && (n -= a.sourceSize.w - a.sW - a.oX,
        0 != c && (k = 0,
        f -= a.oX));
        0 < c && c < this.cols - 1 && (k = 0,
        f -= a.oX);
        0 == e && (q -= a.oY);
        e == this.rows - 1 && (q -= a.sourceSize.h - a.sH - a.oY,
        0 != e && (p = 0,
        g -= a.oY));
        0 < e && e < this.rows - 1 && (p = 0,
        g -= a.oY);
        var c = this.sWidth / this.width * n
          , e = this.sHeight / this.height * q
          , r = b.globalAlpha;
        b.globalAlpha = this.alpha[0];
        b.drawImage(a.img, a.sX + f, a.sY + g, n, q, (a.dX + k) * d, (a.dY + p) * d, c * d, e * d);
        b.globalAlpha = r
    }
}
;
function TPMovieclip(b) {
    AF.DObject.call(this);
    this.qualityScale = 1;
    this.offsetY = this.offsetX = 0;
    this.pivotOffset = !1;
    this.frames = getConfigById(b);
    this.frame = 0;
    this.framesCount = this.frames.length;
    this.width = this.frames[0].sourceSize.w;
    this.height = this.frames[0].sourceSize.h
}
TPMovieclip.prototype = new AF.DObject;
TPMovieclip.prototype.performDraw = function(b) {
    if (!(0 > this.frame)) {
        this.frame = Math.floor(this.frame) % this.framesCount;
        var a = gameViewMan.viewScale
          , d = this.qualityScale
          , c = this.frames[this.frame]
          , e = 0
          , f = 0;
        this.pivotOffset && (e = -c.sourceSize.w * c.pivot.x,
        f = -c.sourceSize.h * c.pivot.y);
        b.drawImage(c.img, c.sX, c.sY, c.sW, c.sH, (c.dX + this.offsetX + e + c.oX) * a * d, (c.dY + this.offsetY + f + c.oY) * a * d, c.dW * a * d, c.dH * a * d)
    }
}
;
function drawTPImage(b, a, d, c) {
    var b = getConfigById(b)
      , e = gameViewMan.viewScale
      , c = c || 1;
    ctx.drawImage(b.img, b.sX, b.sY, b.sW, b.sH, (b.dX + b.oX + a) * e, (b.dY + b.oY + d) * e, b.dW * e * c, b.dH * e * c)
}
function TPImage(b) {
    this.TPconfig = getConfigById(b);
    this.currentFrame = this.Y = this.X = this.frameCount = 0;
    this.animRunning = !1;
    this.animRate = 10;
    this.loop = !1;
    this.elapsedTime = this.loopStartFrame = 0;
    this.actions = null;
    this.nextActionIndex = 0;
    this.setAnimConfig = function(a, b) {
        this.frameCount = b.length;
        this.textureIndexes = [];
        this.alpha = [];
        this.xOffset = [];
        this.yOffset = [];
        this.scale = [];
        this.rotation = [];
        this.actions = [];
        for (var c = 0; c < b.length; c++)
            "undefined" === typeof b[c].t ? this.textureIndexes.push(0) : this.textureIndexes.push(b[c].t),
            "undefined" === typeof b[c].a ? this.alpha.push(1) : this.alpha.push(b[c].a),
            "undefined" === typeof b[c].x ? this.xOffset.push(0) : this.xOffset.push(b[c].x),
            "undefined" === typeof b[c].y ? this.yOffset.push(0) : this.yOffset.push(b[c].y),
            "undefined" === typeof b[c].s ? this.scale.push(1) : this.scale.push(b[c].s),
            "undefined" === typeof b[c].r ? this.rotation.push(0) : this.rotation.push(b[c].r),
            "undefined" != typeof b[c].l && (this.loopStartFrame = c),
            "function" === typeof b[c].a && this.actions.push({
                t: 1E3 * c / this.animRate,
                f: b[c].a
            });
        for (c = 0; c < a.length; ++c)
            if (void 0 === a[c].designW && (a[c].designW = a[c].w),
            void 0 === a[c].designH)
                a[c].designH = a[c].h;
        this.spriteDefs = a
    }
    ;
    this.setPosition = function(a, b) {
        this.X = a;
        this.Y = b
    }
    ;
    this.startAnim = function(a, b) {
        this.loop = a;
        InRange(b, 0, this.frameCount) && (this.currentFrame = b,
        this.elapsedTime = 1E3 * b * this.animRate,
        this.animRunning = !0)
    }
    ;
    this.stopAnim = function(a) {
        this.animRunning = !1;
        a && (this.nextActionIndex = this.currentFrame = 0)
    }
    ;
    this.stopAtlastFrame = function() {
        this.animRunning = !1;
        this.currentFrame = this.frameCount - 1
    }
    ;
    this.draw = function() {
        if (0 != this.alpha[0]) {
            var a = gameViewMan.viewScale
              , b = ctx.globalAlpha
              , c = this.scale[this.currentFrame]
              , e = this.spriteDefs[this.textureIndexes[this.currentFrame]];
            0 != this.rotation[this.currentFrame] ? (ctx.save(),
            ctx.translate(this.X + this.xOffset[this.currentFrame] + this.rotation[this.currentFrame].x, this.Y + this.yOffset[this.currentFrame] + this.rotation[this.currentFrame].y),
            ctx.rotate(Math.PI / 360 * this.rotation[this.currentFrame].rt),
            ctx.globalAlpha = this.alpha[this.currentFrame],
            ctx.drawImage(TPconfig.img, e.x, e.y, e.w, e.h, -this.rotation[this.currentFrame].x * a, -this.rotation[this.currentFrame].y * a, e.designW * c * a, e.designH * c * a),
            ctx.restore()) : (ctx.globalAlpha = this.alpha[this.currentFrame],
            ctx.drawImage(TPconfig.img, e.x, e.y, e.w, e.h, (this.X + this.xOffset[this.currentFrame]) * a, (this.Y + this.yOffset[this.currentFrame]) * a, e.designW * c * a, e.designH * c * a));
            ctx.globalAlpha = b
        }
    }
    ;
    this.drawXY = function() {
        var a = gameViewMan.viewScale;
        ctx.globalAlpha = this.alpha[this.currentFrame];
        ctx.drawImage(this.TPconfig.img, this.TPconfig.sX, this.TPconfig.sY, this.TPconfig.sW, this.TPconfig.sH, (this.TPconfig.dX + this.TPconfig.oX) * a, (this.TPconfig.dY + this.TPconfig.oY) * a, this.TPconfig.dW * a, this.TPconfig.dH * a)
    }
    ;
    this.update = function(a) {
        this.animRunning && ((this.elapsedTime += a,
        this.actions.length > this.nextActionIndex && this.elapsedTime >= this.actions[this.nextActionIndex].t && (this.actions[this.nextActionIndex].f.call(this),
        this.nextActionIndex++),
        this.currentFrame = Math.round(this.elapsedTime * this.animRate / 1E3),
        this.loop) ? 0 != this.loopStartFrame && this.currentFrame >= this.loopStartFrame ? this.currentFrame = this.currentFrame % (this.frameCount - this.loopStartFrame) + this.loopStartFrame : (this.currentFrame %= this.frameCount,
        0 == this.currentFrame && (this.nextActionIndex = 0)) : this.currentFrame >= this.frameCount && (this.currentFrame = this.frameCount - 1,
        this.animRunning = !1,
        this.nextActionIndex = 0))
    }
}
function TPSymbolImage(b, a) {
    this.Y = this.X = 0;
    var d, c;
    this.config = getConfigById(b);
    this.staticSymbolScale = STATIC_SYMBOL_SCALE;
    this.staticSymbolOffsetX = STATIC_SYMBOL_OFFSET_X;
    this.staticSymbolOffsetY = BLUR_SYMBOL_OFFSET_Y;
    a ? (this.blurConfig = getConfigById(a),
    this.blurSymbolScale = BLUR_SYMBOL_SCALE,
    this.blurSymbolOffsetX = BLUR_SYMBOL_OFFSET_X,
    this.blurSymbolOffsetY = BLUR_SYMBOL_OFFSET_Y) : this.blurConfig = null;
    this.alpha = [1];
    this.draw = function() {}
    ;
    this.drawXY = function(a, b) {
        if (this.alpha[0] != 0) {
            var g = gameViewMan.viewScale
              , k = ctx.globalAlpha;
            ctx.globalAlpha = this.alpha[0];
            var p = Math.floor((a - game.layout.REELS.x) / game.layout.symbolWidth);
            if (this.blurConfig && game.reelMan.reels[p].state > 1 && game.reelMan.reels[p].state < 3) {
                d = this.blurConfig;
                c = this.blurSymbolScale
            } else {
                d = this.config;
                c = this.staticSymbolScale
            }
            ctx.drawImage(d.img, d.sX, d.sY, d.sW, d.sH, (a + game.layout.symbolWidth / 2) * g + (d.oX - d.sourceSize.w * d.pivot.x) * g * c, (b + game.layout.symbolHeight / 2) * g + (d.oY - d.sourceSize.h * d.pivot.y) * g * c, d.dW * g * c, d.dH * g * c);
            ctx.globalAlpha = k
        }
    }
    ;
    this.update = function() {}
    ;
    this.startAnim = function() {}
    ;
    this.stopAnim = function() {}
}
function AtlasPart(b, a) {
    var d = document.createElement("canvas")
      , c = getConfigById(b)
      , e = c.dW * a
      , f = c.dH * a;
    d.style.width = e + "px";
    d.style.height = f + "px";
    d.width = e;
    d.height = f;
    var g = d.getContext("2d");
    g.clearRect(0, 0, e, f);
    g.drawImage(c.img, c.sX, c.sY, c.sW, c.sH, 0, 0, e, f);
    return d
}
function BlurImage(b, a, d) {
    b = getConfigById(b);
    this.scale = d || 1;
    var d = document.createElement("canvas")
      , c = b.dW * this.scale
      , e = b.dH * this.scale;
    d.style.width = c + "px";
    d.style.height = e + "px";
    d.width = c;
    d.height = e + 2 * a;
    var f = d.getContext("2d");
    f.drawImage(b.img, b.sX, b.sY, b.sW, b.sH, 0, a, c, e);
    b = f.getImageData(0, 0, c, e + 2 * a);
    blur(b, 0, a);
    f.putImageData(b, 0, 0);
    return d
}
randomize = function(b, a) {
    return Math.random() * (a - b) + b
}
;
isDiceVersion = !1;
var diceAssetsQualityParameters = {
    sq: {
        sprites: {
            assetSymbols: {
                path: "symbols/symbols.jpg",
                x: 0,
                y: 0,
                w: 150,
                h: 150,
                frames: _SYM_TOTAL_NUM,
                margin: 0,
                cols: 12,
                rows: 1,
                dWidth: 150,
                dHeight: 150
            }
        }
    },
    hq: {
        sprites: {
            assetSymbols: {
                path: "symbols/symbols.jpg",
                x: 0,
                y: 0,
                w: 150,
                h: 150,
                frames: _SYM_TOTAL_NUM,
                margin: 0,
                cols: 12,
                rows: 1,
                dWidth: 150,
                dHeight: 150
            }
        }
    }
};
function ScatterASymbol() {
    AF.Movie.call(this, 1500);
    var b = new TPMovieclip("sym11a_anim");
    b.qualityScale = isStandardQualityFlag() ? 1 : 0.5;
    b.pivotOffset = !0;
    b.offsetX = game.layout.symbolWidth / 2 / b.qualityScale;
    b.offsetY = game.layout.symbolHeight / 2 / b.qualityScale;
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-" + (b.framesCount - 1), 1500));
    this.addChild(b);
    this.addAction(function() {
        this.play(0)
    }, 1499)
}
function ScatterBSymbol() {
    var b = new TPMovieclip("sym11b_anim")
      , a = 85 * b.framesCount;
    AF.Movie.call(this, a);
    b.qualityScale = isStandardQualityFlag() ? 1 : 0.5;
    b.pivotOffset = !0;
    b.offsetX = game.layout.symbolWidth / 2 / b.qualityScale;
    b.offsetY = game.layout.symbolHeight / 2 / b.qualityScale;
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-" + (b.framesCount - 1), a));
    this.addChild(b);
    this.addAction(function() {
        this.play(1445)
    }, a - 1)
}
console.log("#####GAME_INTERACTION-WindowObj at quality check for asset loading");
;var quality = windowObj.quality ? windowObj.quality : "sq"
  , commonImages = "./assets/common/images/"
  , qualityImages = "./assets/" + quality + "/images/"
  , qualitySounds = "./assets/" + quality + "/sounds/"
  , languagePath = "./language/" + windowObj.languageCode + "/";
"hq" == quality && (game.ui = new ui);
var spriteAssets = {
    _assets: {},
    add: function(b, a) {
        var d = null;
        typeof a === "string" ? d = {
            id: a,
            frames: 1
        } : Array.isArray(a) ? d = {
            id: a[0],
            frames: a[1] || 1
        } : typeof a === "object" && (d = a);
        this._assets = this._assets || {};
        if (!this._assets[b]) {
            this._assets[b] = d;
            game.ASSET_MANAGER.addAsset(d.path)
        }
    },
    getByID: function(b) {
        b = this._assets[b];
        b.img = game.ASSET_MANAGER.getAsset(b.path);
        return b
    },
    getAsset: function(b) {
        return this._assets[b]
    }
}
  , commonSprites = {
    sparkles: {
        path: commonImages + "WinMeterBGSparkles.png"
    },
    shine: {
        path: commonImages + "shine.png"
    },
    turndevice: {
        path: commonImages + "turndevice.png"
    },
    menu_ui: {
        path: "menu_ui.png"
    },
    apple_touch_icon_iphone4: {
        path: "apple-touch-icon-iphone4.png"
    },
    btnOff: {
        path: "freespins/btnOff.png"
    },
    btnOn: {
        path: "freespins/btnOn.png"
    },
    shine_fs: {
        path: "freespins/shine.png"
    },
    btn_FreeRound: {
        path: "freespins/btn_FreeRound.png"
    },
    btn_FreeRoundGlow: {
        path: "freespins/btn_FreeRoundGlow.png"
    }
};
isStandardQualityFlag() ? commonSprites.game_ui = {
    path: "game_ui.png"
} : commonSprites.game_ui_hq = {
    path: "game_ui_hq.png"
};
var gameQualityParameters = {
    sq: {
        gAudioSettings: {
            resources: [qualitySounds + "foxinwin_SQ_96kbps.mp3", qualitySounds + "foxinwin_SQ_96kbps.m4a"],
            spritemap: {
                "Ambience-BaseGame": {
                    start: 1,
                    end: 13.931066,
                    loop: !0
                },
                "Bet-Lower": {
                    start: 14.931066,
                    end: 16.117937
                },
                "Bet-Max": {
                    start: 17.117937,
                    end: 18.270895
                },
                "Bet-Raise": {
                    start: 19.270907,
                    end: 20.385964
                },
                BigWinBell: {
                    start: 21.385964,
                    end: 23.934444,
                    duration: 2100
                },
                BonusCoinsRollup: {
                    start: 24.934444,
                    end: 26.908141,
                    duration: 800
                },
                DiamondShower: {
                    start: 27.908141,
                    end: 45.382562,
                    duration: 15E3
                },
                "FeatureLoop-FoxFunds": {
                    start: 46.382562,
                    end: 53.767188,
                    loop: !0
                },
                FreeGamesSummary: {
                    start: 54.767188,
                    end: 62.346145,
                    duration: 4600
                },
                "Fox-CoinDig": {
                    start: 63.346145,
                    end: 64.199002
                },
                "Fox-EnterScreech": {
                    start: 65.199002,
                    end: 66.767256
                },
                FoxinIntro: {
                    start: 67.767256,
                    end: 75.767256
                },
                "Fox-Leap": {
                    start: 76.767256,
                    end: 78.269864
                },
                "Fox-RunOffscreen": {
                    start: 79.269864,
                    end: 79.769864
                },
                FreeGamesLoop: {
                    start: 80.769864,
                    end: 107.436531,
                    loop: !0
                },
                FreeGamesRollup: {
                    start: 108.436531,
                    end: 111.936531,
                    duration: 2E3
                },
                click: {
                    start: 112.936531,
                    end: 114.776621
                },
                "Leprechaun_Pup-Jump": {
                    start: 115.776621,
                    end: 116.277188
                },
                "Leprechaun-Punt_EscapeBoing": {
                    start: 117.277188,
                    end: 118.346961
                },
                "Leprechaun-PreAppearance": {
                    start: 119.346961,
                    end: 120.462063
                },
                "Leprechaun-swearing1": {
                    start: 121.462063,
                    end: 122.290431
                },
                "Leprechaun-swearing2": {
                    start: 123.290431,
                    end: 124.137166
                },
                "Leprechaun-swearing3": {
                    start: 125.137166,
                    end: 125.932086
                },
                "Leprechaun-swearing4": {
                    start: 126.932086,
                    end: 127.731451
                },
                "Leprechaun-Whiskey": {
                    start: 128.731451,
                    end: 130.308231
                },
                WindUp: {
                    start: 131.308231,
                    end: 134.250385
                },
                "Pups-BigWinYAYYY": {
                    start: 135.250385,
                    end: 136.516644
                },
                "Pups-Giggle": {
                    start: 137.516644,
                    end: 138.530159
                },
                "Pups-Whee": {
                    start: 139.530159,
                    end: 140.709909
                },
                "Pups-Woohoo": {
                    start: 141.709909,
                    end: 142.266304
                },
                "Pups-Yayyy1": {
                    start: 143.266304,
                    end: 144.320227
                },
                "Pups-Yayyy2": {
                    start: 145.320227,
                    end: 146.319887
                },
                ReelSpin1: {
                    start: 147.319887,
                    end: 149.986553
                },
                ReelSpin2: {
                    start: 150.986553,
                    end: 153.65322
                },
                ReelSpin3: {
                    start: 154.65322,
                    end: 157.319887
                },
                ReelSpin4: {
                    start: 158.319887,
                    end: 160.986553
                },
                ReelSpin5: {
                    start: 161.986553,
                    end: 164.65322
                },
                ReelSpin6: {
                    start: 165.65322,
                    end: 168.319887
                },
                ReelSpin7: {
                    start: 169.319887,
                    end: 171.986553
                },
                ReelSpin8: {
                    start: 172.986553,
                    end: 175.65322
                },
                ReelStop: {
                    start: 176,
                    end: 176.926417
                },
                "ScatterSym-Pay": {
                    start: 177.926417,
                    end: 180.926417
                },
                "ScatterSym-Trigger": {
                    start: 181.926417,
                    end: 187.018526,
                    duration: 3E3
                },
                SRS1: {
                    start: 188.018526,
                    end: 189.992789
                },
                SRS2: {
                    start: 190.992789,
                    end: 192.967052
                },
                SRS3: {
                    start: 193.967052,
                    end: 195.944172
                },
                SRS4: {
                    start: 196.944172,
                    end: 198.898435
                },
                SRS5: {
                    start: 199.898435,
                    end: 201.842676
                },
                "SuperBet-Down": {
                    start: 202.842676,
                    end: 204.445306
                },
                "SuperBet-Up": {
                    start: 205.445306,
                    end: 207.447914
                },
                "SymTurn-Juggle": {
                    start: 208.447914,
                    end: 209.580136
                },
                WhizzBy: {
                    start: 210.580136,
                    end: 212.592132
                },
                WildSym: {
                    start: 213.592132,
                    end: 217.38161,
                    duration: 1900
                },
                WinTune1A: {
                    start: 218.38161,
                    end: 222.38161,
                    duration: 1200
                },
                WinTune1B: {
                    start: 223.38161,
                    end: 227.38161,
                    duration: 1200
                },
                WinTune1C: {
                    start: 228.38161,
                    end: 232.38161,
                    duration: 1200
                },
                WinTune2A: {
                    start: 233.38161,
                    end: 237.88161,
                    duration: 1500
                },
                WinTune2B: {
                    start: 238.88161,
                    end: 243.38161,
                    duration: 1500
                },
                WinTune3A: {
                    start: 244.38161,
                    end: 250.38161,
                    duration: 4100
                },
                WinTune3C: {
                    start: 251.38161,
                    end: 257.38161,
                    duration: 4100
                },
                WinTune4C: {
                    start: 258.38161,
                    end: 268.88161,
                    duration: 8E3
                },
                silentaudio: {
                    start: 0,
                    end: 1
                },
                firstsound: {
                    start: 0,
                    end: 0.01
                }
            }
        },
        sprites: {
            reelbg: {
                path: "backgrounds/sq_reelbg.png",
                x: 45,
                y: 0,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1
            },
            introScreenBg: {
                path: "intro/introScreenBg.png",
                x: 15,
                y: 15,
                w: 430,
                h: 431,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1
            },
            superBetLogo: {
                path: "intro/superBetLogo.png",
                x: 133,
                y: 110,
                w: 364,
                h: 182,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1
            },
            superbetno_normal: {
                path: "interface/superbetno_normal.png"
            },
            superbetno_glow: {
                path: "interface/superbetno_glow.png"
            },
            top_bar_bg: {
                path: "interface/top_bar_bg.png"
            },
            chair: {
                path: "backgrounds/sq_chair.png",
                x: 739,
                y: 409,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1
            },
            minion_falling: {
                path: "minion/minion-falling.png"
            }
        },
        uiLayout: {
            inGameBetPos: {
                x: 830,
                y: 386
            },
            defaultSpinBtnPos: {
                x: 830,
                y: 386
            },
            defaultStartAutoplayBtnPos: {
                x: 830,
                y: 386
            },
            defaultStopAutoplayBtnPos: {
                x: 830,
                y: 386
            },
            defaultGamesRemainingMeterPos: {
                x: 900,
                y: 525
            },
            defaultGamesRemainingMeterPos2: {
                x: 900,
                y: 520
            },
            defaultWinMeterPos: {
                x: 480,
                y: 492
            },
            defaultWinMeterBGPos: {
                x: 195,
                y: 446
            },
            imgWinMeterBackground: {
                x: 0,
                y: 0,
                w: 1,
                h: 1
            },
            defaultWinMeterBGPos: {
                x: 195,
                y: 441
            }
        },
        layout: {}
    },
    hq: {
        gAudioSettings: {
            resources: [qualitySounds + "foxinwin_HQ.mp3", qualitySounds + "foxinwin_HQ.m4a"],
            spritemap: {
                "Ambience-BaseGame": {
                    start: 1,
                    end: 13.931066,
                    loop: !0
                },
                "Bet-Lower": {
                    start: 14.931066,
                    end: 16.117937
                },
                "Bet-Max": {
                    start: 17.117937,
                    end: 18.270895
                },
                "Bet-Raise": {
                    start: 19.270907,
                    end: 20.385964
                },
                BigWinBell: {
                    start: 21.385964,
                    end: 23.934444,
                    duration: 2100
                },
                BonusCoinsRollup: {
                    start: 24.934444,
                    end: 26.908141,
                    duration: 800
                },
                DiamondShower: {
                    start: 27.908141,
                    end: 45.382562,
                    duration: 15E3
                },
                "FeatureLoop-FoxFunds": {
                    start: 46.382562,
                    end: 53.767188,
                    loop: !0
                },
                FreeGamesSummary: {
                    start: 54.767188,
                    end: 62.346145,
                    duration: 4600
                },
                "Fox-CoinDig": {
                    start: 63.346145,
                    end: 64.199002
                },
                "Fox-EnterScreech": {
                    start: 65.199002,
                    end: 66.767256
                },
                FoxinIntro: {
                    start: 67.767256,
                    end: 75.767256
                },
                "Fox-Leap": {
                    start: 76.767256,
                    end: 78.269864
                },
                "Fox-RunOffscreen": {
                    start: 79.269864,
                    end: 79.769864
                },
                FreeGamesLoop: {
                    start: 80.769864,
                    end: 107.436531,
                    loop: !0
                },
                FreeGamesRollup: {
                    start: 108.436531,
                    end: 111.936531,
                    duration: 2E3
                },
                click: {
                    start: 112.936531,
                    end: 114.776621
                },
                "Leprechaun_Pup-Jump": {
                    start: 115.776621,
                    end: 116.277188
                },
                "Leprechaun-Punt_EscapeBoing": {
                    start: 117.277188,
                    end: 118.346961
                },
                "Leprechaun-PreAppearance": {
                    start: 119.346961,
                    end: 120.462063
                },
                "Leprechaun-swearing1": {
                    start: 121.462063,
                    end: 122.290431
                },
                "Leprechaun-swearing2": {
                    start: 123.290431,
                    end: 124.137166
                },
                "Leprechaun-swearing3": {
                    start: 125.137166,
                    end: 125.932086
                },
                "Leprechaun-swearing4": {
                    start: 126.932086,
                    end: 127.731451
                },
                "Leprechaun-Whiskey": {
                    start: 128.731451,
                    end: 130.308231
                },
                WindUp: {
                    start: 131.308231,
                    end: 134.250385
                },
                "Pups-BigWinYAYYY": {
                    start: 135.250385,
                    end: 136.516644
                },
                "Pups-Giggle": {
                    start: 137.516644,
                    end: 138.530159
                },
                "Pups-Whee": {
                    start: 139.530159,
                    end: 140.709909
                },
                "Pups-Woohoo": {
                    start: 141.709909,
                    end: 142.266304
                },
                "Pups-Yayyy1": {
                    start: 143.266304,
                    end: 144.320227
                },
                "Pups-Yayyy2": {
                    start: 145.320227,
                    end: 146.319887
                },
                ReelSpin1: {
                    start: 147.319887,
                    end: 149.986553
                },
                ReelSpin2: {
                    start: 150.986553,
                    end: 153.65322
                },
                ReelSpin3: {
                    start: 154.65322,
                    end: 157.319887
                },
                ReelSpin4: {
                    start: 158.319887,
                    end: 160.986553
                },
                ReelSpin5: {
                    start: 161.986553,
                    end: 164.65322
                },
                ReelSpin6: {
                    start: 165.65322,
                    end: 168.319887
                },
                ReelSpin7: {
                    start: 169.319887,
                    end: 171.986553
                },
                ReelSpin8: {
                    start: 172.986553,
                    end: 175.65322
                },
                ReelStop: {
                    start: 176,
                    end: 176.926417
                },
                "ScatterSym-Pay": {
                    start: 177.926417,
                    end: 180.926417
                },
                "ScatterSym-Trigger": {
                    start: 181.926417,
                    end: 187.018526,
                    duration: 3E3
                },
                SRS1: {
                    start: 188.018526,
                    end: 189.992789
                },
                SRS2: {
                    start: 190.992789,
                    end: 192.967052
                },
                SRS3: {
                    start: 193.967052,
                    end: 195.944172
                },
                SRS4: {
                    start: 196.944172,
                    end: 198.898435
                },
                SRS5: {
                    start: 199.898435,
                    end: 201.842676
                },
                "SuperBet-Down": {
                    start: 202.842676,
                    end: 204.445306
                },
                "SuperBet-Up": {
                    start: 205.445306,
                    end: 207.447914
                },
                "SymTurn-Juggle": {
                    start: 208.447914,
                    end: 209.580136
                },
                WhizzBy: {
                    start: 210.580136,
                    end: 212.592132
                },
                WildSym: {
                    start: 213.592132,
                    end: 217.38161,
                    duration: 1900
                },
                WinTune1A: {
                    start: 218.38161,
                    end: 222.38161,
                    duration: 1200
                },
                WinTune1B: {
                    start: 223.38161,
                    end: 227.38161,
                    duration: 1200
                },
                WinTune1C: {
                    start: 228.38161,
                    end: 232.38161,
                    duration: 1200
                },
                WinTune2A: {
                    start: 233.38161,
                    end: 237.88161,
                    duration: 1500
                },
                WinTune2B: {
                    start: 238.88161,
                    end: 243.38161,
                    duration: 1500
                },
                WinTune3A: {
                    start: 244.38161,
                    end: 250.38161,
                    duration: 4100
                },
                WinTune3C: {
                    start: 251.38161,
                    end: 257.38161,
                    duration: 4100
                },
                WinTune4C: {
                    start: 258.38161,
                    end: 268.88161,
                    duration: 8E3
                },
                silentaudio: {
                    start: 0,
                    end: 1
                },
                firstsound: {
                    start: 0,
                    end: 0.01
                }
            }
        },
        sprites: {
            reelbg: {
                path: "backgrounds/hq_reelbg.png",
                x: 45,
                y: 0,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1,
                dWidth: 831,
                dHeight: 533
            },
            introScreenBg: {
                path: "intro/introScreenBg.png",
                x: -7,
                y: 19,
                w: 840,
                h: 840,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1,
                dWidth: 420,
                dHeight: 420
            },
            superBetLogo: {
                path: "intro/superBetLogo.png",
                x: 123,
                y: 120,
                w: 296,
                h: 160,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1,
                dWidth: 148,
                dHeight: 80
            },
            superbetno_normal: {
                path: "interface/superbetno_normal.png"
            },
            superbetno_glow: {
                path: "interface/superbetno_glow.png"
            },
            top_bar_bg: {
                path: "interface/top_bar_bg.png"
            },
            chair: {
                path: "backgrounds/hq_chair.png",
                x: 739,
                y: 409,
                frames: 1,
                margin: 0,
                cols: 1,
                rows: 1,
                dWidth: 216,
                dHeight: 251
            },
            minion_falling: {
                path: "minion/minion-falling.png"
            }
        },
        uiLayout: {
            defaultSpinBtnPos: {
                x: 720,
                y: 480
            },
            defaultStopBtnPos: {
                x: 722,
                y: 482
            },
            defaultContinueBtnPos: {
                x: 722,
                y: 482
            },
            defaultStartAutoplayBtnPos: {
                x: 720,
                y: 480
            },
            defaultStopAutoplayBtnPos: {
                x: 723,
                y: 481
            },
            defaultHomeGameBtnPos: {
                x: 0,
                y: 20
            },
            defaultSettingsBtnPos: {
                x: 0,
                y: 85
            },
            defaultCashierGameBtnPos: {
                x: 0,
                y: 150
            },
            defaultBetUpBtn: {
                x: 128,
                y: 526
            },
            defaultBetDownBtn: {
                x: 10,
                y: 526
            },
            defaultBetMaxBtn: {
                x: 56,
                y: 523
            },
            defaultGamesRemainingMeterPos: {
                x: 785,
                y: 532
            },
            defaultGamesRemainingMeterPos2: {
                x: 785,
                y: 532
            },
            defaultWinMeterPos: {
                x: 330,
                y: 484
            },
            defaultSpinBtnTooltipOffset: {
                x: 860,
                y: 460
            },
            defaultStopBtnTooltipOffset: {
                x: 860,
                y: 460
            },
            defaultContinueBtnTooltipOffset: {
                x: 860,
                y: 460
            },
            defaultBetUpTooltipOffset: {
                x: 94,
                y: 492
            },
            defaultBetDownTooltipOffset: {
                x: 94,
                y: 492
            },
            defaultBetMaxTooltipOffset: {
                x: 94,
                y: 492
            }
        },
        layout: {}
    }
}, assetsConfig = gameQualityParameters[quality], gAudioSettings = assetsConfig.gAudioSettings, assetsBelgianDiceConfig = diceAssetsQualityParameters[quality], i;
for (i in assetsConfig.sprites)
    assetsConfig.sprites[i].hasOwnProperty("path") && (assetsConfig.sprites[i].path = qualityImages + assetsConfig.sprites[i].path);
for (i in commonSprites)
    commonSprites[i].hasOwnProperty("path") && void 0 == assetsConfig.sprites[i] && (assetsConfig.sprites[i] = commonSprites[i]);
for (i in assetsBelgianDiceConfig.sprites)
    assetsBelgianDiceConfig.sprites[i].hasOwnProperty("path") && (assetsBelgianDiceConfig.sprites[i].path = qualityImages + assetsBelgianDiceConfig.sprites[i].path),
    assetsConfig.sprites[i] = assetsBelgianDiceConfig.sprites[i];
for (i in assetsConfig.sprites)
    spriteAssets.add(i, assetsConfig.sprites[i]);
isStandardQualityFlag = function() {
    return windowObj.quality == void 0 || windowObj.quality == "sq"
}
;
function initTPfiles() {
    texturePackerFiles = isStandardQualityFlag() ? [[qualityImages, "intro/jump", ".png"], [qualityImages, "symbols/sq_symbols_0", ".png"], [qualityImages, "titleanimation/titleanimation", ".png"], [qualityImages, "symbols/sym00", ".png"], [qualityImages, "symbols/sym11", ".png"], [qualityImages, "bigwin/bigwin", ".png"], [qualityImages, "features/changingwildcommon", ".png"], [qualityImages, "features/changingwild03_06", ".png"], [qualityImages, "features/changingwild07_10", ".png"], [qualityImages, "interface/hq_UI_0", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_0", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_1", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_2", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_3", ".png"], [qualityImages, "features/foxfunds/hq_FoxFundCoins_0", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunEscape_0", ".png"], [qualityImages, "features/leprechaunchase/hq_runningLoop_0", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_0", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_1", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_2", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_0", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_1", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_2", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_3", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_4", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_5", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_6", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_7", ".png"], [qualityImages, "features/leprechaunchase/hq_foxWalkLoop_0", ".png"]] : [[qualityImages, "intro/foxJump_0", ".png"], [qualityImages, "symbols/hq_symbols_0", ".png"], [qualityImages, "titleanimation/hq_titleanimation_0", ".png"], [qualityImages, "symbols/hq_sym00_0", ".png"], [qualityImages, "symbols/hq_sym11_0", ".png"], [qualityImages, "bigwin/hq_bigwin_0", ".png"], [qualityImages, "features/hq_changingwildcommon_0", ".png"], [qualityImages, "features/hq_changingwild03_06_0", ".png"], [qualityImages, "features/hq_changingwild07_10_0", ".png"], [qualityImages, "interface/hq_UI_0", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_0", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_1", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_2", ".png"], [qualityImages, "features/foxfunds/hq_FoxFund_3", ".png"], [qualityImages, "features/foxfunds/hq_FoxFundCoins_0", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunEscape_0", ".png"], [qualityImages, "features/leprechaunchase/hq_runningLoop_0", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_0", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_1", ".png"], [qualityImages, "features/leprechaunchase/hq_foxMiss_2", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_0", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_1", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_2", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_3", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_4", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_5", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_6", ".png"], [qualityImages, "features/leprechaunchase/hq_leprechaunShakeDown_7", ".png"], [qualityImages, "features/leprechaunchase/hq_foxWalkLoop_0", ".png"]]
}
initTPfiles();
loadTexturePackedFiles();
reelManagerUpdateOverride = function(b) {
    switch (this.state) {
    case 1:
        this.stoppingTime += b;
        this.stoppingTime > game.reelMan.getInitialReelStopDelay() && !game.slotResult.bProcessed && (this.state = 2,
        this.reelStopIndex = this.stoppingTime = 0,
        game.slotResult.bProcessed = !0);
        break;
    case 2:
        this.crankOffset = 0;
        this.stoppingTime += b;
        if (this.stoppingTime >= game.reelMan.getReelStopDelay()) {
            this.reels[this.reelStopIndex].stopSpin(game.slotResult.stops[this.reelStopIndex]);
            symbolTwists.startTwist(this.reelStopIndex);
            if (3 === this.reelStopIndex && communicator.getMarker("GSD").LepSND && (1 == game.currentBonusFeature || 3 == game.currentBonusFeature))
                game.playSoundHQ("Leprechaun-PreAppearance"),
                game.messageBar.m_Text = TXT_BONUS_CATCH_ESCAPE;
            0 <= objWindUp.scatterReels[d] && 2 <= 4 - d + objWindUp.scatterBefore(d) || playSound("ReelStop");
            this.stoppingTime = 0;
            this.reelStopIndex++;
            this.reelStopIndex >= this.numReels && (this.state = 3)
        }
        break;
    case 3:
        for (var a = !0, d = 0; 5 > d; d++)
            if (!this.reels[d].isStopped()) {
                a = !1;
                break
            }
        a && (this.state = 0)
    }
    for (d = 0; 5 > d; d++)
        this.reels[d].update(b),
        this.reels[d].crankOffset = this.crankOffset
}
;
reelManagerUpdate = function(b) {
    for (var a = 0; a < _NUM_REELS; a++) {
        var d = this.reels[a];
        3 == game.reelMan.reels[a].state ? 0 <= objWindUp.scatterReels[a] && 2 <= 4 - a + objWindUp.scatterBefore(a) && (30 < growSymbols[a].time ? (growSymbols[a].y = d.bounceOffset + objWindUp.scatterReels[a] * d.symbolHeight,
        growSymbols[a].visible = !0) : 0 >= growSymbols[a].time && (growSymbols[a].play(0),
        playSound("SRS" + (srsCount + 1)),
        srsCount++)) : 0 == game.reelMan.reels[a].state && (1 != reelStops[a] && (reelStops[a] = 1,
        4 > a && 2 <= objWindUp.scatterBefore(a + 1) && setTimeout(function() {
            game.playSoundHQ("WindUp")
        }, 100)),
        growSymbols[a].stop(0),
        growSymbols[a].y = d.bounceOffset + objWindUp.scatterReels[a] * d.symbolHeight,
        growSymbols[a].visible = !1)
    }
    switch (this.state) {
    case 2:
        if (2 <= objWindUp.scatterBefore(this.reelStopIndex)) {
            this.crankOffset = 0;
            this.stoppingTime += b;
            if (2200 <= this.stoppingTime) {
                this.reels[this.reelStopIndex].stopSpin(game.slotResult.stops[this.reelStopIndex]);
                symbolTwists.startTwist(this.reelStopIndex);
                if (3 === this.reelStopIndex && communicator.getMarker("GSD").LepSND && (1 == game.currentBonusFeature || 3 == game.currentBonusFeature))
                    game.playSoundHQ("Leprechaun-PreAppearance"),
                    game.messageBar.m_Text = TXT_BONUS_CATCH_ESCAPE;
                0 <= objWindUp.scatterReels[a] && 2 <= 4 - a + objWindUp.scatterBefore(a) || playSound("ReelStop");
                this.stoppingTime = 0;
                this.reelStopIndex++;
                this.reelStopIndex >= this.numReels && (this.state = 3)
            }
            for (a = 0; a < _NUM_REELS; a++)
                this.reels[a].update(b),
                this.reels[a].crankOffset = this.crankOffset;
            return
        }
        if (0 < objWindUp.scatterBefore(this.reelStopIndex) && 0 <= objWindUp.scatterReels[this.reelStopIndex] && 2 <= 4 - this.reelStopIndex + objWindUp.scatterBefore(this.reelStopIndex)) {
            this.crankOffset = 0;
            this.stoppingTime += b;
            if (300 <= this.stoppingTime) {
                this.reels[this.reelStopIndex].stopSpin(game.slotResult.stops[this.reelStopIndex]);
                symbolTwists.startTwist(this.reelStopIndex);
                if (3 === this.reelStopIndex && communicator.getMarker("GSD").LepSND && (1 == game.currentBonusFeature || 3 == game.currentBonusFeature))
                    game.playSoundHQ("Leprechaun-PreAppearance"),
                    game.messageBar.m_Text = TXT_BONUS_CATCH_ESCAPE;
                0 <= objWindUp.scatterReels[a] && 2 <= 4 - a + objWindUp.scatterBefore(a) || playSound("ReelStop");
                this.stoppingTime = 0;
                this.reelStopIndex++;
                this.reelStopIndex >= this.numReels && (this.state = 3)
            }
            for (a = 0; a < _NUM_REELS; a++)
                this.reels[a].update(b),
                this.reels[a].crankOffset = this.crankOffset;
            return
        }
        break;
    case 3:
        d = !0;
        for (a = 0; a < _NUM_REELS; a++)
            if (!this.reels[a].isStopped()) {
                d = !1;
                break
            }
        d && (game.spinSounds.terminate(),
        this.state = 0,
        game.ui.btnContinue && (game.ui.btnContinue.isDisabled = !1));
        for (a = 0; a < _NUM_REELS; a++)
            this.reels[a].update(b),
            this.reels[a].crankOffset = this.crankOffset;
        return
    }
    overridenFunctions.updateReelManager.call(this, b)
}
;
function WindUp() {
    this.scatterReels = [];
    this.greyOutState = !1;
    this.reset = function() {
        game.inRecovery || (this.scatterReels = []);
        reelStops = [0, 0, 0, 0, 0]
    }
    ;
    this.scatterBefore = function(b) {
        for (var a = 0, d = 0; d < b; ++d)
            0 <= this.scatterReels[d] && a++;
        return a
    }
    ;
    this.processScatterServer = function(b) {
        if (void 0 != game.reelMan.reels)
            for (i = 0; i < _NUM_REELS; i++) {
                this.scatterReels[i] = -1;
                for (var a = 0; a < _NUM_ROWS; ++a) {
                    var d = this.getReelStrip(i)
                      , c = parseInt(b.stops[i]) + a - 1;
                    c > d.length && (c -= d.length);
                    0 > c && (c += d.length);
                    if (parseInt(d[c]) == _SYM_SCATTER) {
                        this.scatterReels[i] = a;
                        break
                    }
                }
            }
    }
    ;
    this.getReelStrip = function(b) {
        return game.reelMan.reels[b].reelStrip
    }
    ;
    this.greyOutSymbols = function(b) {
        if (this.greyOutState != b) {
            this.greyOutState = b;
            for (var a = 0; a < _NUM_REELS; a++)
                for (var d = 0; d < _NUM_REELS; d++)
                    for (var c = 0; c < _SYM_TOTAL_NUM; c++)
                        game.reelMan.reels[a].slots[d].symbols[c].alpha = b && c != _SYM_SCATTER ? [0.5] : [1]
        }
    }
}
;function BackgroundHandler() {
    var b;
    this.initBackground = function() {
        basebufferBGObj = $(".bdCSS")[0].style;
        bufferedBGObj = $(".bufferedbg")[0].style;
        bufferedBGObj.opacity = "0";
        this.setBackground()
    }
    ;
    this.setBackground = function() {
        isStandardQualityFlag() ? ($(".bdCSS").css("background-image", "url('assets/sq/images/backgrounds/sq_basegame_bg.jpg')"),
        $(".bufferedbg").css("background-image", "url('assets/sq/images/backgrounds/sq_freegame_bg.jpg')")) : ($(".bdCSS").css("background-image", "url('assets/hq/images/backgrounds/hq_basegame_bg.jpg')"),
        $(".bufferedbg").css("background-image", "url('assets/hq/images/backgrounds/hq_freegame_bg.jpg')"))
    }
    ;
    this.switchQuality = function() {
        windowObj.quality = isStandardQualityFlag() ? "hq" : "sq";
        this.setBackground()
    }
    ;
    this.createTimeline = function() {
        b = new TimelineMax({
            paused: !0
        });
        b.add(new TweenMax(bufferedBGObj,1.5,{
            opacity: "1",
            startAt: {
                opacity: "0"
            }
        }), 0);
        b.add(new TweenMax(basebufferBGObj,1.5,{
            opacity: "0",
            startAt: {
                opacity: "1"
            }
        }), 0)
    }
    ;
    this.toBaseGame = function() {
        void 0 == b && this.createTimeline();
        b.reverse()
    }
    ;
    this.toFreeGames = function() {
        void 0 == b && this.createTimeline();
        b.play()
    }
    ;
    this.setFreeSpinBg = function(a) {
        a ? this.toFreeGames() : this.toBaseGame()
    }
    ;
    this.getDuration = function() {
        return 0.5
    }
    ;
    this.toDarken = function(a) {
        var b = 1;
        void 0 != a && (b = a);
        TweenMax.to(tintedBackground, this.getDuration(), {
            alpha: b
        })
    }
    ;
    this.toBrighten = function() {
        TweenMax.to(tintedBackground, this.getDuration(), {
            alpha: 0
        })
    }
}
function ReelBackgroundMovie() {
    var b = this;
    AF.Movie.call(b, 1E3);
    var a = AFSpriteWrap(spriteAssets.getByID("reelbg"));
    b.addChild(a);
    var d = null;
    if (isDiceVersion)
        d = AFSpriteWrap(spriteAssets.getByID("reelbgfree")),
        b.addChild(d),
        b.addTween((new AF.Tween(d,"alpha",0)).set(500, 1).set(b.duration, 0)),
        b.addAction(function() {
            b.stop();
            a.alpha = 0;
            d.alpha = 1
        }, 500),
        b.addAction(function() {
            b.stop();
            a.alpha = 1;
            d.alpha = 0
        }, b.duration - 1);
    else {
        var c = AFSpriteWrap(spriteAssets.getByID("chair"));
        b.addChild(c)
    }
    b.setFreeSpinBg = function(c) {
        a.alpha = 1;
        b.play(c ? 0 : 501)
    }
}
ReelBackgroundMovie.prototype = new AF.Movie;
var HQ_staticSymbolScale = 0.5
  , STATIC_SYMBOL_SCALE = 1
  , BLUR_SYMBOL_SCALE = 1
  , STATIC_SYMBOL_OFFSET_X = 0
  , STATIC_SYMBOL_OFFSET_Y = 0
  , BLUR_SYMBOL_OFFSET_X = 0
  , BLUR_SYMBOL_OFFSET_Y = 0;
isStandardQualityFlag() || (STATIC_SYMBOL_SCALE = HQ_staticSymbolScale || 1);
var TPTextures = []
  , TPBlurredTextures = []
  , symTextures = []
  , symSprites = []
  , symAnims = [];
function initSymbolsData() {
    for (var b, a = 0; a < _SYM_TOTAL_NUM; a++)
        b = spriteAssets.getByID("assetSymbols"),
        symTextures.push(b.path),
        symSprites.push([{
            x: (b.w + 2 * b.margin) * (a % b.cols) + b.margin,
            y: (b.h + 2 * b.margin) * Math.floor(a / b.cols) + b.margin,
            w: b.w,
            h: b.h,
            designW: b.dWidth,
            designH: b.dHeight
        }]),
        symAnims.push([{
            t: 0,
            a: 1,
            x: b.x,
            y: b.y
        }]),
        isDiceVersion || (TPTextures[a] = "sym" + (10 > a ? "0" + a : a),
        TPBlurredTextures[a] = "Sym" + (10 > a ? "0" + a : a) + "_blur")
}
;function Slot() {
    this.currentSymbol = 0;
    this.L2sym = this.L1sym = this.L0sym = null;
    this.symbols = [];
    this.TPsymbols = [];
    this.TPsymbols1 = [];
    this.TPsymbols2 = [];
    var b, a;
    for (b = 0; b < _SYM_TOTAL_NUM; b++)
        isDiceVersion ? (a = new ngImage2(game.ASSET_MANAGER.getAsset(symTextures[b])),
        a.setAnimConfig(symSprites[b], symAnims[b]),
        this.symbols.push(a)) : a = new TPSymbolImage(TPTextures[b],TPBlurredTextures[b]),
        this.TPsymbols.push(a);
    this.setSymbol = function(a) {
        this.currentSymbol = a;
        this.L0sym = this.TPsymbols[a];
        this.L1sym = this.TPsymbols1[a];
        this.L2sym = this.TPsymbols2[a]
    }
    ;
    this.animates = function() {
        return !1
    }
    ;
    this.draw = function(a, b) {
        this.L0sym.drawXY(a, b);
        null != this.L1sym && (this.L1sym.drawXY(a, b),
        null != this.L2sym && this.L2sym.drawXY(a, b))
    }
    ;
    this.update = function() {}
    ;
    this.startAnim = function() {}
    ;
    this.stopAnim = function() {}
}
function createPaylineVectorsCustom(b, a, d, c, e, f, g, k, p, n) {
    var q = [], r = [], l = [], j, o, s, y, I = (p + k) * (_NUM_REELS - 1) + p;
    for (j = 0; j < d.length; j++) {
        l[j] = [];
        for (o = 0; o < d[j].length; o++)
            0 == d[j][o].x ? (s = e.x - game.layout.paylineEndHeadXLeft,
            y = d[j][o].y + f.y + c / 2,
            r = 0) : (s = e.x + I + game.layout.paylineEndHeadXRight,
            y = d[j][o].y + g.y + c / 2,
            r = 1),
            l[j].push({
                x: s,
                y: y,
                d: r
            })
    }
    for (j = 0; j < l.length; j++) {
        r = [];
        if (0 == l[j][0].d) {
            s = l[j][0].x;
            d = y = l[j][0].y;
            r.push(TranslatePosition(s, y));
            s = l[j][0].x + game.layout.paylineEndOffsetX;
            r.push(TranslatePosition(s, y));
            for (o = 0; o < b[j].length; o++)
                if (0 <= b[j][o]) {
                    s = e.x + (p + k) * o + p / 2;
                    switch (a[j][o]) {
                    case 0:
                        y = e.y + b[j][o] * n + n / 2;
                        break;
                    case 1:
                        y = d
                    }
                    r.push(TranslatePosition(s, y))
                }
            if (1 < l[j].length)
                s = l[j][1].x,
                y = l[j][1].y;
            else
                switch (s = e.x + I - game.layout.reelBorderMarginXRight,
                a[j][4]) {
                case 0:
                    y = e.y + b[j][4] * n + n / 2;
                    break;
                case 1:
                    y = d
                }
        } else {
            s = e.x + I + game.layout.paylineEndHeadXRight;
            o = 1 < l[j].length ? 1 : 0;
            d = y = l[j][o].y;
            r.push(TranslatePosition(s, y));
            s = e.x + I - game.layout.paylineEndOffsetX;
            r.push(TranslatePosition(s, d));
            for (o = b[j].length - 1; 0 <= o; o--)
                if (0 <= b[j][o]) {
                    s = e.x + (p + k) * o + p / 2;
                    switch (a[j][o]) {
                    case 0:
                        y = e.y + b[j][o] * n + n / 2;
                        break;
                    case 1:
                        y = d
                    }
                    r.push(TranslatePosition(s, y))
                }
            if (0 <= b[j][0])
                if (1 < l[j].length)
                    s = l[j][0].x,
                    y = l[j][0].y;
                else
                    switch (s = e.x + game.layout.reelBorderMarginXLeft,
                    y = e.y + b[j][0] * n + n / 2,
                    a[j][0]) {
                    case 0:
                        y = e.y + b[j][0] * n + n / 2;
                        break;
                    case 1:
                        y = d
                    }
        }
        r.push(TranslatePosition(s, y));
        q.push(r)
    }
    return q
}
function TranslatePosition(b, a) {
    return {
        x: b - game.layout.REELS.x,
        y: a - game.layout.REELS.y
    }
}
;function InitGameSoundsHQ() {
    AF.Container.call(this);
    game.soundsArray = {};
    var b = null, b = null, a;
    for (a in gAudioSettings.spritemap)
        gAudioSettings.spritemap.hasOwnProperty(a) && (b = gAudioSettings.spritemap[a],
        b = b.loop ? new LoopSound(a) : new SingleSound(a),
        this.addChild(b),
        game.soundsArray[a] = b);
    game.soundsArray.FoxinIntro.onEnd = function() {
        game.ambienceSounds.playSound()
    }
    ;
    game.soundsArray.DiamondShower.onEnd = function() {
        game.scatterTrigger && (game.bigWinAfterFeature = !0,
        game.ambienceSounds.playSound("FreeGamesLoop"));
        game.freeGames.m_bInFreeGames && game.gameState != SS_FREEGAME_SUMMARY && setTimeout(function() {
            game.ambienceSounds.playSound("FreeGamesLoop")
        }, game.ambienceSounds.startDelay);
        game.isBigWin && 0 < game.autoPlayGames && game.resetBigWin()
    }
    ;
    game.soundsArray.FreeGamesSummary.onEnd = function() {
        game.ambienceSounds.playSound("Ambience-BaseGame")
    }
}
InitGameSoundsHQ.prototype = new AF.Container;
function onBigWinBellEnd() {
    game.isBigWin && (3 === game.lastFeature ? 0 < game.preBonusLineWinAmount && startBigWinRollUp() : startBigWinRollUp(),
    game.ambienceSounds.startDelay = 2100,
    game.playSoundHQ("DiamondShower"))
}
function startBigWinRollUp() {
    var b = getSoundDuration("DiamondShower");
    game.isBigWinMetereReady = !0;
    game.WIN_METER_DISPLAY_TIME = b + 2E3;
    game.WIN_ROLLUP_TIME = b;
    game.account.ROLLUP_TIME = b;
    game.winMeterDisplayCounter = game.WIN_METER_DISPLAY_TIME;
    game.winMeterIncrementCounter = 0;
    game.account.rollUpCounter = 0;
    game.ui.showWinMeter(!0)
}
function AmbienceSoundHQ() {
    var b = this;
    b.playing = !1;
    var a = "";
    this.startDelay = 0;
    b.playSound = function() {
        if (!game.mute) {
            var d = "Ambience-BaseGame";
            0 < arguments.length ? d = arguments[0] : game.freeGames.m_bInFreeGames && (d = "FreeGamesLoop");
            if (a != d || !b.playing)
                b.playing && game.stopSoundHQ(a),
                game.playSoundHQ(d),
                a = d,
                b.playing = !0
        }
    }
    ;
    b.stopSound = function() {
        b.playing = !1;
        game.stopSoundHQ(a);
        a = ""
    }
    ;
    b.terminate = function() {
        b.stopSound()
    }
}
function WinSoundHQ() {
    var b = this;
    b.winSounds = [];
    var a = [["WinTune1A", "WinTune1B", "WinTune1C"], ["WinTune2A", "WinTune2B"], ["WinTune3A", "WinTune3C"], ["WinTune4C"]]
      , d = Array(a.length)
      , c = [0, 0.8, 2, 6, 15];
    b.currentWinLevel = 0;
    b.init = function() {
        b.parseWinData();
        b.currentWinSoundDuration = 2E3;
        b.winSounds = [];
        game.freeGames.m_bInFreeGames ? b.isBigWin && (game.ambienceSounds.stopSound(),
        b.currentWinSoundDuration = getSoundDuration("DiamondShower"),
        game.freeGames.m_RespinTimer = b.currentWinSoundDuration) : b.isBigWin ? (game.isWildWin = !1,
        b.currentWinSoundDuration = getSoundDuration("DiamondShower"),
        0 < b.inBonusFeature && b.winSounds.push("FeatureLoop-FoxFunds"),
        game.scatterTrigger && (game.stopSoundHQ(),
        b.winSounds.push("ScatterSym-Trigger"))) : 0 < b.inBonusFeature ? b.winSounds.push("FeatureLoop-FoxFunds") : game.scatterTrigger ? (game.freeGames.m_TriggerTimer = 4E3,
        game.stopSoundHQ(),
        game.ambienceSounds.playSound("FreeGamesLoop"),
        game.scatterTrigger = !1,
        b.winSounds.push("FreeGamesRollup"),
        game.account.rollUpCounter = 0,
        game.startWinMeter(game.winMeterLastAmount, game.slotResult.winAmount),
        game.account.addWin(game.slotResult.winAmount),
        game.dontShowWinMeterOnRecovery = !0) : game.isWildWin ? b.winSounds.push("WildSym") : game.scatterPay ? b.winSounds.push("ScatterSym-Pay") : this.setWinSounds();
        this.playWinSounds()
    }
    ;
    this.setWinSounds = function() {
        b.currentWinSoundDuration = 0;
        if (-1 < b.currentWinLevel) {
            b.randomizeWinSound();
            var c = a[b.currentWinLevel][d[b.currentWinLevel]];
            b.winSounds.push(c);
            b.currentWinSoundDuration = getSoundDuration(c)
        }
    }
    ;
    this.playWinSounds = function() {
        if (!game.scatterTrigger) {
            0 < game.autoPlayGames && (game.isAutoPlayWait = !0,
            setTimeout(function() {
                game.isAutoPlayWait = !1
            }, b.currentWinSoundDuration));
            for (var a = 0; a < b.winSounds.length; a++)
                game.playSoundHQ(b.winSounds[a])
        }
    }
    ;
    b.parseWinData = function() {
        b.isBigWin = !1;
        b.inBonusFeature = 0;
        game.slotResult.winType & WT_PICK_FEATURE_TRIGGER && (b.inBonusFeature = Number(feature.animType) + 2);
        b.currentWinLevel = -1;
        var a = game.slotResult.currentWinAmount / game.account.getBetAmount()
          , d = !game.freeGames.m_bInFreeGames && 0 < game.slotResult.freeGamesWon;
        if (a >= c[c.length - 1] && !game.dontShowWinMeterOnRecovery)
            b.currentWinLevel = c.length,
            d || (b.isBigWin = !0);
        else
            for (d = c.length - 2; 0 <= d; d--)
                if (a > c[d]) {
                    b.currentWinLevel = d;
                    break
                }
        for (d = a = 0; d < game.slotResult.numWinningPaylines; d++)
            a |= game.slotResult.paylineWins[d].second;
        game.isWildWin = !1;
        game.scatterPay = !1;
        game.scatterTrigger = !1;
        for (d = 0; 3 > d; d++)
            for (var g = 0; 5 > g; g++) {
                var k = game.reelMan.reels[g].slots[d + 1].currentSymbol;
                a & 1 && (0 == k ? game.isWildWin = !0 : 11 == k && !(game.slotResult.winType & WT_FEATURE_TRIGGER) ? game.scatterPay = !0 : 11 == k && (game.scatterTrigger = !0));
                a >>= 1
            }
    }
    ;
    b.randomizeWinSound = function() {
        if (!b.isBigWin) {
            var c = -1
              , f = a[b.currentWinLevel].length;
            do
                c = Math.floor(Math.random() * f);
            while (1 < f && d[b.currentWinLevel] == c)
        }
        d[b.currentWinLevel] = c
    }
    ;
    b.terminate = function() {
        game.stopSoundHQ("ScatterSym-Trigger");
        game.stopSoundHQ("WildSym");
        for (var a = 0; a < b.winSounds.length; a++)
            game.soundsArray[b.winSounds[a]] && game.soundsArray[b.winSounds[a]].terminate()
    }
}
function StartSpinSoundHQ() {
    var b = null
      , a = 1;
    this.playSound = function() {
        game.stopSoundExceptLoopHQ();
        b = game.soundsArray["ReelSpin" + a];
        b.init();
        a++;
        8 < a && (a = 1)
    }
    ;
    this.terminate = function() {
        b && b.terminate();
        b = null
    }
    ;
    this.onEnd = function() {}
}
function FoxPupOnReelSoundHQ() {
    var b = ["Pups-Giggle", "Pups-Whee", "Pups-Woohoo", "Pups-Yayyy1", "Pups-Yayyy2"]
      , a = 0
      , d = 1
      , c = -1
      , e = -1
      , f = b.length;
    this.init = function() {
        for (; c == a; )
            a = Math.floor(Math.random() * f);
        for (c = a; e == d || d == a; )
            d = Math.floor(Math.random() * f);
        e = d;
        game.soundsArray[b[a]].init();
        game.soundsArray[b[d]].init()
    }
    ;
    this.terminate = function() {
        game.soundsArray[b[a]].terminate();
        game.soundsArray[b[d]].terminate()
    }
    ;
    this.onEnd = function() {}
}
function LoopSound(b) {
    var a = this;
    AF.Container.call(a);
    a.loop = !0;
    a.playing = !1;
    a.sndID = b;
    a.playing && 500 > a.time || (a.init = function() {
        !game.mute && !a.playing && (a.playing = !0,
        playSound(b))
    }
    ,
    a.end = function() {
        a.playing = !1;
        game.stopSound(b)
    }
    ,
    a.mute = function(a) {
        muteSound(b, a)
    }
    ,
    a.terminate = function() {
        a.playing && a.end()
    }
    ,
    a.draw = function() {}
    )
}
LoopSound.prototype = new AF.Container;
function SoundTimer(b) {
    var a = this;
    AF.Movie.call(a, b);
    a.playing = !1;
    a.draw = function() {}
    ;
    a.addAction(function() {
        a.end()
    }, a.duration - 1);
    a.init = function() {
        a.playing && 500 > a.time || (a.play(0),
        a.playing = !0)
    }
    ;
    a.end = function() {
        a.stop(0);
        a.playing = !1;
        a.onEnd()
    }
    ;
    a.onEnd = function() {}
    ;
    a.terminate = function() {
        a.playing && a.end()
    }
}
SoundTimer.prototype = new AF.Movie;
function SingleSound(b) {
    var a = this;
    AF.Movie.call(a, getSoundDuration(b));
    a.loop = !1;
    a.playing = !1;
    a.sndID = b;
    a.draw = function() {}
    ;
    a.addAction(function() {
        a.end()
    }, a.duration - 1);
    a.init = function() {
        a.playing && 500 > a.time || (a.play(0),
        a.playing = !0,
        playSound(b))
    }
    ;
    a.end = function() {
        a.stop(0);
        a.playing = !1;
        a.onEnd()
    }
    ;
    a.onEnd = function() {}
    ;
    a.terminate = function() {
        a.playing && (a.end(),
        game.stopSound(b))
    }
}
SingleSound.prototype = new AF.Movie;
function playSound(b) {
    gAudioSettings.spritemap[b] && game.playSound(b)
}
function getSoundDuration(b) {
    if (!gAudioSettings.spritemap[b])
        return 5E3;
    var a = 5E3;
    return a = gAudioSettings.spritemap[b].duration ? gAudioSettings.spritemap[b].duration : Math.round(1E3 * gAudioSettings.spritemap[b].end - 1E3 * gAudioSettings.spritemap[b].start + 1)
}
muteSound = function(b, a) {
    if (game.myPlayer)
        for (var d = game.myPlayer.updateActiveNode(), c = 0; c < d.length; c++)
            if (b == d[c][1]) {
                a ? game.myPlayer.howler.mute(d[c][1]) : game.myPlayer.howler.unmute(d[c][1]);
                break
            }
}
;
game.api_mute = function(b) {
    game.mute = b;
    game.ambienceSounds && (b ? game.ambienceSounds.terminate() : game.ambienceSounds.playSound())
}
;
function MessageBar() {
    this.m_Text = "";
    var b = new AF.BufferedPanel(game.layout.MESSAGE_BAR.w,game.layout.MESSAGE_BAR.h);
    b.x = game.layout.MESSAGE_BAR.x;
    b.y = game.layout.MESSAGE_BAR.y;
    var a = new AF.Text
      , d = {
        font: "arial",
        size: 24,
        bold: !0,
        align: "center",
        color: "FFFFFF"
    }
      , d = MESSAGE_BAR_FORMAT_HQ;
    d.x = 0;
    d.y = 0;
    d.lside = 0;
    d.rside = 540;
    d.maxWidth = 540;
    a.setMixedFormat(d);
    b.addChild(a);
    this.setText = function(a) {
        this.m_Text = a
    }
    ;
    this.setPosition = function() {}
    ;
    this.draw = function(c) {
        a.text != this.m_Text && (a.text = this.m_Text,
        b.reset());
        b.draw(c)
    }
}
;game.storage.init("foxinwins", "1.0.0");
METRICS.init();
METRICS.setLangCode(windowObj.wrapperAPI("GET_LANGUAGE_CODE"));
METRICS.setWelcomeSkipped();
game.account.setNumPaylines(25, 25);
game.defaultStops = [2, 8, 23, 15, 24];
var RTP_VALUE = ["95.223%", "95.330%", "95.618%"];
gameViewMan.dynamicResolution = !0;
gameViewMan.designScale = isStandardQualityFlag() ? 1 : 0.5;
gameConfig.drawPaylineEnds = !1;
var BIG_WIN_RESPIN_TIMER_DELAY = 5E3
  , feature = null
  , graphicsQuality = "sq";
isStandardQualityFlag() || (graphicsQuality = "hq");
var bufferedBGObj, basebufferBGObj, backgroundHandler = new BackgroundHandler;
backgroundHandler.initBackground();
var introMovie, randomSprayAnim, gameTitle, SSS = null, ABPM = null, spinningFeatureStopped = !0, featurePair = "", featureFPM = "", featureResult = null, symbolTwists, bigWinAnim, freeMovie, growSymbols, reelStops = [1, 1, 1, 1, 1], FreeRoundsBet_SB = null, FreeRoundsEnable_SB = null, autoDelayAfterFeature = !1, objWindUp = null, srsCount = 0, whyzzByCount = 0;
game.isTwist = !1;
game.featureParsed = !1;
game.bigWinAfterFeature = !1;
game.lastFeature = 0;
game.summaryMovie = null;
game.isPostBonusBigWin = !1;
game.isAutoPlayWait = !1;
game.recoverBonusFeature = 0;
game.spaceSpinAvailable = !0;
game.loadedComplete = !1;
game.muteBeforeLoad = null;
var communicator = new nggSlotCommunicator;
game.uapi_superBetChange = function() {
    game.winSounds.terminate();
    game.resetBigWin();
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    this.ui.insufficientFunds = !this.account.canBet();
    this.paylineShowDelay = 0;
    this.showLines(!1);
    this.account.clearWin();
    this.snapWinMeter()
}
;
game.uapi_superBetChangeFinal = function() {
    this.ui.insufficientFunds = !this.account.canBet()
}
;
game.uapi_betUp = function() {
    game.winSounds.terminate();
    game.resetBigWin();
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    this.account.incBetIndex();
    this.ui.insufficientFunds = !this.account.canBet();
    this.paylineShowDelay = 0;
    this.setState(SS_STOPPED);
    this.showLines(!1);
    this.account.clearWin();
    this.ui.setMeterText("bet", this.account.getBetPerLineStr());
    this.api_betChanged();
    this.snapWinMeter();
    this.account.getBetIndex() === game.account.getBetAmountsLength() - 1 ? this.playSound("Bet-Max") : this.playSound("Bet-Raise")
}
;
game.uapi_betDown = function() {
    game.winSounds.terminate();
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    game.resetBigWin();
    this.account.decBetIndex();
    this.ui.insufficientFunds = !this.account.canBet();
    this.paylineShowDelay = 0;
    this.setState(SS_STOPPED);
    this.showLines(!1);
    this.account.clearWin();
    this.playSound("Bet-Lower");
    this.ui.setMeterText("bet", this.account.getBetPerLineStr());
    this.api_betChanged();
    this.snapWinMeter()
}
;
game.uapi_betMax = function() {
    game.winSounds.terminate();
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    game.resetBigWin();
    this.playSound("Bet-Max")
}
;
game.api_betChanged = function() {
    game.winSounds.terminate();
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    game.resetBigWin();
    this.account.clearWin();
    this.snapWinMeter()
}
;
game.api_drawLowerLevelFeature = function() {
    game_ui.draw(ctx);
    gameTitle.draw(ctx);
    symbols.draw(ctx);
    feature.draw(ctx)
}
;
game.api_drawFeature = function() {
    var b = spriteAssets.getByID("chair")
      , a = gameViewMan.viewScale;
    ctx.drawImage(b.img, 0, 0, b.img.width, b.img.height, b.x * a, b.y * a, b.dWidth * a, b.dHeight * a);
    game.summaryMovie.draw(ctx);
    introMovie.draw(ctx);
    freeMovie.draw(ctx);
    randomSprayAnim.draw(ctx);
    bigWinAnim.draw(ctx)
}
;
game.api_changeOrientation = function() {
    game_ui.changeOrientation();
    feature.setSize(5 * game.layout.symbolWidth + 4 * game.layout.reelGap, 3 * game.layout.symbolHeight);
    feature.setPosition(game.layout.REELS.x, game.layout.REELS.y);
    symbols.x = game.layout.REELS.x;
    symbols.y = game.layout.REELS.y
}
;
game.api_playVerySmallWinAnim = function() {
    if (game.dontShowWinMeterOnRecovery)
        this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
    else if (!game.currentBonusFeature) {
        0 < this.slotResult.currentWinAmount && gameTitle.startAnim();
        var b = (this.slotResult.linesBet + this.account.superbet) * this.slotResult.betPerLine;
        this.slotResult.currentWinAmount >= 6 * b && this.slotResult.currentWinAmount < 15 * b && (randomSprayAnim.init().startAnim(0, 8E3),
        b = getSoundDuration("WinTune4C"),
        this.freeGames.m_TriggerTimer = b + 2E3);
        if (this.slotResult.currentWinAmount >= 15 * (this.slotResult.linesBet + this.account.superbet) * this.slotResult.betPerLine) {
            var b = getSoundDuration("DiamondShower")
              , a = getSoundDuration("BigWinBell");
            randomSprayAnim.init().startAnim(0, Number(b + 1E3));
            game.isBigWin = !0;
            game.freeGames.m_RespinTimer = b + a + 1500;
            0 < game.lastFeature && 1 > game.preBonusLineWinAmount && (this.winMeterDisplayCounter = b + a + 1500);
            bigWinAnim.init();
            game.spaceSpinAvailable = !1;
            game.playSoundHQ("BigWinBell");
            game.playSoundHQ("Pups-BigWinYAYYY");
            this.freeGames.m_TriggerTimer = b + 500;
            game.enableAllUI(!1)
        }
    }
}
;
game.api_buttonsUp = function() {
    "function" === typeof game_ui.buttonsUp && game_ui.buttonsUp()
}
;
game.api_featureBtnEnable = function(b) {
    FreeRoundsEnable_SB ? game_ui.disable() : game_ui.enable(b)
}
;
game.api_featureBtnDisable = function() {
    game_ui.disable()
}
;
game.api_IsBonusFeatureTriggered = function() {
    return Boolean(2 === game.currentBonusFeature)
}
;
game.api_beginFeature = function() {
    feature.triggerFeature || (feature.m_TriggerTimer = feature.TRIGGER_TIMER_DELAY,
    feature.inFeature = !0,
    feature.setState(FS_START),
    feature.triggerFeature = !0)
}
;
game.api_inFeature = function() {
    game.slotResult.winType & WT_PICK_FEATURE_TRIGGER && (this.idleTextTimer = this.idleTextDelay);
    return introMovie.visible || game_ui.inFeature || feature.inFeature
}
;
game.api_lastFreeGameFinish = function() {
    if (0 == this.slotResult.winType)
        game.summaryMovie.start(this.slotResult.winAmount);
    else {
        var b = this
          , a = this.WIN_METER_DISPLAY_TIME;
        game.isBigWin && (a = getSoundDuration("DiamondShower"));
        setTimeout(function() {
            game.summaryMovie.start(b.slotResult.winAmount)
        }, a + 5E3)
    }
}
;
game.api_startSpinAction = function() {
    objWindUp.reset();
    game.scattersCount = 0;
    game.freeGames.m_bInFreeGames || game.spinSounds.playSound();
    game.isBigWinMetereReady = !1;
    symbolTwists.wildChangeArray = null
}
;
game.api_beforeFirstFreeGame = function() {
    game.freeGames.m_bInFreeGames ? this.startSpin() : (game.spaceSpinAvailable = !1,
    freeMovie.start())
}
;
game.api_startGame = function() {
    this.inRecovery || (introMovie.start(),
    game.playSoundHQ("FoxinIntro"))
}
;
game.api_startAmbienceSound = function() {}
;
game.api_playBigWinSounds = function() {
    return this.slotResult.currentWinAmount >= 6 * (this.slotResult.linesBet + this.account.superbet) * this.slotResult.betPerLine || this.slotResult.winType & WT_PICK_FEATURE_TRIGGER
}
;
game.api_playFreeWinSounds = function() {
    (this.slotResult.winType & WT_LARGE_WIN || this.slotResult.winType & WT_FEATURE_TRIGGER || this.api_playBigWinSounds()) && this.api_startWinAnim();
    this.playSoundSQ("Shake-Rollup")
}
;
game.api_resetWinMeterTimer = function() {
    this.slotResult.winType & WT_PICK_FEATURE_TRIGGER && (this.winMeterDisplayCounter = 11E3)
}
;
game.api_extendSpinMsg = function(b) {
    return b + "ABPM=" + game.account.superbet + "&"
}
;
game.api_parseFeaturePrizes = function(b) {
    featurePair = b;
    null != feature && (feature.clear(),
    feature.parsePrizes(featurePair))
}
;
game.api_parseSSS = function(b) {
    "ESCAPE" != b ? (SSS = b.split(";"),
    spinningFeatureStopped = !1) : SSS = "ESCAPE"
}
;
game.api_getABPM = function(b) {
    ABPM = b
}
;
game.api_spinningFeatureStopped = function() {
    (0 != game.slotResult.numFreeGames || game.freeGames.m_bInFreeGames) && this.autoPlay && resetAutoPlay();
    return spinningFeatureStopped
}
;
function resetAutoPlay() {
    game.autoPlay = !1;
    game.requestToStopAutoPlay = !1;
    game.ui.autoPlayMode = game.ui.AUTO_OFF;
    game.autoPlayGames = 0
}
game.api_runSpinningStoppedFeature = function() {
    game_ui.state = 0;
    null != SSS && "ESCAPE" == SSS && (null != feature && feature.clear(),
    game.slotResult.winType |= WT_PICK_FEATURE_TRIGGER)
}
;
game.api_playFreeSpinSound = function() {
    whyzzByCount = srsCount = 0;
    var b = game.slotResult.numFreeGames;
    game.inRecovery && b++;
    0 == b % 2 ? game.playSoundSQ("freespin1") : game.playSoundSQ("freespin2")
}
;
game.api_playSpinSound = function() {
    whyzzByCount = srsCount = 0
}
;
game.api_parseFPM = function(b) {
    featureFPM = b;
    null != feature && feature.parseFPM(featureFPM)
}
;
game.api_drawPaylinesOverSymbolsFlag = function() {
    return 2 >= game.gCurrentFlash
}
;
game.api_isMetersUpdateableOnPayline = function() {
    return !(0 < game.currentBonusFeature && 0 === feature.currentPick || game.isPostBonusBigWin) && 3 > game.lastFeature
}
;
var oldWelcome = Welcome
  , Welcome = function() {
    oldWelcome.call(this)
};
game.api_SetFreeRoundAnteBet = function(b) {
    null != b && FreeRoundsBet_SB != Number(b) && (FreeRoundsBet_SB = Number(b),
    "function" == typeof game_ui.setSuperBetState && (ABPM = FreeRoundsBet_SB,
    game_ui.setSuperBetState(game_ui.SP_BET_STOP),
    game.account.superbet = Number(ABPM),
    game_ui.superbetOption = 0 == game.account.superbet ? 0 : 10 == game.account.superbet ? 1 : 25 == game.account.superbet ? 2 : 0,
    game_ui.setButtonGlow(),
    game_ui.setSuperBetState(game_ui.SP_BET_CHANGE)))
}
;
game.api_EnableFreeRoundAnteBet = function(b) {
    null != b && null != game_ui.btnSuperBetno_off ? (FreeRoundsEnable_SB = b,
    !1 == b && game_ui.resetSuperBet()) : FreeRoundsEnable_SB = b
}
;
game.api_drawBackground = function() {
    reelBackground.draw(ctx)
}
;
var initAssets = function() {
    initOptimization();
    var b;
    game.isBigWin = !1;
    var a = [];
    a.push({
        reelStop: "-1;-1;-1;-1;-1;1;1;80",
        name: "Bonus catch"
    });
    a.push({
        reelStop: "-1;-1;-1;-1;-1;1001;1",
        name: "Bonus escape"
    });
    a.push({
        reelStop: "-1;-1;-1;-1;-1;1;1;1",
        name: "Bonus pot"
    });
    a.push({
        reelStop: "23;23;13;23;6",
        name: "Fox Pup"
    });
    a.push({
        reelStop: "8;14;8;3;1",
        name: "FG"
    });
    a.push({
        reelStop: "8;14;26;3;17",
        name: "2xScatter"
    });
    a.push({
        reelStop: "28;17;24;5;21",
        name: "x20win"
    });
    a.push({
        reelStop: "16;8;27;19;8",
        name: "x10win"
    });
    a.push({
        reelStop: "12;25;18;6;10",
        name: "x6win"
    });
    a.push({
        reelStop: "29;26;19;26;30",
        name: "x2win"
    });
    a.push({
        reelStop: "26;18;16;26;30",
        name: "x0.2win"
    });
    a.push({
        reelStop: "2;2;23;15;24",
        name: "WILD"
    });
    a.push({
        reelStop: "18;12;16;22;6",
        name: "any win"
    });
    a.push({
        reelStop: "2;8;23;15;24",
        name: "no win"
    });
    game.NUM_FLASHES_ALL_LINE = 2;
    createTestButtons(a);
    initializeTPConfigs();
    initSymbolsData();
    for (b in assetsConfig.uiLayout)
        game.ui.layout[b] = assetsConfig.uiLayout[b];
    for (b in assetsConfig.layout)
        game.layout[b] = assetsConfig.layout[b];
    b = {
        meterBGImage: spriteAssets.getByID("top_bar_bg").img,
        meterWidth: 960,
        meterHeight: 32
    };
    game.meters = new Meters(b);
    bkcanv.height = 1800;
    game.meters.setBackground([{
        p: 0,
        col: "#a45e00"
    }, {
        p: 1,
        col: "#fdbb1a"
    }]);
    game.layout.generatePaylineVectors();
    feature = new PickFeature;
    "" != featureFPM && feature.parseFPM(featureFPM);
    "" != featurePair && feature.parsePrizes(featurePair);
    game.messageBar = new MessageBar;
    game.isBigWinMetereReady = !1;
    game.idleTextDelay = MESSAGE_ROTATION_SPEED || 3E3;
    textManager.addFormats(languageFormats);
    game.messageBar.align = "center";
    game.messageBar.font = MESSAGE_BAR_FONT;
    game.messageBar.m_Text = TXT_SCROLL_MESSAGES[0];
    game.imageReelBG = null;
    game.imageReelBGfree = null;
    game.imageGameName = null;
    game.imageTurnDevice = spriteAssets.getByID("turndevice").img;
    isDiceVersion && (game.imagePaylineEnds = spriteAssets.getByID("paylinesend").img);
    game.ui.initAssets(!1);
    game.ui.insufficientFundsTxt.m_Color = "#1c0077";
    game.ui.insufficientFundsTxt.font = "bold 30px Arial";
    game.reelMan = new ReelManager;
    for (b = 0; b < _NUM_REELS; b++)
        game.reelMan.reels[b].setFastSpin = function() {
            WINDUP_TIME = 200;
            BOUNCE_TIME = 400
        }
        ;
    game.api_switchReels();
    overridenFunctions.updateReelManager = reelManagerUpdateOverride;
    game.reelMan.update = reelManagerUpdate;
    reelBackground = new ReelBackgroundMovie;
    AF.Movie.root.addChild(reelBackground);
    game_ui = new game_ui;
    null != FreeRoundsBet_SB && (ABPM = FreeRoundsBet_SB);
    null != ABPM && (game_ui.setSuperBetState(game_ui.SP_BET_STOP),
    game.account.superbet = Number(ABPM),
    game_ui.superbetOption = 0 == game.account.superbet ? 0 : 10 == game.account.superbet ? 1 : 25 == game.account.superbet ? 2 : 0,
    game_ui.setSuperBetState(game_ui.SP_BET_CHANGE));
    game.frEnabled = !0;
    game_ui.initAssets();
    game.summaryMovie = new SummaryMovie;
    AF.Movie.root.addChild(game.summaryMovie);
    game.summaryMovie.visible = !1;
    freeMovie = new FreeMovie;
    AF.Movie.root.addChild(freeMovie);
    freeMovie.visible = !1;
    introMovie = new IntroMovie;
    AF.Movie.root.addChild(introMovie);
    game.inRecovery && (introMovie.visible = !1);
    gameTitle = new GameTitleAnim;
    gameTitle.visible = !0;
    AF.Movie.root.addChild(gameTitle);
    isDiceVersion ? (randomSprayAnim = new RandomSprayAnim,
    randomSprayAnim.setAnimConfig()) : (randomSprayAnim = new RandomSprayAnimHQ,
    AF.Movie.root.addChild(randomSprayAnim));
    symbols = new SymbolsMovie;
    AF.Movie.root.addChild(symbols);
    symbolTwists = new SymbolTwistArray;
    bigWinAnim = new BigWinAnim;
    AF.Movie.root.addChild(bigWinAnim);
    isStandardQualityFlag() && (game.ui.winMeter = new WinMeterText,
    game.ui.winMeter.font = "undefined" === typeof WIN_METER_FONT ? "48px arial" : WIN_METER_FONT,
    game.ui.winMeter.align = "center",
    game.ui.winMeter.m_Text = "WIN: OOPS!",
    game.ui.winMeter.m_Color = "#FFFF00");
    game.winMeter = new WinMeterGraphic(game.ui.winMeter);
    isStandardQualityFlag() && (overridenFunctions.uiDraw = game.ui.draw,
    game.ui.draw = uiDraw);
    initSound = new InitGameSoundsHQ;
    AF.Movie.root.addChild(initSound);
    game.spinSounds = new StartSpinSoundHQ;
    game.foxPupOnReelSounds = new FoxPupOnReelSoundHQ;
    game.winSounds = new WinSoundHQ;
    game.ambienceSounds = new AmbienceSoundHQ;
    objWindUp = new WindUp
};
uiDraw = function() {
    overridenFunctions.uiDraw.call(game.ui);
    !this.disableAllUI && this.state == this.VIEW_GAME && (game.winMeter.draw(ctx, this.winMeter),
    this.winMeterShow ? !game.winMeter.visible && game.winMeter.showStart && game.winMeter.start() : game.winMeter.visible && !game.winMeter.showStart && game.winMeter.finish())
}
;
game.api_spinStarted = function() {
    randomSprayAnim.stopAnim();
    gameTitle.stopAnim();
    game.stopSoundHQ("FeatureLoop-FoxFunds")
}
;
game.api_featureUpdate = function(b) {
    1E5 > b && AF.Movie.update(b);
    randomSprayAnim.update(b);
    game_ui.updateSuperBetBar(b)
}
;
game.api_switchReels = function() {
    for (var b = communicator.getMarker("RID"), b = communicator.getMarker("RST_" + b), a = 0; a < b.length; a++)
        game.reelMan.setReelStrip(a, b[a])
}
;
game.api_freeSpinBgChangeAction = function(b) {
    backgroundHandler.setFreeSpinBg(b);
    reelBackground.setFreeSpinBg(b)
}
;
game.api_autoDelayAfterFeature = function() {
    return autoDelayAfterFeature
}
;
var switchReels = function(b) {
    if (b)
        switch (game_ui.superbetOption) {
        case 0:
            setReels([reelStripFree0, reelStripFree1, reelStripFree2, reelStripFree3, reelStripFree4]);
            break;
        case 1:
            setReels([reelStripFree10_0, reelStripFree10_1, reelStripFree10_2, reelStripFree10_3, reelStripFree10_4]);
            break;
        case 2:
            setReels([reelStripFree25_0, reelStripFree25_1, reelStripFree25_2, reelStripFree25_3, reelStripFree25_4])
        }
    else
        switch (game_ui.superbetOption) {
        case 0:
            setReels([reelStrip0, reelStrip1, reelStrip2, reelStrip3, reelStrip4]);
            break;
        case 1:
            setReels([reelStrip10_0, reelStrip10_1, reelStrip10_2, reelStrip10_3, reelStrip10_4]);
            break;
        case 2:
            setReels([reelStrip25_0, reelStrip25_1, reelStrip25_2, reelStrip25_3, reelStrip25_4])
        }
};
function IntroMovie() {
    AF.Movie.call(this, 4500);
    this.setMask(0, 0, 960, 568);
    var b = !1
      , a = !1
      , d = new IntroPanelMovie;
    d.x = isStandardQualityFlag() ? 230 : 247;
    d.y = isStandardQualityFlag() ? 80 : 70;
    this.addChild(d);
    var c = new BouncingFox;
    c.x = 720;
    c.y = 310;
    this.addChild(c);
    var e = new BouncingFox;
    e.x = 720;
    e.y = 310;
    this.addChild(e);
    var f = game_ui.minionfalling[4];
    this.addTween((new AF.Tween(c,"alpha")).set(500, 0).set(1E3, 1).set(2500, 1).set(2501, 0));
    this.addTween((new AF.Tween(e,"alpha",0)).set(2499).set(2500, 1).set(3500, 0));
    this.addAction(function() {
        b = !0;
        d.visible = !0;
        d.start()
    }, 0);
    this.addAction(function() {
        c.play(0)
    }, 1E3);
    this.addAction(function() {
        game.playSoundHQ("Leprechaun_Pup-Jump")
    }, 1500);
    this.addAction(function() {
        b || a ? this.moveTo(1E3) : e.play(0)
    }, 2500);
    this.addAction(function() {
        game.playSoundHQ("Pups-Yayyy1")
    }, 2900);
    this.addAction(function() {
        f.minionIn = !0;
        f.play(0)
    }, 3E3);
    this.addAction(function() {
        this.visible = !1;
        this.stop()
    }, 4499);
    this.start = function() {
        this.visible = !0;
        a = !1;
        this.play(0)
    }
    ;
    game.api_processClick = function(c) {
        b && (a = !0);
        b || game_ui.processClick(c);
        return b
    }
    ;
    game.api_processClickRelease = function(c) {
        if (a)
            return a = b = !1,
            d.play(501),
            !0;
        b || game_ui.processClickRelease(c);
        return b
    }
}
IntroMovie.prototype = new AF.Movie;
function IntroPanelMovie() {
    AF.Movie.call(this, 1E3);
    var b = new AFSpriteWrap(spriteAssets.getByID("introScreenBg"));
    this.addChild(b);
    b = new AFSpriteWrap(spriteAssets.getByID("superBetLogo"));
    this.addChild(b);
    for (var a = [TXT_INTRO_1, TXT_INTRO_2, TXT_INTRO_3, TXT_INTRO_4, TXT_INTRO_5, TXT_INTRO_6, TXT_INTRO_7], d = 0; d < a.length; d++)
        b = new AF.Text,
        b.setMixedFormat(INTRO_FORMAT),
        b.setMixedFormat(a[d]),
        "hq" == graphicsQuality && a[d][graphicsQuality] && b.setMixedFormat(a[d][graphicsQuality]),
        this.addChild(b);
    this.addTween((new AF.Tween(this,"alpha",1)).set(500).set(1E3, 0));
    this.visible = !0;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop()
    }, 500);
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 999)
}
IntroPanelMovie.prototype = new AF.Movie;
ScatterASymbol.prototype = new AF.Movie;
ScatterBSymbol.prototype = new AF.Movie;
function WildASymbol() {
    AF.Movie.call(this, 2250);
    var b;
    isDiceVersion ? (b = new AFSpriteWrap(spriteAssets.getByID("assetWild")),
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-29", 2250))) : (b = new TPMovieclip("sym00_anim"),
    b.qualityScale = isStandardQualityFlag() ? 1 : 0.5,
    b.pivotOffset = !0,
    b.offsetX = game.layout.symbolWidth / 2 / b.qualityScale,
    b.offsetY = game.layout.symbolHeight / 2 / b.qualityScale,
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-" + (b.framesCount - 1), 2250)));
    this.addChild(b);
    this.addAction(function() {
        this.play(0)
    }, 2249)
}
WildASymbol.prototype = new AF.Movie;
function SymbolsMovie() {
    AF.Movie.call(this);
    var b = [];
    growSymbols = [];
    this.twistSymbols = [];
    for (var a = 0; 5 > a; a++) {
        b.push([]);
        this.twistSymbols[a] = [];
        for (var d = 0; 3 > d; d++) {
            var c = {};
            c["0a"] = new WildASymbol;
            c["0a"].x = a * (game.layout.symbolWidth + game.layout.reelGap);
            c["0a"].y = d * game.layout.symbolHeight;
            c["0a"].visible = !1;
            this.addChild(c["0a"]);
            c["11a"] = new ScatterASymbol;
            c["11a"].x = a * (game.layout.symbolWidth + game.layout.reelGap);
            c["11a"].y = d * game.layout.symbolHeight;
            c["11a"].visible = !1;
            this.addChild(c["11a"]);
            c["11b"] = new ScatterBSymbol;
            c["11b"].x = a * (game.layout.symbolWidth + game.layout.reelGap);
            c["11b"].y = d * game.layout.symbolHeight;
            c["11b"].visible = !1;
            this.addChild(c["11b"]);
            b[a].push(c);
            c = new SymbolTwist;
            c.x = a * (game.layout.symbolWidth + game.layout.reelGap);
            c.y = d * game.layout.symbolHeight;
            c.visible = !1;
            this.twistSymbols[a][d] = c;
            this.addChild(this.twistSymbols[a][d])
        }
        growSymbols[a] = new GrowSymbol;
        growSymbols[a].x = a * (game.layout.symbolWidth + game.layout.reelGap);
        growSymbols[a].visible = !1;
        this.addChild(growSymbols[a])
    }
    this.showTwistSymbols = function(a, b) {
        this.twistSymbols[a][b].init()
    }
    ;
    game.api_animateWins = function() {
        for (var a = 0, c = 0; c < game.slotResult.numWinningPaylines; c++)
            a |= game.slotResult.paylineWins[c].second;
        for (c = 0; 3 > c; c++)
            for (var d = 0; 5 > d; d++) {
                var k;
                k = game.reelMan.reels[d].slots[c + 1].currentSymbol;
                a & 1 && (0 == k && 1 > game.currentBonusFeature ? (k = b[d][c]["0a"],
                k.visible = !0,
                k.play(0)) : 11 == k && 1 > game.currentBonusFeature && !(this.slotResult.winType & WT_FEATURE_TRIGGER) ? (k = b[d][c]["11a"],
                k.visible = !0,
                k.play(0)) : 11 == k && 1 > game.currentBonusFeature && (k = b[d][c]["11b"],
                k.visible = !0,
                k.play(0)));
                a >>= 1
            }
        this.slotResult.winType & WT_PICK_FEATURE_TRIGGER && (this.m_TriggerTimer = this.slotResult.winType > WT_PICK_FEATURE_TRIGGER ? 1 === game.currentBonusFeature || 2 === game.currentBonusFeature ? 1E3 : 3 === game.currentBonusFeature ? 2500 : 5E3 : 1E3)
    }
    ;
    game.api_stopWinAnims = function() {
        for (var a = 0; 3 > a; a++)
            for (var c = 0; 5 > c; c++) {
                var d = b[c][a];
                d["0a"].stop(0);
                d["0a"].visible = !1;
                d["11a"].stop(0);
                d["11a"].visible = !1;
                d["11b"].stop(0);
                d["11b"].visible = !1
            }
    }
}
SymbolsMovie.prototype = new AF.Movie;
function FreeMovie() {
    AF.Movie.call(this, 6E3);
    var b = new FreePanelMovie;
    this.addChild(b);
    b.x = isStandardQualityFlag() ? 230 : 247;
    b.y = isStandardQualityFlag() ? 80 : 70;
    this.addTween((new AF.Tween(b,"alpha",0)).set(1E3, 1).set(5E3).set(6E3, 0));
    this.addAction(function() {
        this.visible = !1;
        this.stop();
        game.startSpin();
        game.spaceSpinAvailable = !0
    }, 5999);
    this.start = function() {
        this.play(0);
        autoDelayAfterFeature = this.visible = !0
    }
}
FreeMovie.prototype = new AF.Movie;
function FreePanelMovie() {
    AF.Movie.call(this);
    var b = new AFSpriteWrap(spriteAssets.getByID("introScreenBg"));
    this.addChild(b);
    for (var a = [TXT_FREE_GAMES_INTRO_TITLE, TXT_FREE_GAMES_INTRO_WON, TXT_FREE_GAMES_WITH, TXT_ALL_PRIZES_DOUBLED, TXT_FREE_GAMES_GOOD_LUCK], d = 0; d < a.length; d++)
        b = new AF.Text,
        b.setMixedFormat(FREE_GAMES_FORMAT),
        b.setMixedFormat(a[d]),
        "hq" == graphicsQuality && a[d][graphicsQuality] && b.setMixedFormat(a[d][graphicsQuality]),
        this.addChild(b)
}
FreePanelMovie.prototype = new AF.Movie;
function BouncingFox() {
    animationLength = 1800;
    AF.Movie.call(this, 1800);
    var b = new TPMovieclip("Jump");
    b.offsetX = 0;
    b.offsetY = 0;
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-" + (b.framesCount - 1), animationLength));
    this.addChild(b);
    this.foxpup = b;
    this.addAction(function() {
        this.stop()
    }, 1799)
}
BouncingFox.prototype = new AF.Movie;
function MinionFalling(b) {
    var a = game.layout.minionFalling.out
      , d = a.param.a
      , c = a.param.f * a.param.s
      , a = 1E3 + 50 * a.param.f;
    this.minionIn = !1;
    AF.Movie.call(this, 4E3);
    var e = new AF.Sprite(spriteAssets.getByID("minion_falling").img,1);
    this.addTween((new AF.Tween(e,"y",e.y)).set(750, e.y + 193).set(1E3, e.y).set(a, e.y + c));
    this.addTween((new AF.Tween(e,"alpha",1)).set(750, 1).set(1E3, d).set(1500, 1).set(a, 1));
    this.addChild(e);
    this.start = function() {
        this.minionIn ? this.play(0) : this.play(1E3)
    }
    ;
    this.addAction(function() {
        b.play(0);
        this.stop()
    }, 749);
    this.addAction(function() {
        b.play(251);
        this.stop()
    }, a - 1)
}
MinionFalling.prototype = new AF.Movie;
function Light() {
    AF.Movie.call(this, 500);
    AF.Movie.root.addChild(this);
    var b = new TPSprite("hq_reelLight");
    b.qualityScale = 0.5;
    this.addChild(b);
    this.addTween((new AF.Tween(b,"alpha",0)).set(250, 1).set(500, 0));
    this.setOn = function() {
        this.stop(250)
    }
    ;
    this.addAction(function() {
        this.stop()
    }, 250);
    this.addAction(function() {
        this.stop()
    }, 499)
}
Light.prototype = new AF.Movie;
function SummaryMovie() {
    var b = this, a = !1, d, c, e = 0;
    AF.Movie.call(b, 3600);
    b.visible = !1;
    var f = new SummaryPanelMovie;
    f.x = isStandardQualityFlag() ? 230 : 247;
    f.y = isStandardQualityFlag() ? 80 : 70;
    b.addChild(f);
    b.addTween((new AF.Tween(f,"alpha",0)).set(300, 1).set(3300).set(3600, 0));
    b.addTween((new AF.Tween(f,"scaleX",0.8)).set(300, 1).set(3300).set(3600, 0.8));
    b.addTween((new AF.Tween(f,"scaleY",0.8)).set(300, 1).set(3300).set(3600, 0.8));
    b.addTween((new AF.Tween(f,"x",f.x + 0.2 * (f.width / 2))).set(300, f.x).set(3300).set(3600, f.x + 0.2 * (f.width / 2)));
    b.addTween((new AF.Tween(f,"y",f.y + 0.2 * (f.height / 2))).set(300, f.y).set(3300).set(3600, f.y + 0.2 * (f.height / 2)));
    this.start = function(a) {
        game.stopSoundHQ();
        game.playSoundHQ("FreeGamesSummary");
        d = 0;
        c = getSoundDuration("FreeGamesSummary");
        this.visible = !0;
        this.play(0);
        e = a;
        f.field.text = game.account.getCurrencyString(0)
    }
    ;
    b.addAction(function() {
        a = !0;
        b.stop()
    }, 300);
    b.addAction(function() {
        b.visible = !1;
        b.stop(0);
        autoDelayAfterFeature = game.freeGames.m_bInFreeGames = !1
    }, 3599);
    b.updateFGSummaryWin = function(g) {
        b.visible && a && (f.field.text = game.account.getCurrencyString(d / c * e),
        d += g,
        d >= c && (a = !1,
        b.play(),
        f.field.text = game.account.getCurrencyString(e)))
    }
}
SummaryMovie.prototype = new AF.Movie;
function SummaryPanelMovie() {
    AF.Movie.call(this);
    var b = new AFSpriteWrap(spriteAssets.getByID("introScreenBg"));
    this.addChild(b);
    this.width = b.width * gameViewMan.designScale;
    this.height = b.height * gameViewMan.designScale;
    for (var a, b = [TXT_FREE_GAMES_SUMMARY_TITLE, TXT_FREE_GAMES_TOTAL_WIN, TXT_FREE_TOTAL_AMAUNT], d = 0; d < b.length; d++)
        a = new AF.Text,
        a.setMixedFormat(FREE_GAMES_FORMAT),
        a.setMixedFormat(b[d]),
        "hq" == graphicsQuality && b[d][graphicsQuality] && a.setMixedFormat(b[d][graphicsQuality]),
        this.addChild(a);
    this.field = a
}
SummaryPanelMovie.prototype = new AF.Movie;
function RandomSprayAnim() {
    this.sprayCoinArray = null;
    this.animconfig = Array(6);
    this.setAnimConfig = function() {
        for (var b = 8, a = 0; a < this.animconfig.length; a++) {
            var d = 11
              , c = 0;
            this.animconfig[a] = Array(17);
            for (var e = 0; e < this.animconfig[a].length; e++)
                this.animconfig[a][e] = 13 <= e ? {
                    t: 0,
                    s: 1 - a / 10,
                    a: 0.3 * (this.animconfig[a].length - 1 - e),
                    x: 0,
                    y: c
                } : {
                    t: 0,
                    s: 1 - a / 10,
                    a: 1,
                    x: 0,
                    y: c
                },
                d--,
                c -= b * d,
                1 == d && d--;
            b--
        }
    }
    ;
    this.init = function() {
        this.sprayCoinArray = Array(15);
        for (var b = 5 * game.layout.symbolWidth + 4 * game.layout.reelGap, a = spriteAssets.getByID("coin").img, d = 0; d < this.sprayCoinArray.length; d++)
            this.sprayCoinArray[d] = new ngImage2(a),
            this.sprayCoinArray[d].setAnimConfig([{
                x: 0,
                y: 0,
                w: a.width,
                h: a.height
            }], this.animconfig[Math.floor(Math.random() * this.animconfig.length)]),
            this.sprayCoinArray[d].setPosition(game.layout.REELS.x + b / this.sprayCoinArray.length * d + Math.floor(Math.random() * (b / this.sprayCoinArray.length)), game.layout.REELS.y + 300 + Math.floor(30 * Math.random()));
        return this
    }
    ;
    this.update = function(b) {
        if (null != this.sprayCoinArray)
            for (var a = 0; a < this.sprayCoinArray.length; a++)
                this.sprayCoinArray[a].animRunning && this.sprayCoinArray[a].update(b)
    }
    ;
    this.draw = function() {
        if (null != this.sprayCoinArray)
            for (var b = 0; b < this.sprayCoinArray.length; b++)
                this.sprayCoinArray[b].animRunning && this.sprayCoinArray[b].draw(ctx)
    }
    ;
    this.sprayStartAnim = function(b) {
        b.startAnim(!1, 0)
    }
    ;
    this.startAnim = function() {
        if (null != this.sprayCoinArray)
            for (var b = 0; b < this.sprayCoinArray.length; b++) {
                var a = this.sprayCoinArray[b];
                setTimeout(this.sprayStartAnim, Math.floor(1E3 * Math.random()), a)
            }
    }
    ;
    this.stopAnim = function() {}
}
function RandomSprayAnimHQ() {
    AF.Container.call(this);
    this.isActive = !1;
    this.sprayCoinArray = [];
    this.timeouts = [];
    for (var b = 0; 70 > b; b++)
        this.sprayCoinArray[b] = new TPMovieclip("coins_anim"),
        this.sprayCoinArray[b].qualityScale = isStandardQualityFlag() ? randomize(0.8, 1) : randomize(0.5, 0.8),
        this.addChild(this.sprayCoinArray[b]);
    for (b = 70; 140 > b; b++)
        this.sprayCoinArray[b] = new TPMovieclip("coins_anim"),
        this.sprayCoinArray[b].qualityScale = isStandardQualityFlag() ? randomize(0.4, 0.6) : randomize(0.2, 0.3),
        this.addChild(this.sprayCoinArray[b]);
    this.init = function() {
        for (var a = 5 * game.layout.symbolWidth + 4 * game.layout.reelGap, b = 0; b < this.sprayCoinArray.length; b++)
            this.sprayCoinArray[b].x = game.layout.REELS.x + Math.floor(randomize(0, a)),
            this.sprayCoinArray[b].y = game.layout.REELS.y + 300 + Math.floor(randomize(0, 30)),
            this.sprayCoinArray[b].rotate = Math.floor(randomize(0, 90));
        return this
    }
    ;
    this.update = function(a) {
        if (this.isActive && void 0 != a)
            for (var b, c = 0; c < this.sprayCoinArray.length; c++)
                b = this.sprayCoinArray[c],
                0 < b.alpha && (b.elapsedTime += a,
                b.frame = Math.floor(b.elapsedTime / 50 % b.framesCount))
    }
    ;
    this._draw = this.draw;
    this.draw = function(a) {
        this.isActive && this._draw.call(this, a)
    }
    ;
    this.sprayStartAnim = function(a) {
        a.frame = Math.floor(randomize(0, a.framesCount));
        a.elapsedTime = 50 * a.frame;
        TweenMax.to(a, 1, {
            y: randomize(-20, 80),
            yoyo: !0,
            repeat: 1,
            ease: Sine.easeOut
        });
        TweenMax.to(a, 0.5, {
            alpha: 1
        });
        TweenMax.to(a, 0.5, {
            alpha: 0,
            delay: 1.2
        })
    }
    ;
    this.startAnim = function(a, b) {
        for (var c = 0; c < this.timeouts.length; c++)
            clearTimeout(this.timeouts[c]);
        this.timeouts = [];
        var e = 0;
        if (null != this.sprayCoinArray)
            for (c = 0; c < this.sprayCoinArray.length; c++) {
                var f = this.sprayCoinArray[c]
                  , g = a + Math.floor(Math.random() * b)
                  , e = Math.max(g, e);
                f.alpha = 0;
                this.timeouts.push(setTimeout(this.sprayStartAnim, g, f, this))
            }
        this.timeouts.push(setTimeout(function() {
            randomSprayAnim.isActive = !1
        }, e + 2E3));
        this.isActive = !0
    }
    ;
    this.stopAnim = function() {
        for (var a = 0; a < this.timeouts.length; a++)
            clearTimeout(this.timeouts[a]);
        this.timeouts = [setTimeout(function() {
            randomSprayAnim.isActive = !1
        }, 2E3)]
    }
}
RandomSprayAnimHQ.prototype = new AF.Container;
function SymbolTwistArray() {
    var b = this, a = null, d = null, c = 0, e;
    this.init = function(b) {
        var g = communicator.getMarker("RS"), k, p = [];
        g.length != _NUM_REELS && (g = game.defaultStops);
        for (var n = 0; n < _NUM_REELS; n++) {
            p[n] = [];
            for (var q = 0; q < _NUM_ROWS; ++q) {
                k = game.reelMan.reels[n].reelStrip;
                var r = g[n] + q - 1;
                r >= k.length && (r -= k.length);
                0 > r && (r += k.length);
                k = parseInt(k[r]);
                p[n][q] = k
            }
        }
        a = [];
        d = [-1, -1, -1, -1, -1];
        for (g = 0; g < b.length && "" != b[g]; g++)
            n = b[g].split(","),
            e = symbols.twistSymbols[n[0]][n[1]],
            e.setSymbol(p[n[0]][n[1]]),
            e.setPos(n),
            a.push(e),
            d[n[0]] = g,
            c++,
            game.isTwist = !0,
            game.ui.btnContinue && (game.ui.btnContinue.isDisabled = !0)
    }
    ;
    this.startTwist = function(e) {
        null != a && -1 < d[e] && (a[d[e]].start(),
        c--,
        0 >= c && setTimeout(b.resetTwistFlag, 2300))
    }
    ;
    b.resetTwistFlag = function() {
        if (null != a)
            for (var b = 0; b < a.length; b++)
                a[b].end();
        a = [];
        d = [];
        game.ui.btnContinue && (game.ui.btnContinue.isDisabled = !1);
        SSS = [];
        spinningFeatureStopped = !0
    }
}
function SymbolTwist() {
    var b = this;
    AF.Movie.root.addChild(this);
    AF.Movie.call(b, 945);
    b.playing = !1;
    b.visible = !1;
    var a = new AF.Movie(350), d = new AF.Movie(910), c, e, f, g = [], k, p;
    for (e = 3; 10 >= e; e++)
        f = "MinionTwist_sym" + (10 > parseInt(e) ? "0" + parseInt(e) : parseInt(e)),
        f = new TPMovieclip(f),
        f.qualityScale = isStandardQualityFlag() ? 1 : 0.5,
        f.pivotOffset = !0,
        f.offsetX = game.layout.symbolWidth / 2 / f.qualityScale,
        f.offsetY = game.layout.symbolHeight / 2 / f.qualityScale,
        g[e] = f;
    c = f;
    a.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), 350));
    a.addChild(c);
    e = new TPMovieclip("MinionTwist");
    e.qualityScale = isStandardQualityFlag() ? 1 : 0.5;
    e.pivotOffset = !0;
    e.offsetX = game.layout.symbolWidth / 2 / e.qualityScale;
    e.offsetY = game.layout.symbolHeight / 2 / e.qualityScale;
    d.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), 910));
    d.addChild(e);
    d.addAction(function() {
        playSound("SymTurn-Juggle")
    }, 34);
    a.addAction(function() {
        a.stop();
        a.visible = !1;
        d.visible = !0;
        d.play(0)
    }, 349);
    d.addAction(function() {
        d.stop();
        b.playing = !1;
        b.visible = !1;
        a.visible = !1;
        d.visible = !1;
        b.stop(0);
        a.stop(0);
        d.stop(0);
        game.reelMan.reels[k].slots[p].setSymbol(_SYM_WILD)
    }, 909);
    b.addChild(a);
    b.addChild(d);
    b.start = function() {
        b.playing || (b.play(0),
        b.playing = !0,
        d.visible = !1)
    }
    ;
    b.addAction(function() {
        b.playing = !1;
        b.stop();
        a.visible = !0;
        d.visible = !1;
        a.play(0);
        b.visible = !0
    }, 944);
    b.end = function() {}
    ;
    this.setSymbol = function(b) {
        2 < b && 11 > b && (c = g[b],
        a.tweens = [],
        a.children = [],
        a.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), 350)),
        a.addChild(c))
    }
    ;
    this.setPos = function(a) {
        k = parseFloat(a[0]);
        p = parseFloat(a[1]) + 1
    }
}
SymbolTwist.prototype = new AF.Movie;
function GameTitleAnim() {
    AF.Movie.call(this, 6E3);
    var b = new TPMovieclip("gametitle");
    b.qualityScale = isStandardQualityFlag() ? 1 : 0.5;
    b.x = 327;
    b.y = -10;
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0-" + (b.framesCount - 1) + ",0-" + (b.framesCount - 1) + ",0-" + (b.framesCount - 1), 6E3));
    this.addChild(b);
    this.addAction(function() {
        this.resetAnim()
    }, 5999);
    this.startAnim = function() {
        this.play(0);
        this.isPlaying = !0
    }
    ;
    this.stopAnim = function() {
        this.isPlaying && this.resetAnim()
    }
    ;
    this.resetAnim = function() {
        this.isPlaying = !1;
        this.stop();
        this.moveTo(0)
    }
}
GameTitleAnim.prototype = new AF.Movie;
game.api_processFeatureMsg = function(b, a) {
    var d = !1;
    switch (b) {
    case "FEATURE_START":
        featureResult = processFeatureMsg(a);
        d = !0;
        break;
    case "FEATURE_PICK":
        featureResult = processFeatureMsg(a);
        d = !0;
        break;
    case "FEATURE_END":
        featureResult = processFeatureMsg(a),
        game.slotResult.winType = 0,
        d = !0,
        feature.triggerFeature = !1,
        game.enableAllUI(!0),
        game.stopSoundHQ("FeatureLoop-FoxFunds"),
        game.api_postBonusAction()
    }
    return d
}
;
var sendFeatureStartMsg = function() {
	console.log("#####GAME_INTERACTION-WindowObj message to server FEATURE_START");
    game.featureStarted || windowObj.sendMsgToServer("&MSGID=FEATURE_START&CFG=1&")
}
  , sendFeaturePickMsg = function(b) {
	  console.log("#####GAME_INTERACTION-WindowObj message to server FEATUR_PICK");
    windowObj.sendMsgToServer("&MSGID=FEATURE_PICK&CFG=1&FP=1|" + b + "||&")
}
  , sendFeatureEndMsg = function() {
	  console.log("#####GAME_INTERACTION-WindowObj message to server FEATUR_END");
    windowObj.sendMsgToServer("&MSGID=FEATURE_END&CFG=1&")
}
  , playFeatureSound = function(b) {
    game.playSound(b)
};
function correctIphoneHelpText() {
    navigator.userAgent.match(/iPhone/i) && ($(".titlerules, .titlefree, .rules, .titlefeature, .titlesuperbet, .titlerandombonus").css("font-size", "44px"),
    $(".count, .amount, .helptext, .exitHelp").css("font-size", "32px"),
    $(".ofakind").css("font-size", "16px"))
}
function createTestButtons(b) {
    var a = document.getElementsByName("debugform")[0]
      , d = function(a) {
        return function() {
            setReelStop(a)
        }
    };
    a.removeChild(a.childNodes[0]);
    a.removeChild(a.childNodes[0]);
    a.removeChild(a.childNodes[1]);
    a.removeChild(a.childNodes[1]);
    for (var c = 0; c < b.length; c++) {
        var e = document.createElement("input");
        e.type = "button";
        e.value = b[c].name;
        e.name = "bntTest" + c;
        e.className = "popupButon";
        e.onclick = d(b[c].reelStop);
        a.insertBefore(e, a.childNodes[0])
    }
    a.insertBefore(e, a.childNodes[0])
}
function setReelStop(b) {
    $("input[name='stops']").val(b)
}
function AFSpriteWrap(b) {
    var a = b.frames || 1
      , d = b.x || 0
      , c = b.y || 0
      , e = b.scaleX || b.scale || 1
      , f = b.scaleY || b.scale || 1
      , b = new AF.Sprite(b.img,a,b.margin || 0,b.cols || a,b.rows || 1,b.dWidth,b.dHeight);
    b.x = d;
    b.y = c;
    b.scaleX = e;
    b.scaleY = f;
    return b
}
game.api_clippingRegion = function() {
    var b = [];
    b.push([[this.reelMan.X, this.reelMan.Y + this.layout.symbolHeight], [this.reelMan.X, this.reelMan.Y + this.layout.symbolHeight * (this.reelMan.numRows + 1)], [this.reelMan.X + 5 * this.layout.symbolWidth + 4 * this.layout.reelGap, this.reelMan.Y + this.layout.symbolHeight * (this.reelMan.numRows + 1)], [this.reelMan.X + 5 * this.layout.symbolWidth + 4 * this.layout.reelGap, this.reelMan.Y + this.layout.symbolHeight]]);
    return b
}
;
overridenFunctions.processServerMsg = processServerMsg;
processServerMsg = function(b) {
    communicator.processResponse(b);
    overridenFunctions.processServerMsg.call(window, b)
}
;
overridenFunctions.processHistoryMsg = game.processHistoryMsg;
game.processHistoryMsg = function(b) {
    var a = new SlotResult;
    a.clear();
    var d = 0
      , c = 0
      , e = 0
      , f = 0
      , g = 0
      , k = 0
      , p = 0
      , n = 0
      , q = 0
      , r = 0
      , l = !1;
    this.featureStarted = !1;
    for (var j = 0, o = 0, s = 0, y = [], I = !1, x = !1, z = !1, w = !1, B = [], A = 0, E = [], C = [], g = 0; g < b.length; g++) {
        var u = b[g].split("=");
        switch (u[0]) {
        case "B":
            this.account.balance = Number(u[1]);
            this.account.newBalance = this.account.balance;
            break;
        case "BD":
            this.account.setBetAmounts(u[1]);
            break;
        case "BDD":
            this.account.setCurrentBetAmount(u[1]);
            break;
        case "BPL":
            k = Number(u[1]);
            break;
        case "LB":
            p = Number(u[1]);
            break;
        case "RS":
            a.stops = u[1].split("|");
            break;
        case "TW":
            d = Number(u[1]);
            break;
        case "CW":
            c = Number(u[1]);
            e = Number(u[1]);
            break;
        case "WC":
            r = u[1].split("|");
            n = Number(r[0]);
            q = Number(r[1]);
            r = Number(r[2]);
            break;
        case "WS":
            y = u[1].split("|");
            break;
        case "NFG":
            j = Number(u[1]);
            break;
        case "TFG":
            s = Number(u[1]);
            break;
        case "FGT":
            o = Number(u[1]);
            break;
        case "SSS":
            this.api_parseSSS(u[1]);
            break;
        case "FS_0":
        case "FS_1":
        case "FS_5":
        case "FS_6":
            1 == u[1] && (this.featureStarted = !0);
            break;
        case "FTV_0":
        case "FTV_1":
        case "FTV_5":
        case "FTV_6":
            l = !0;
            this.api_parseFeaturePrizes(u[1]);
            break;
        case "FPM_0":
        case "FPM_1":
        case "FPM_5":
        case "FPM_6":
            this.api_parseFPM(u[1]);
            w = !0;
            break;
        case "CFP_0":
        case "CFP_1":
        case "CFP_5":
        case "CFP_6":
            this.api_parseCFP(u[1]);
            break;
        case "IFG":
            z = 1 == Number(u[1]) ? !0 : !1;
            break;
        case "ABPM":
            this.api_getABPM(u[1])
        }
    }
    g = k * (p + this.account.superbet);
    0 == c && (c = d);
    0 < n && (0 < c && c <= 5 * g ? f |= WT_SMALL_WIN : 5 * g < c && c <= 25 * g ? f |= WT_MEDIUM_WIN : c > 25 * g && (f |= WT_LARGE_WIN));
    c >= 2 * g && (I = !0);
    c >= 5 * g && (x = !0);
    q && (f |= WT_SCATTER_WIN);
    r && (f |= WT_FEATURE_TRIGGER);
    l && (f |= WT_PICK_FEATURE_TRIGGER);
    a.numWinningPaylines = q ? n + 1 : n;
    for (g = 0; g < y.length - 1; g++)
        b = y[g].split(";"),
        l = convertToBitfield(b[2], b[3], b[4], b[5], b[6]),
        -1 == b[0] ? A = l : -2 != b[0] && (B.push(b[0]),
        E.push(l),
        C.push(0));
    q && (a.paylineWins.push({
        first: -1,
        second: A
    }),
    a.paylineWins2.push({
        first: -1,
        second: A
    }));
    if (0 < n)
        for (g = 0; g < n; g++)
            a.paylineWins.push({
                first: B[g],
                second: E[g]
            }),
            a.paylineWins2.push({
                first: B[g],
                second: C[g]
            });
    a.linesBet = p;
    a.betPerLine = k;
    a.numFreeGames = j;
    a.freeGamesWon = o;
    a.totalNumFreeGames = s;
    a.winAmount = d;
    a.currentWinAmount = c;
    a.currentSpinWinAmount = e;
    a.winType = f;
    a.verySmallWin = I;
    a.smallWin = x;
    a.bProcessed = !1;
    a.IFG = z;
    a.winningPaylines = y;
    this.account.paylinesSelected = a.linesBet;
    this.account.setBetPerLine(a.betPerLine);
    this.freeGames.m_RespinTimer = this.freeGames.RESPIN_TIMER_DELAY;
    this.freeGames.m_TriggerTimer = this.freeGames.TRIGGER_TIMER_DELAY;
    this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
    this.showLines(!1);
    this.gameState = SS_STOPPED;
    this.redraw = 1;
    this.reelMan.showSymbols(!0, 4294967295);
    this.reelMan.stopAnims();
    this.api_stopWinAnims();
    this.showLines(!1);
    this.reelMan.init(a.stops);
    0 == a.numFreeGames || a.winType & WT_FEATURE_TRIGGER && !a.IFG ? (this.api_switchReels(!1),
    this.setBShowFreeSpinBg(!1)) : (this.setBShowFreeSpinBg(!0),
    this.api_switchReels(!0),
    this.freeGames.m_bInFreeGames = !0);
    createPaylineTexture2();
    this.account.addWin(a.winAmount);
    for (g = 0; g < n; g++)
        this.reelMan.showSymbols(!0, 4294967295),
        -1 != a.paylineWins[g].first && (this.paylines[a.paylineWins[g].first].disable(!1),
        this.paylines[a.paylineWins[g].first].showLine(!0));
    game.startIdleMessages = function() {}
    ;
    d = a.numFreeGames;
    if (a.winType & WT_PICK_FEATURE_TRIGGER || w)
        if (2 === game.currentBonusFeature)
            this.messageBar.m_Text = TXT_PICK_BONUS;
        else {
            if (1 === game.currentBonusFeature || 3 === game.currentBonusFeature)
                this.messageBar.m_Text = TXT_BONUS_CATCH_ESCAPE
        }
    else
        0 < d ? (a = this.slotResult.totalNumFreeGames,
        w = TXT_GAMES_REMAINING.replace("%c", a - this.slotResult.numFreeGames + 1),
        w = w.replace("%t", a),
        this.messageBar.m_Text = w) : this.messageBar.m_Text = TXT_SCROLL_MESSAGES[0]
}
;
overridenFunctions.GDMUpdateWin = game.GDMUpdateWin;
game.GDMUpdateWin = function(b) {
    if (1 > game.currentBonusFeature) {
        if (!game.scatterTrigger || game.freeGames.m_bInFreeGames) {
            this.api_winLineChoreography(b);
            var a = !1
              , d = !1;
            this.gWinFlashTime += b;
            this.freeGames.m_RespinTimer -= b;
            this.freeGames.m_TriggerTimer -= b;
            this.m_TriggerTimer -= b;
            if (this.gWinFlashTime > this.FLASH_DELAY) {
                if (0 < this.slotResult.paylineWins.length) {
                    if (this.gCurrentFlash == this.NUM_FLASHES_PER_PAYLINE) {
                        if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE)
                            -1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first && this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!1),
                            this.gCurrentPaylineIndex++,
                            this.gCurrentPaylineIndex == this.slotResult.numWinningPaylines && (this.gCurrentPaylineIndex = 0);
                        else {
                            for (b = this.gCurrentPaylineIndex = 0; b < this.slotResult.numWinningPaylines; b++)
                                this.gCurrentPaylineIndex = b,
                                -1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first && this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!1);
                            this.freeRounds.outro()
                        }
                        this.gNumCycles++;
                        this.slotResult.getFreeGamesLeft() && this.gNumCycles >= this.NUM_FLASHES_ALL_LINE && (a = !0);
                        this.autoPlay && this.gNumCycles >= this.NUM_FLASHES_ALL_LINE && (d = !0);
                        this.gCurrentFlash = 0
                    }
                    if (0 == this.gCurrentFlash % 2)
                        if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE) {
                            if (-1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first) {
                                var c = this.slotResult.paylineWins2[this.gCurrentPaylineIndex].second ^ 4294967295
                                  , c = c & this.slotResult.paylineWins[this.gCurrentPaylineIndex].second;
                                this.reelMan.showSymbols(!1, c);
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(!0);
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!1)
                            }
                        } else
                            for (b = 0; b < this.slotResult.numWinningPaylines; b++)
                                this.gCurrentPaylineIndex = b,
                                -1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first && (c = this.slotResult.paylineWins2[this.gCurrentPaylineIndex].second ^ 4294967295,
                                c &= this.slotResult.paylineWins[this.gCurrentPaylineIndex].second,
                                this.reelMan.showSymbols(!1, c),
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(!0),
                                this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!1));
                    else if (this.gNumCycles >= this.NUM_FLASHES_ALL_LINE)
                        this.reelMan.showSymbols(!0, 4294967295),
                        -1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first && (this.api_winLineDirection(this.slotResult.paylineWins[this.gCurrentPaylineIndex].first, !1, this.gNumCycles),
                        this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(!1),
                        this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!0));
                    else
                        for (b = 0; b < this.slotResult.numWinningPaylines; b++)
                            this.gCurrentPaylineIndex = b,
                            c = 4294967295,
                            this.reelMan.showSymbols(!0, c),
                            -1 != this.slotResult.paylineWins[this.gCurrentPaylineIndex].first && (this.api_winLineDirection(this.slotResult.paylineWins[this.gCurrentPaylineIndex].first, !0, this.gNumCycles),
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].disable(!1),
                            this.paylines[this.slotResult.paylineWins[this.gCurrentPaylineIndex].first].showLine(!0));
                    this.gCurrentFlash++;
                    this.gWinFlashTime = 0
                } else
                    this.autoPlay && (d = !0),
                    this.slotResult.getFreeGamesLeft() && (a = !0);
                if (this.slotResult.winType & WT_PICK_FEATURE_TRIGGER)
                    this.api_fastFeatureTransition() ? (0 < this.slotResult.paylineWins.length && 1 <= this.gNumCycles || 0 == this.slotResult.paylineWins.length) && this.startFeature() : 0 >= this.m_TriggerTimer && this.startFeature();
                else if (this.slotResult.winType & WT_FEATURE_TRIGGER)
                    0 >= this.freeGames.m_TriggerTimer && (this.freeGames.DecFreeSpins(),
                    this.reelMan.showSymbols(!0, 4294967295),
                    this.reelMan.stopAnims(),
                    this.setState(SS_FREEGAME_INTRO));
                else if (a && 0 >= this.freeGames.m_RespinTimer && !this.historyMode)
                    this.setGamesRemainingString(),
                    this.freeGames.DecFreeSpins(),
                    this.startSpin();
                else if (d && !this.api_autoDelayAfterFeature() && !this.autoPlayPaused)
                    if (a = !1,
                    this.useUI3 && (a = this.ui.autoPlayMan.shouldAutoPlayStop()),
                    this.account.canBet() && !this.requestToStopAutoPlay && 0 < this.autoPlayGames && !a && !game.isBigWin && !game.isAutoPlayWait)
                        this.startSpin(),
                        this.autoPlayGames--,
                        this.ui.setMeterText("autoGame", this.autoPlayGames);
                    else if (this.requestToStopAutoPlay || 0 == this.autoPlayGames || a)
                        this.useUI3 && this.ui.autoPlayMan.endSession(),
                        this.requestToStopAutoPlay = this.autoPlay = !1,
                        this.ui.autoPlayMode = this.ui.AUTO_OFF,
                        this.autoPlayGames = 0
            }
        }
    } else
        this.slotResult.winType & WT_PICK_FEATURE_TRIGGER && (this.api_fastFeatureTransition() ? (0 < this.slotResult.paylineWins.length && 1 <= this.gNumCycles || 0 == this.slotResult.paylineWins.length) && this.startFeature() : 0 >= this.m_TriggerTimer ? this.startFeature() : this.m_TriggerTimer -= b)
}
;
overridenFunctions.setGamesRemainingString = game.setGamesRemainingString;
game.setGamesRemainingString = function() {
    if (game.gameState != SS_WIN_PAYLINE_FREEGAMES && game.gameState != SS_STOPPED_FREEGAMES) {
        var b = this.slotResult.totalNumFreeGames
          , a = TXT_GAMES_REMAINING.replace("%c", b - this.slotResult.numFreeGames + 1)
          , a = a.replace("%t", b);
        this.messageBar.m_Text = a
    }
}
;
overridenFunctions.startSpin = game.startSpin;
game.startSpin = function() {
    game.ambienceSounds.startDelay = 0;
    game.isAutoPlayWait = !1;
    game.lastFeature = 0;
    game.recoverBonusFeature = 0;
    game.uiSpinStarted();
    game.resetBigWin();
    game.featureParsed = !1;
    isStandardQualityFlag() || (game.ui.btnContinue.isDisabled = !0);
    game.isWildWin = !1;
    overridenFunctions.startSpin.call(game)
}
;
game.resetBigWin = function() {
    game.isBigWin && (this.WIN_SNAP_DELAY = 2E3,
    game.isBigWinMetereReady || (this.winMeterDisplayCounter = this.WIN_SNAP_DELAY + 10),
    game.isBigWin = !1,
    randomSprayAnim.stopAnim(),
    gameTitle.stopAnim(),
    game.stopSoundHQ("DiamondShower"),
    game.stopSoundHQ("BigWinBell"),
    game.WIN_METER_DISPLAY_TIME = 2E3,
    game.WIN_ROLLUP_TIME = 2E3,
    game.account.ROLLUP_TIME = 2E3,
    game.account.rollUpCounter = game.account.ROLLUP_TIME,
    game.bigWinAfterFeature || (game.ui.showWinMeter(!0),
    this.snapWinMeter()),
    game.enableAllUI(!0));
    game.bigWinAfterFeature = !1
}
;
game.uiSpinStarted = function() {
    game.ui.btnStop && (game.ui.btnStop.isClicked = !1,
    game.ui.btnStop.isDisabled = !0,
    game.ui.btnStop.messageProcessed = !1,
    game.reelMan.setFastSpin(!1))
}
;
game.api_processMsgEnd = function(b) {
    game.api_preBonusAction();
    null != objWindUp && objWindUp.processScatterServer(b);
    game.ui.btnStop && (game.ui.btnStop.isDisabled = !1);
    if (game.ui.btnStop && (game.gameState == SS_SPINNING && !game.ui.autoPlayMan.inSession || communicator.getMarker("IFG") && communicator.getMarker("NFG")))
        game.ui.btnStop.messageProcessed = !0,
        game.ui.btnStop.isClicked && (game.reelMan.extendSpin = !1,
        game.reelMan.setFastSpin(game.ui.initStop, game.ui.reelStop, game.ui.windUp, game.ui.bounce, game.ui.reelSpeed))
}
;
game.api_updateReelFromMsg = function() {
    game.api_switchReels();
    if (game.isTwist) {
        var b = SSS;
        SSS = null;
        SSS = b
    }
    game.isTwist = !1;
    null != SSS && "ESCAPE" != SSS && symbolTwists.init(SSS)
}
;
function BigWinAnim() {
    var b = this;
    AF.Movie.call(b, 4250);
    b.visible = !1;
    var a = new BigWinTextAnim(50);
    b.addChild(a);
    b.bufferFox = new AF.BufferedPanel(960,600);
    this.addChild(b.bufferFox);
    var d = new MinionsAnim(75);
    b.bufferFox.addChild(d);
    d.x = 0;
    d.y = 568;
    b.addAction(function() {
        d.play(0)
    }, 0);
    b.addAction(function() {
        a.start()
    }, 1250);
    b.addAction(function() {
        onBigWinBellEnd()
    }, 1500);
    b.addAction(function() {
        game.enableAllUI(!0);
        game.freeGames.m_bInFreeGames && game.ui.btnContinue && (game.ui.btnContinue.isDisabled = !1);
        game.scatterTrigger = !1;
        game.spaceSpinAvailable = !0
    }, 2E3);
    b.addAction(function() {
        b.stopWinAnim()
    }, 4249);
    b.init = function() {
        a.init();
        b.play(0);
        b.visible = !0
    }
    ;
    b.stopWinAnim = function() {
        a.stopWinAnim();
        b.visible = !1;
        b.stop(0)
    }
    ;
    b._performDraw = b.performDraw;
    b.performDraw = function(a) {
        if (b.visible) {
            var e = gameViewMan.viewScale;
            b.bufferFox.buffer || b.bufferFox.performDraw(a);
            var f = b.bufferFox.buffer.getContext("2d");
            f.clearRect(0, 0, gameAreaWidth * e, gameAreaHeight * e);
            d.draw(f);
            f.globalCompositeOperation = "destination-in";
            var g = f.createLinearGradient(0, 0, 0, gameAreaHeight * e);
            g.addColorStop(0, "rgba(0, 0, 0, 0)");
            g.addColorStop(maskPercentWidth, "rgba(0, 0, 0, 1)");
            g.addColorStop(1 - maskPercentWidth, "rgba(0, 0, 0, 1)");
            g.addColorStop(1, "rgba(0, 0, 0, 0)");
            f.fillStyle = g;
            f.fillRect(0, 0, gameAreaWidth * e, gameAreaHeight * e);
            f.globalCompositeOperation = "source-over";
            b._performDraw(a)
        }
    }
}
BigWinAnim.prototype = new AF.Movie;
function BigWinTextAnim(b) {
    var a = this
      , d = 70 * b;
    AF.Movie.call(this, d);
    a.visible = !1;
    var c = new AF.Text
      , e = {
        lside: 0,
        rside: 960,
        font: "Nougat",
        size: 80,
        align: "center",
        textBaseline: "middle",
        color: "#ff8100 0.45, #fff700 0.75",
        stroke: "#FFFFFF 5, #247DAB 12, #FF0000 22"
    };
    c.text = "undefined" !== typeof TXT_BIG_WIN ? TXT_BIG_WIN : "BIG WIN";
    c.setMixedFormat("undefined" !== typeof BIG_WIN_FORMAT ? BIG_WIN_FORMAT : e);
    c.maxWidth = 400;
    var f = new AF.BufferedPanel(960,350);
    f.x = game.layout.BIG_WIN.x;
    f.y = game.layout.BIG_WIN.y;
    this.addChild(f);
    f.addChild(c);
    a.visible = !1;
    a.stop(0);
    for (var c = [1, 1, 2.2, 2, 1.8, 2, 1.8, 2, 1.8, 2, 2], e = [], g = [], k = 0; k < c.length; k++)
        e[k] = f.x - f.width * (c[k] - 1) / 2,
        g[k] = f.y - f.height * (c[k] - 1) / 4;
    a.addTween((new AF.Tween(f,"alpha",0)).set(5 * b).set(10 * b, 1).set(40 * b).set(45 * b, 0));
    a.addTween((new AF.Tween(f,"scaleX",1)).set(5 * b, c[1]).set(13 * b, c[2]).set(16 * b, c[3]).set(19 * b, c[4]).set(22 * b, c[5]).set(25 * b, c[6]).set(28 * b, c[7]).set(31 * b, c[8]).set(34 * b, c[9]).set(45 * b, c[10]).set(70 * b, c[10]));
    a.addTween((new AF.Tween(f,"scaleY",1)).set(5 * b).set(13 * b, c[2]).set(16 * b, c[3]).set(19 * b, c[4]).set(22 * b, c[5]).set(25 * b, c[6]).set(28 * b, c[7]).set(31 * b, c[8]).set(34 * b, c[9]).set(45 * b, c[10]).set(70 * b, c[10]));
    a.addTween((new AF.Tween(f,"x",f.x)).set(5 * b, e[1]).set(13 * b, e[2]).set(16 * b, e[3]).set(19 * b, e[4]).set(22 * b, e[5]).set(25 * b, e[6]).set(28 * b, e[7]).set(31 * b, e[8]).set(34 * b, e[9]).set(45 * b, e[10]).set(70 * b, e[10]));
    a.addTween((new AF.Tween(f,"y",f.y)).set(5 * b, g[1]).set(13 * b, g[2]).set(16 * b, g[3]).set(19 * b, g[4]).set(22 * b, g[5]).set(25 * b, g[6]).set(28 * b, g[7]).set(31 * b, g[8]).set(34 * b, g[9]).set(45 * b, g[10]).set(70 * b, g[10]));
    a.addAction(function() {
        a.visible = !1;
        a.stop(0)
    }, d - 1);
    a.init = function() {
        f.x = game.layout.BIG_WIN.x;
        f.y = game.layout.BIG_WIN.y;
        f.scaleX = 1;
        f.scaleY = 1;
        f.reset()
    }
    ;
    a.start = function() {
        a.play(0);
        a.visible = !0
    }
    ;
    a.stopWinAnim = function() {
        a.visible = !1;
        a.stop(0)
    }
    ;
    a._draw = a.draw;
    a.draw = function(b) {
        a.visible && (f.reset(),
        a._draw(b))
    }
}
BigWinTextAnim.prototype = new AF.Movie;
function MinionsAnim(b) {
    var a = 31 * b;
    AF.Movie.call(this, a);
    var d, c, e, f;
    isDiceVersion ? (d = new AF.Sprite(spriteAssets.getByID("miniond").img,1),
    c = new AF.Sprite(spriteAssets.getByID("miniona").img,1),
    e = new AF.Sprite(spriteAssets.getByID("miniond").img,1),
    e.flip = [-1, 1],
    f = new AF.Sprite(spriteAssets.getByID("miniona").img,1),
    f.scaleX = 0.8,
    f.scaleY = 0.8) : (d = new TPMovieclip("MinionC-Celebrate"),
    d.qualityScale = 0.9,
    d.x = 0,
    d.y = 680,
    this.addTween((new AF.SpriteTween(d,0)).set(0, "0-" + (d.framesCount - 1), a)),
    this.addTween((new AF.Tween(d,"y",d.y)).set(b, d.y).set(8 * b, d.y - 487).set(10 * b, d.y - 519).set(13 * b, d.y - 536).set(15 * b, d.y - 548).set(16 * b, d.y - 552).set(17 * b, d.y - 553).set(19 * b, d.y - 549).set(21 * b, d.y - 547).set(23 * b, d.y - 464).set(31 * b, d.y)),
    this.addTween((new AF.Tween(d,"x",d.x)).set(b, d.x).set(31 * b, d.x - 42)),
    this.addTween((new AF.Tween(d,"rotate",0)).set(6 * b, 5).set(31 * b, -8)),
    c = new TPMovieclip("MinionB-Celebrate"),
    c.x = 150,
    c.y = 610,
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), a)),
    this.addTween((new AF.Tween(c,"y",c.y)).set(b, c.y).set(8 * b, c.y - 487).set(10 * b, c.y - 519).set(13 * b, c.y - 536).set(15 * b, c.y - 548).set(16 * b, c.y - 552).set(17 * b, c.y - 553).set(19 * b, c.y - 549).set(21 * b, c.y - 547).set(23 * b, c.y - 464).set(31 * b, c.y)),
    this.addTween((new AF.Tween(c,"x",c.x)).set(b, c.x).set(31 * b, c.x + 94)),
    this.addTween((new AF.Tween(c,"rotate",0)).set(6 * b, -8).set(31 * b, 0)),
    e = new TPMovieclip("MinionD-Celebrate"),
    e.scaleX = -1,
    e.qualityScale = 0.9,
    e.x = 730,
    e.y = 650,
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), a)),
    this.addTween((new AF.Tween(e,"y",e.y)).set(b, e.y).set(8 * b, e.y - 487).set(10 * b, e.y - 519).set(13 * b, e.y - 536).set(15 * b, e.y - 548).set(16 * b, e.y - 552).set(17 * b, e.y - 553).set(19 * b, e.y - 549).set(21 * b, e.y - 547).set(23 * b, e.y - 464).set(31 * b, e.y)),
    this.addTween((new AF.Tween(e,"x",e.x)).set(b, e.x).set(31 * b, e.x - 21)),
    this.addTween((new AF.Tween(e,"rotate",0)).set(6 * b, 0).set(31 * b, -3)),
    f = new TPMovieclip("MinionA-Celebrate"),
    f.qualityScale = 0.9,
    f.x = 740,
    f.y = 600,
    this.addTween((new AF.SpriteTween(f,0)).set(0, "0-" + (f.framesCount - 1), a)),
    this.addTween((new AF.Tween(f,"y",f.y)).set(b, f.y).set(8 * b, f.y - 487).set(10 * b, f.y - 519).set(13 * b, f.y - 536).set(15 * b, f.y - 548).set(16 * b, f.y - 552).set(17 * b, f.y - 553).set(19 * b, f.y - 549).set(21 * b, f.y - 547).set(23 * b, f.y - 464).set(31 * b, f.y)),
    this.addTween((new AF.Tween(f,"x",f.x)).set(b, f.x).set(31 * b, f.x - 118)),
    this.addTween((new AF.Tween(f,"rotate",0)).set(6 * b, 5).set(31 * b, -8)));
    this.addChild(d);
    this.addChild(c);
    this.addChild(e);
    this.addChild(f);
    this.addTween((new AF.Tween(this,"y",this.y)).set(31 * b, this.y));
    this.addAction(function() {
        this.stop()
    }, a - 1)
}
MinionsAnim.prototype = new AF.Movie;
game.processContinue = function() {
    if (!game.ui.autoPlayMan.inSession || isFreeGames())
        this.winMeterDisplayCounter = this.WIN_SNAP_DELAY + 10,
        game.stopSoundHQ("FreeGamesRollup"),
        game.snapWinMeter(),
        game.account.snapMeters(),
        1 <= parseInt(communicator.getMarker("NFG")) && isFreeGames() && (game.api_stopWinAnims(),
        game.startSpin())
}
;
function isFreeGames() {
    return game.freeGames.m_bInFreeGames
}
game.playSoundHQ = function(b) {
    game.soundsArray[b] && game.soundsArray[b].init()
}
;
game.stopSoundHQ = function() {
    if (0 < arguments.length)
        game.soundsArray[arguments[0]] && game.soundsArray[arguments[0]].terminate();
    else
        for (var b in game.soundsArray)
            game.soundsArray[b].terminate()
}
;
game.stopSoundExceptLoopHQ = function() {
    for (var b in game.soundsArray)
        game.soundsArray[b].loop || game.soundsArray[b].terminate()
}
;
game.playSoundSQ = function(b) {
    this.playSound(b)
}
;
overridenFunctions.startWinMeter = game.startWinMeter;
game.startWinMeter = function(b, a) {
    if (!game.scatterTrigger || game.freeGames.m_bInFreeGames || game.isBigWin)
        if (game.isBigWin)
            game.WIN_METER_DISPLAY_TIME = -100,
            game.WIN_ROLLUP_TIME = -100,
            game.account.ROLLUP_TIME = -100,
            overridenFunctions.startWinMeter.call(game, b, a),
            game.ui.showWinMeter(!1);
        else {
            var d, c;
            game.freeGames.m_bInFreeGames ? (d = 0 < this.slotResult.freeGamesWon ? "BigWinBell" : "FreeGamesRollup",
            c = getSoundDuration(d),
            game.WIN_METER_DISPLAY_TIME = c + 1500,
            game.WIN_ROLLUP_TIME = c,
            game.account.ROLLUP_TIME = c) : (3 === game.currentBonusFeature || 2 === game.currentBonusFeature) && 0 == game.recoverBonusFeature ? (d = "BonusCoinsRollup",
            c = getSoundDuration(d),
            game.WIN_METER_DISPLAY_TIME = 2E3,
            game.WIN_ROLLUP_TIME = c,
            game.account.ROLLUP_TIME = c) : (game.WIN_ROLLUP_TIME = game.winSounds.currentWinSoundDuration,
            game.account.ROLLUP_TIME = game.winSounds.currentWinSoundDuration,
            game.WIN_METER_DISPLAY_TIME = game.WIN_ROLLUP_TIME + 2E3,
            0 === a && (game.account.rollUpCounter = game.account.ROLLUP_TIME));
            overridenFunctions.startWinMeter.call(game, b, a);
            a > b && d && game.playSoundHQ(d)
        }
    else
        game.WIN_ROLLUP_TIME = 0,
        game.account.ROLLUP_TIME = 0
}
;
overridenFunctions.snapWinMeter = game.snapWinMeter;
game.snapWinMeter = function() {
    this.winMeterDisplayCounter > this.WIN_SNAP_DELAY && (this.winMeterIncrementCounter = this.WIN_ROLLUP_TIME,
    this.ui.setMeterText("win", this.account.getCurrencyString(this.winMeterTargetAmount)),
    this.account.snapMeters(),
    this.winMeterDisplayCounter = this.WIN_SNAP_DELAY)
}
;
overridenFunctions.updateWinMeter = game.updateWinMeter;
game.updateWinMeter = function(b) {
    0 < this.winMeterDisplayCounter && (this.winMeterDisplayCounter -= b,
    0 >= this.winMeterDisplayCounter && (this.winMeterDisplayCounter = 0,
    this.ui.showWinMeter(!1),
    this.redraw = 1));
    this.winMeterIncrementCounter < this.WIN_ROLLUP_TIME && (this.winMeterIncrementCounter += b,
    this.winMeterIncrementCounter >= this.WIN_ROLLUP_TIME && (this.winMeterIncrementCounter = this.WIN_ROLLUP_TIME,
    game.api_winRollupEnd()),
    this.ui.setMeterText("win", this.account.getCurrencyString(Number(this.winMeterIncrementCounter / this.WIN_ROLLUP_TIME * (this.winMeterTargetAmount - this.winMeterCurrentAmount)) + Number(this.winMeterCurrentAmount))));
    game.summaryMovie.updateFGSummaryWin(b)
}
;
overridenFunctions.recover = game.recover;
game.recover = function() {
    overridenFunctions.recover.call(game);
    game.recoverBonusFeature = 0;
    if (2 == game.currentBonusFeature || 3 == game.currentBonusFeature) {
        game.preBonusLineWinAmount = Number(game.slotResult.winAmount);
        var b = 0;
        0 < feature.FPM.length && (b = feature.addUpPrizes[feature.FPM.length - 1]);
        game.account.currentOnScreenWinAmount = b;
        game.account.balance -= Number(game.slotResult.winAmount - b);
        game.account.newBalance = game.account.balance;
        game.account.winAmount = b;
        game.account.currentOnScreenBalance = Number(game.account.balance);
        game.account.targetOnScreenBalance = game.account.currentOnScreenBalance;
        game.winMeterTargetAmount = game.account.currentOnScreenWinAmount;
        game.recoverBonusFeature = game.currentBonusFeature
    }
    game.ambienceSounds.playSound();
    null != SSS && "ESCAPE" != SSS && symbolTwists.init(SSS)
}
;
game.api_winRollupEnd = function() {}
;
game.api_playWinCelebration = function() {
    game.winSounds.init()
}
;
game.api_preBonusAction = function() {
    game.currentBonusFeature = 0;
    game.isPostBonusBigWin = !1;
    var b = communicator.getMarker("SSS")
      , a = communicator.getMarker("FID")[0];
    null != b && "ESCAPE" == b && (game.currentBonusFeature = 1);
    a && (game.currentBonusFeature = 2,
    communicator.getMarker("GSD").LepSND && (game.currentBonusFeature = 3));
    0 < game.currentBonusFeature && (game.featureParsed = !0)
}
;
game.api_postBonusAction = function() {
    this.isStartWinMeterNeed = !1;
    game.lastFeature = game.currentBonusFeature;
    game.currentBonusFeature = 0;
    game.startIdleMessages();
    game.isPostBonusBigWin = !1;
    game.bigWinAfterFeature = !0;
    this.slotResult.winType = 0;
    game.slotResult.currentWinAmount = game.slotResult.winAmount;
    this.slotResult.currentWinAmount >= 15 * (this.slotResult.linesBet + this.account.superbet) * this.slotResult.betPerLine && (game.isPostBonusBigWin = !0);
    game.account.startOnScreenBalance = game.account.currentOnScreenBalance;
    game.account.targetOnScreenBalance = game.account.newBalance;
    game.account.balance = game.account.newBalance;
    1 === game.lastFeature ? (0 === game.slotResult.currentWinAmount && game.playSoundHQ("WinTune1A"),
    game.isPostBonusBigWin ? 0 < game.preBonusLineWinAmount ? (game.winMeterCurrentAmount = 0,
    game.winMeterTargetAmount = game.preBonusLineWinAmount,
    rollupFeatureWin(0, game.winMeterTargetAmount)) : game.account.rollUpCounter = 0 : game.winMeterLastAmount < game.slotResult.winAmount ? (game.account.rollUpCounter = 0,
    this.isStartWinMeterNeed = !0) : game.account.rollUpCounter = 0,
    game.api_playVerySmallWinAnim()) : 2 === game.lastFeature ? (game.isPostBonusBigWin ? 0 < game.preBonusLineWinAmount ? (game.winMeterCurrentAmount = this.winMeterTargetAmount,
    game.winMeterTargetAmount += game.preBonusLineWinAmount,
    rollupFeatureWin(game.winMeterCurrentAmount, game.winMeterTargetAmount)) : (this.winMeterCurrentAmount = game.slotResult.winAmount,
    game.account.rollUpCounter = 0) : game.winMeterLastAmount < game.slotResult.winAmount ? (game.slotResult.currentWinAmount = game.preBonusLineWinAmount,
    2 == game.recoverBonusFeature && (Boolean(0 >= game.preBonusLineWinAmount) && (this.isStartWinMeterNeed = !1,
    game.account.rollUpCounter = game.account.ROLLUP_TIME,
    game.account.winAmount = game.slotResult.winAmount),
    game.winMeterLastAmount = Number(game.account.currentOnScreenWinAmount),
    game.account.winAmount = Number(game.winMeterLastAmount)),
    rollupFeatureWin(game.winMeterLastAmount, game.account.winAmount + game.preBonusLineWinAmount),
    this.isStartWinMeterNeed = !0) : game.account.rollUpCounter = 0,
    game.api_playVerySmallWinAnim()) : 3 === game.lastFeature ? (0 < game.preBonusLineWinAmount ? (rollupFeatureWin(game.winMeterLastAmount, game.winMeterLastAmount + game.preBonusLineWinAmount),
    this.isStartWinMeterNeed = !0) : (this.winMeterCurrentAmount = game.slotResult.winAmount,
    game.account.rollUpCounter = 0),
    game.api_playVerySmallWinAnim()) : game.snapWinMeter();
    game.playWinSounds();
    this.isStartWinMeterNeed && game.startWinMeter(game.winMeterLastAmount, game.slotResult.winAmount);
    this.isStartWinMeterNeed = !1
}
;
startGame = function() {
    game.playSound("silentaudio");
    initAssets();
    null != game.imagePaylineEnds ? bkctx.drawImage(game.imagePaylineEnds, 0, 0) : createPaylineTexture(bkctx);
    for (var b = 0; b < game.account.NUM_PAYLINES; b++)
        game.paylines.push(new Payline(0,0,game.layout.paylineColours[b],game.layout.paylines[b]));
    game.meters.setMeterLabels(TXT_METERS_BALANCE, TXT_METERS_BET, TXT_METERS_WIN);
    createPaylineTexture2();
    calculatePaylineEndSizes();
    game.reelMan.init(game.defaultStops);
    loaded = !0;
    document.getElementById("game").style.display = "block";
    document.getElementById("help").style.display = "none";
    document.documentElement.style.webkitTouchCallout = "none";
    document.documentElement.style.webkitUserSelect = "none";
	console.log("#####GAME_INTERACTION-WindowObj game ready");
    windowObj.gameReady();
    game.clock.init(game.layout.CLOCK_POSITION);
    fixFor888 && ("undefined" != typeof TXT_MENU_BACK && $("#btnBack").prop("value", TXT_MENU_BACK),
    "undefined" != typeof TXT_MENU_LOBBY && $("#btnLobby").prop("value", TXT_MENU_LOBBY),
    "undefined" != typeof TXT_MENU_CASHIER && $("#btnCashier").prop("value", TXT_MENU_CASHIER),
    "undefined" != typeof TXT_MENU_HELP && $("#btnHelp").prop("value", TXT_MENU_HELP));
    showMeters();
    game.freeRounds.init();
    game.loadedComplete = !0;
    null != game.muteBeforeLoad && game.ui.setMute(game.muteBeforeLoad)
}
;
function GrowSymbol() {
    AF.Movie.call(this, 450);
    var b = new TPSprite("sym11");
    b.qualityScale = isStandardQualityFlag() ? 1 : 0.5;
    this.addTween((new AF.Tween(b,"scaleX",1)).set(150, 1.5).set(375, 1));
    this.addTween((new AF.Tween(b,"scaleY",1)).set(150, 1.5).set(375, 1));
    if (isStandardQualityFlag()) {
        var a = 0.25 * -game.layout.symbolWidth
          , d = 0.25 * -game.layout.symbolHeight;
        this.addTween((new AF.Tween(b,"x",0)).set(150, a).set(375, 0));
        this.addTween((new AF.Tween(b,"y",0)).set(150, d).set(375, 0))
    } else
        this.addTween((new AF.Tween(b,"x",-84)).set(0, -84).set(150, -150).set(375, -84)),
        this.addTween((new AF.Tween(b,"y",-84)).set(0, -84).set(150, -150).set(375, -84));
    this.addChild(b);
    this.addAction(function() {
        this.stop(0);
        this.visible = !1
    }, 449)
}
GrowSymbol.prototype = new AF.Movie;
initSound = function(b) {
    game.initAudioPlayer();
    b ? (welcome.draw(),
    waitForSoundToLoad ? game.playSound("firstsound") : beginGameLoop(),
    game.ui.enableAudio(!0)) : (game.ui.enableAudio(!0),
    game.ui.setMute(!0),
    beginGameLoop())
}
;
function FeatureResult() {
    this.winAmount = this.winType = 0;
    this.numReels = 5;
    this.stops = [];
    this.numFreeGames = this.numWinningPaylines = 0;
    this.bProcessed = !0;
    this.linesBet = this.betPerLine = 0;
    this.paylineWins = [];
    this.paylineWins2 = [];
    this.FPM = {};
    this.CFP = 0;
    this.SSS = [];
    this.getFreeGamesLeft = function() {
        return this.numFreeGames
    }
    ;
    this.clear = function() {
        this.winAmount = this.winType = 0;
        this.numReels = 5;
        this.numFreeGames = this.numWinningPaylines = 0;
        this.paylineWins.length = 0;
        this.paylineWins2.length = 0;
        this.bProcessed = !0;
        this.FPM = {};
        this.CFP = 0
    }
}
var FS_INIT = 0
  , FS_START = 1
  , FS_SUMMARY = 6
  , FS_END = 7;
function PickFeature() {
    this.TRIGGER_TIMER_DELAY = 1E3;
    this.inFeature = !1;
    this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
    this.numRounds = 0;
    this.ignoreInput = !1;
    this.state = FS_INIT;
    this.FPM = [];
    this.timer = 1E3;
    this.currentPick = 0;
    this.numPicks = 1;
    this.totalWinAmount = 0;
    this.triggerFeature = !1;
    this.prizes = [];
    this.addUpPrizes = [];
    this.foxFounds = new FoxFoundSMovieHQ;
    this.leprachaunChase = new LeprechaunCatchMovieHQ;
    this.leprachaunEscape = new LeprechaunEscapeHQ;
    this.pause = 0;
    this.animType = -1;
    this.clear = function() {
        this.state = FS_INIT;
        this.FPM = [];
        this.timer = 1E3;
        this.currentPick = 0;
        this.numPicks = 1;
        this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY;
        this.numRounds = this.totalWinAmount = 0;
        this.prizes = [];
        this.addUpPrizes = [];
        this.leprachaunEscape = this.leprachaunChase = this.foxFounds = null;
        this.pause = 0;
        this.animType = -1
    }
    ;
    this.setSize = function(b, a) {
        this.width = b;
        this.height = a
    }
    ;
    this.setPosition = function(b, a) {
        this.posX = b;
        this.posY = a
    }
    ;
    this.setState = function(b) {
        if (b != this.state)
            switch (this.state = b,
            this.state) {
            case FS_START:
                -1 == this.animType ? (this.leprachaunEscape = new LeprechaunEscapeHQ,
                this.leprachaunEscape.start()) : 0 == this.animType ? (game.enableAllUI(!1),
                this.foxFounds = new FoxFoundSMovieHQ,
                this.foxFounds.start(),
                sendFeatureStartMsg()) : 1 == this.animType && (this.leprachaunChase = new LeprechaunCatchMovieHQ,
                this.leprachaunChase.start(),
                sendFeatureStartMsg());
                break;
            case FS_END:
                game.featureParsed = !1,
                this.m_TriggerTimer = this.TRIGGER_TIMER_DELAY,
                sendFeatureEndMsg(),
                feature.inFeature = !1,
                game.slotResult.verySmallWin = !0,
                game.slotResult.currentWinAmount = game.slotResult.winAmount = Number(this.totalWinAmount) + Number(game.slotResult.winAmount),
                feature.clear(),
                game.featureStarted = !1
            }
    }
    ;
    this.recover = function() {
        for (var b = 0; b < this.FPM.length; b++)
            this.numPicks++;
        this.inFeature = feature.ignoreInput = !0;
        game.slotResult.currentWinAmount = 0;
        0 < this.FPM.length && (game.winMeterLastAmount = this.addUpPrizes[this.FPM.length - 1])
    }
    ;
    this.draw = function() {
        this.inFeature && (-1 == this.animType ? this.leprachaunEscape.draw(ctx) : 0 == this.animType ? this.foxFounds.draw(ctx) : 1 == this.animType && this.leprachaunChase.draw(ctx))
    }
    ;
    this.parsePrizes = function(b) {
        b = b.split("|");
        if (!(2 > b.length)) {
            b = b[b.length - 2].split(";");
            this.totalWinAmount = b[0];
            this.numRounds = Number(b[1]);
            this.prizes = [];
            this.addUpPrizes = [];
            for (var a = 0; a < this.numRounds; a++)
                this.prizes.push({
                    prize: b[a + 3],
                    revealed: !1
                }),
                0 == a ? this.addUpPrizes.push(Number(b[a + 3])) : this.addUpPrizes.push(this.addUpPrizes[a - 1] + Number(b[a + 3]));
            this.pause = b[this.numRounds + 3];
            this.animType = b[this.numRounds + 4]
        }
    }
    ;
    this.parseFPM = function(b) {
        var a = null;
        "" != b && (a = b.split("|")[0].split(";"));
        for (b = 0; b < a.length - 1; b++)
            this.FPM.push(Number(a[b]))
    }
}
function CircleBg(b) {
    AF.Movie.call(this, 16 * b);
    var a = new AFSpriteWrap(spriteAssets.getByID("introScreenBg"));
    a.x = 454 - a.width / 2;
    a.y = 287 - a.height / 2;
    this.addChild(a);
    this.addTween((new AF.Tween(a,"alpha")).set(0, 0).set(5 * b, 1).set(12 * b).set(16 * b, 0));
    this.addTween((new AF.Tween(a,"x",454 - 0.7 * (a.width / 2))).set(5 * b, 454 - 0.8 * 1.4 * (a.width / 2)).set(7 * b, 454 - 1.4 * (a.width / 2)).set(8 * b).set(9 * b, 454 - 0.8 * 1.4 * (a.width / 2)).set(10 * b).set(11 * b, 454 - 1.4 * (a.width / 2)).set(16 * b));
    this.addTween((new AF.Tween(a,"y",287 - 0.55 * (a.height / 2))).set(5 * b, 287 - 0.8 * 1.1 * (a.height / 2)).set(7 * b, 287 - 1.1 * (a.height / 2)).set(8 * b).set(9 * b, 287 - 0.8 * 1.1 * (a.height / 2)).set(10 * b).set(11 * b, 287 - 1.1 * (a.height / 2)).set(16 * b));
    this.addTween((new AF.Tween(a,"scaleX",0.7)).set(5 * b, 1.4 * 0.8).set(7 * b, 1.4).set(8 * b).set(9 * b, 1.4 * 0.8).set(10 * b).set(11 * b, 1.4).set(16 * b));
    this.addTween((new AF.Tween(a,"scaleY",0.55)).set(5 * b, 1.1 * 0.8).set(7 * b, 1.1).set(8 * b).set(9 * b, 1.1 * 0.8).set(10 * b).set(11 * b, 1.1).set(16 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.play(11 * b)
    }, 12 * b);
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 16 * b - 1)
}
CircleBg.prototype = new AF.Movie;
function FoxFoundSMovie() {
    AF.Movie.call(this, 6250);
    AF.Movie.root.addChild(this);
    this.setMask(0, 0, 960, 568);
    var b = 0
      , a = new CircleBg(50);
    this.addChild(a);
    var d = new FoxIn(50,346,120);
    this.addChild(d);
    var c = new FoxFundAnimA(50,346,120);
    this.addChild(c);
    var e = new FoxFundAnimB(50,346,120);
    this.addChild(e);
    var f = new FoxFundAnimC(50,346,120);
    this.addChild(f);
    var g = new FoxFundAnimD(50,346,120);
    this.addChild(g);
    var k = new FoxFundAnimE(50,346,120);
    this.addChild(k);
    var p = new FoxOut(50,346,120);
    this.addChild(p);
    var n = new CoinsStrip(50,326,120);
    this.addChild(n);
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0;
        feature.recover()
    }
    ;
    this.addAction(function() {
        a.start()
    }, 0);
    this.addAction(function() {
        d.start()
    }, 750);
    this.addAction(function() {
        c.start()
    }, 1450);
    this.addAction(function() {
        game.featureStarted ? 0 == feature.numRounds - feature.FPM.length && (this.play(5150),
        c.stop(),
        c.visible = !1) : (this.play(2430),
        c.stop())
    }, 2448);
    this.addAction(function() {
        c.stop();
        c.visible = !1;
        e.start();
        feature.ignoreInput = !1;
        sendFeaturePickMsg(feature.numPicks)
    }, 2450);
    this.addAction(function() {
        f.start()
    }, 2950);
    this.addAction(function() {
        n.start()
    }, 3750);
    this.addAction(function() {
        1 == feature.numPicks ? rollupFeatureWin(Number(game.slotResult.winAmount), Number(feature.prizes[0].prize) + Number(game.slotResult.winAmount)) : rollupFeatureWin(Number(game.winMeterLastAmount), Number(game.winMeterLastAmount) + Number(feature.prizes[feature.numPicks - 1].prize));
        game.api_resetWinMeterTimer();
        playFeatureSound("Shake-Rollup")
    }, 3900);
    this.addAction(function() {
        g.start()
    }, 4550);
    this.addAction(function() {
        if (feature.ignoreInput) {
            b += 1;
            if (feature.numPicks == feature.pause) {
                if (20 > b) {
                    this.play(5E3);
                    return
                }
            } else if (2 > b) {
                this.play(5E3);
                return
            }
            b = 0;
            feature.numPicks++;
            feature.numPicks <= feature.numRounds ? this.play(2450) : feature.setState(FS_SUMMARY);
            g.stop();
            g.visible = !1
        } else
            this.play(5E3)
    }, 5148);
    this.addAction(function() {
        k.start()
    }, 5150);
    this.addAction(function() {
        p.start()
    }, 5650);
    this.addAction(function() {
        a.play(600)
    }, 6050);
    this.addAction(function() {
        this.stop();
        this.visible = !1;
        feature.setState(FS_END);
        this.children = [];
        this.actions = [];
        this.tweens = [];
        feature.clear()
    }, 6249)
}
FoxFoundSMovie.prototype = new AF.Movie;
function CoinsStrip(b, a, d) {
    b *= 12;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("coinsstrip").img,6);
    c.x = a;
    c.y = d;
    c.scaleX = 1;
    c.scaleY = 1;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5", b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
CoinsStrip.prototype = new AF.Movie;
function FoxIn(b, a, d) {
    b *= 14;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("infoxfounds").img,1);
    c.x = 960;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.Tween(c,"x",c.x)).set(b, a));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
FoxIn.prototype = new AF.Movie;
function FoxFundAnimA(b, a, d) {
    var c = 20 * b;
    AF.Movie.call(this, c);
    var e = new AF.Sprite(spriteAssets.getByID("strip1").img,11);
    e.x = a;
    e.y = d;
    e.scaleX = 1;
    e.scaleY = 1;
    this.addChild(e);
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,5,5", c));
    this.addTween((new AF.Tween(e,"x",e.x)).set(15 * b, a).set(30 * b, a));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.play(16 * b)
    }, c - 1)
}
FoxFundAnimA.prototype = new AF.Movie;
function FoxFundAnimB(b, a, d) {
    b *= 10;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("strip1").img,11);
    c.x = a;
    c.y = d;
    c.scaleX = 1;
    c.scaleY = 1;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "6,6,7,7,8,8,9,9,10,10", b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
FoxFundAnimB.prototype = new AF.Movie;
function FoxFundAnimC(b, a, d) {
    b *= 32;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("strip2").img,16);
    c.x = a;
    c.y = d;
    c.scaleX = 1;
    c.scaleY = 1;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15", b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
FoxFundAnimC.prototype = new AF.Movie;
function FoxFundAnimD(b, a, d) {
    var c = 12 * b;
    AF.Movie.call(this, c);
    var e = new AF.Sprite(spriteAssets.getByID("strip1").img,11);
    e.x = a;
    e.y = d;
    e.scaleX = 1;
    e.scaleY = 1;
    this.addChild(e);
    this.addTween((new AF.SpriteTween(e,0)).set(0, "10,10,9,9,8,8,7,7,6,6,6,6", c));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.play(8 * b)
    }, c - 1)
}
FoxFundAnimD.prototype = new AF.Movie;
function FoxFundAnimE(b, a, d) {
    b *= 10;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("strip3").img,5);
    c.x = a;
    c.y = d;
    c.scaleX = 1;
    c.scaleY = 1;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4", b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
FoxFundAnimE.prototype = new AF.Movie;
function FoxOut(b, a, d) {
    b *= 8;
    AF.Movie.call(this, b);
    var c = new AF.Sprite(spriteAssets.getByID("outfoxfounds").img,1);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.Tween(c,"x",c.x)).set(b, 960));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop()
    }, b - 1)
}
FoxOut.prototype = new AF.Movie;
function LeprechaunChaseMovie() {
    AF.Movie.call(this, 10140);
    AF.Movie.root.addChild(this);
    this.setMask(0, 0, 960, 568);
    var b = 0
      , a = new CircleBg(60);
    this.addChild(a);
    var d = new Leprechaunrun(60,-57,351);
    this.addChild(d);
    var c = new FoxDiv(60,275,131);
    this.addChild(c);
    var e = new FoxCatch(60,275,131);
    this.addChild(e);
    var f = new FoxRise(60,275,131);
    this.addChild(f);
    var g = new FoxShake(60,275,131);
    this.addChild(g);
    var k = new FoxEnd(60,275,131);
    this.addChild(k);
    var p = new LeprechaunHit(60,543,311);
    this.addChild(p);
    var n = new CoinsFalling(60,445,221);
    this.addChild(n);
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0;
        feature.recover()
    }
    ;
    this.addAction(function() {
        a.start()
    }, 0);
    this.addAction(function() {
        d.start()
    }, 480);
    this.addAction(function() {
        c.start()
    }, 900);
    this.addAction(function() {
        e.start();
        d.stop();
        d.visible = !1
    }, 1740);
    this.addAction(function() {
        f.start()
    }, 3300);
    this.addAction(function() {
        game.featureStarted ? 0 == feature.numRounds - feature.FPM.length && (this.play(6960),
        f.stop(),
        f.visible = !1) : this.play(5280)
    }, 5398);
    this.addAction(function() {
        f.stop();
        f.visible = !1;
        g.start();
        feature.ignoreInput = !1;
        sendFeaturePickMsg(feature.numPicks)
    }, 5400);
    this.addAction(function() {
        n.start();
        playFeatureSound("Shake-Rollup");
        1 == feature.numPicks ? rollupFeatureWin(Number(game.slotResult.winAmount), Number(feature.prizes[0].prize) + Number(game.slotResult.winAmount)) : rollupFeatureWin(Number(game.winMeterLastAmount), Number(game.winMeterLastAmount) + Number(feature.prizes[feature.numPicks - 1].prize));
        game.api_resetWinMeterTimer()
    }, 5640);
    this.addAction(function() {
        feature.ignoreInput ? (b += 1,
        10 > b ? this.play(6840) : (b = 0,
        feature.numPicks++,
        feature.numPicks <= feature.numRounds ? this.play(5400) : feature.setState(FS_SUMMARY))) : this.play(6840)
    }, 6958);
    this.addAction(function() {
        g.stop();
        g.visible = !1;
        k.start()
    }, 6960);
    this.addAction(function() {
        p.start()
    }, 8160);
    this.addTween((new AF.Tween(k,"alpha",1)).set(9300).set(9720, 0));
    this.addTween((new AF.Tween(this,"alpha",1)).set(9540).set(10140, 0));
    this.addAction(function() {
        k.stop();
        k.visible = !1;
        this.stop();
        this.visible = !1;
        feature.setState(FS_END);
        this.children = [];
        this.actions = [];
        this.tweens = [];
        feature.clear()
    }, 10139)
}
LeprechaunChaseMovie.prototype = new AF.Movie;
function LeprachaunEscape() {
    AF.Movie.call(this, 5400);
    AF.Movie.root.addChild(this);
    this.setMask(0, 0, 960, 568);
    var b = new CircleBg(60);
    this.addChild(b);
    var a = new FoxDiv(60,275,131);
    this.addChild(a);
    var d = new FoxEscape(60,275,131);
    this.addChild(d);
    var c = new FoxMiss(60,275,131);
    this.addChild(c);
    var e = new Leprechaunrun(60,-57,351);
    this.addChild(e);
    this.addTween((new AF.Tween(c,"alpha",1)).set(4500).set(5100, 0));
    this.addTween((new AF.Tween(this,"alpha",1)).set(4800).set(5400, 0));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        b.start()
    }, 0);
    this.addAction(function() {
        e.start()
    }, 480);
    this.addAction(function() {
        a.start()
    }, 900);
    this.addAction(function() {
        d.start()
    }, 1740);
    this.addAction(function() {
        c.start()
    }, 2400);
    this.addAction(function() {
        this.stop();
        this.visible = !1;
        feature.inFeature = !1;
        feature.triggerFeature = !1;
        game.slotResult.winType -= WT_PICK_FEATURE_TRIGGER;
        SSS = null;
        this.children = [];
        this.actions = [];
        this.tweens = [];
        game.api_postBonusAction();
        feature.clear()
    }, 5399)
}
LeprachaunEscape.prototype = new AF.Movie;
function Leprechaunrun(b, a, d) {
    this.animLength = 36 * b;
    this.offset = 1040;
    AF.Movie.call(this, this.animLength);
    b = new AF.Sprite(spriteAssets.getByID("leprechaunruncycleloop").img,2);
    b.x = a;
    b.y = d;
    this.addChild(b);
    this.addTween((new AF.SpriteTween(b,0)).set(0, "0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1", this.animLength));
    this.addTween((new AF.Tween(b,"x",b.x)).set(this.animLength, b.x + this.offset));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, this.animLength - 1)
}
Leprechaunrun.prototype = new AF.Movie;
function FoxDiv(b, a, d) {
    this.animLength = 14 * b;
    AF.Movie.call(this, this.animLength);
    var c = new AF.Sprite(spriteAssets.getByID("fox_dive").img,1);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.Tween(c,"x",c.x - 571)).set(14 * b, c.x - 50));
    this.addTween((new AF.Tween(c,"y")).set(0, c.y - 10).set(2 * b, c.y - 20).set(4 * b, c.y - 50).set(6 * b, c.y - 80).set(8 * b, c.y - 50).set(10 * b, c.y - 20).set(12 * b, c.y + 10).set(14 * b, c.y + 40));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, this.animLength - 1)
}
FoxDiv.prototype = new AF.Movie;
function FoxCatch(b, a, d) {
    AF.Movie.call(this, 26 * b);
    var c = new AF.Sprite(spriteAssets.getByID("lepcatch").img,14);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13", 26 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 26 * b - 1)
}
FoxCatch.prototype = new AF.Movie;
function FoxEscape(b, a, d) {
    AF.Movie.call(this, 26 * b);
    var c = new AF.Sprite(spriteAssets.getByID("lepcatch").img,14);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween(new AF.SpriteTween(c,"0",26 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 26 * b - 1)
}
FoxEscape.prototype = new AF.Movie;
function FoxRise(b, a, d) {
    AF.Movie.call(this, 35 * b);
    var c = new AF.Sprite(spriteAssets.getByID("rise").img,16);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,15,15,15", 35 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.play(31 * b)
    }, 35 * b - 1)
}
FoxRise.prototype = new AF.Movie;
function FoxMiss(b, a, d) {
    AF.Movie.call(this, 22 * b);
    var c = new AF.Sprite(spriteAssets.getByID("miss").img,8);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,6,6,5,5", 22 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.play(8 * b)
    }, 22 * b - 1)
}
FoxMiss.prototype = new AF.Movie;
function FoxShake(b, a, d) {
    AF.Movie.call(this, 26 * b);
    var c = new AF.Sprite(spriteAssets.getByID("shake").img,9);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,6,6,4,4,2,2,0,0", 26 * b));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
}
FoxShake.prototype = new AF.Movie;
function CoinsFalling(b, a, d) {
    AF.Movie.call(this, 21 * b);
    var c = new AF.Sprite(spriteAssets.getByID("coinsfallingstrip").img,10);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,9", 21 * b));
    this.addTween((new AF.Tween(c,"alpha",1)).set(17 * b).set(21 * b, 0));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.visible = !1;
        this.stop()
    }, 21 * b - 1)
}
CoinsFalling.prototype = new AF.Movie;
function FoxEnd(b, a, d) {
    AF.Movie.call(this, 36 * b);
    var c = new AF.Sprite(spriteAssets.getByID("kick").img,15);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,14,14,14,14,14,14", 36 * b));
    this.addTween((new AF.Tween(c,"alpha",1)).set(32 * b).set(36 * b, 0));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 36 * b - 1)
}
FoxEnd.prototype = new AF.Movie;
function LeprechaunHit(b, a, d) {
    AF.Movie.call(this, 10 * b);
    var c = new AF.Sprite(spriteAssets.getByID("leprechaunhit").img,1);
    c.x = a;
    c.y = d;
    this.addChild(c);
    this.addTween((new AF.Tween(c,"x",c.x)).set(0).set(10 * b, 1100));
    this.addTween((new AF.Tween(c,"y",c.y)).set(0).set(2 * b, c.y - 100).set(4 * b, c.y - 170).set(6 * b, c.y - 210).set(8 * b, c.y - 220).set(10 * b, c.y - 220));
    this.addTween((new AF.Tween(c,"rotate",0)).set(10 * b, 180));
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, 10 * b - 1)
}
LeprechaunHit.prototype = new AF.Movie;
var processFeatureMsg = function(b) {
    var a = new FeatureResult;
    a.clear();
    for (var d = 0, c = 0, e = 0, f = 0, g = 0, k = 0, p = 0, n = 0, q = 0, r = [], l = [], j = 0, o = [], s = [], e = 0; e < b.length; e++) {
        var y = b[e].split("=");
        switch (y[0]) {
        case "AB":
            game.account.newBalance = Number(y[1]);
            break;
        case "BPL":
            f = Number(y[1]);
            break;
        case "LB":
            g = Number(y[1]);
            break;
        case "RS":
            a.stops = y[1].split("|");
            break;
        case "TW":
            d = Number(y[1]);
            break;
        case "WC":
            n = y[1].split("|");
            k = Number(n[0]);
            p = Number(n[1]);
            n = Number(n[2]);
            break;
        case "WS":
            r = y[1].split("|");
            break;
        case "NFG":
            q = Number(y[1]);
            break;
        case "MSGID":
            "FEATURE_START" == y[1] && (game.featureStarted = !0)
        }
    }
    e = f * g;
    0 < k && (0 < d && d <= 5 * e ? c |= WT_SMALL_WIN : 5 * e < d && d <= 25 * e ? c |= WT_MEDIUM_WIN : d > 25 * e && (c |= WT_LARGE_WIN));
    p && (c |= WT_SCATTER_WIN);
    n && (c |= WT_FEATURE_TRIGGER);
    a.numWinningPaylines = p ? k + 1 : k;
    for (e = 0; e < r.length - 1; e++)
        b = r[e].split(";"),
        n = convertToBitfield(b[2], b[3], b[4], b[5], b[6]),
        -1 == b[0] ? j = n : -2 != b[0] && (l.push(b[0]),
        o.push(n),
        s.push(0));
    p && (a.paylineWins.push({
        first: -1,
        second: j
    }),
    a.paylineWins2.push({
        first: -1,
        second: j
    }));
    if (0 < k)
        for (e = 0; e < k; e++)
            a.paylineWins.push({
                first: l[e],
                second: o[e]
            }),
            a.paylineWins2.push({
                first: l[e],
                second: s[e]
            });
    a.linesBet = g;
    a.betPerLine = f;
    a.numFreeGames = q;
    a.winAmount = d;
    a.winType = c;
    a.bProcessed = !1;
    feature.ignoreInput = !0;
    return a
};
var leprechaunSpeedX = 10
  , foxSpeedX = 10
  , maskPercentWidth = 0.07
  , gameAreaWidth = 960
  , gameAreaHeight = 600;
function FoxFoundSMovieHQ() {
    var b = this;
    AF.Movie.call(this, 6800);
    AF.Movie.root.addChild(this);
    this.setMask(0, 0, 960, 568);
    var a = 0;
    b.bufferFox = new AF.BufferedPanel(960,600);
    this.addChild(b.bufferFox);
    var d = new FoxPotInHQ(40,270,160);
    b.bufferFox.addChild(d);
    var c = new FoxPotHandsUpHQ(40,270,160);
    this.addChild(c);
    var e = new FoxPotDigAndThrowUpHQ(40,270,160);
    this.addChild(e);
    var f = new FoxPotHandsDownHQ(40,270,160);
    this.addChild(f);
    var g = new FoxPotIdleHQ(40,270,160);
    this.addChild(g);
    var k = new FoxPotOutHQ(40,270,160);
    b.bufferFox.addChild(k);
    var p = new CoinsStripHQ(40,270,160);
    this.addChild(p);
    this.visible = !1;
    this.start = function() {
        game.ambienceSounds.stopSound();
        this.play(0);
        this.visible = !0;
        game.preBonusLineWinAmount = 0;
        feature.recover()
    }
    ;
    this.addAction(function() {
        d.start();
        d.visible = !0;
        game.playSoundHQ("Fox-EnterScreech")
    }, 0);
    this.addAction(function() {
        d.visible = !1;
        g.visible = !0;
        g.start()
    }, 1640);
    this.addAction(function() {
        game.messageBar.m_Text = " ";
        game.preBonusLineWinAmount = Number(game.slotResult.winAmount)
    }, 2960);
    this.addAction(function() {
        game.featureStarted ? 0 === feature.numRounds - feature.FPM.length && (g.stopAnim(),
        this.play(5640)) : this.play(2980)
    }, 2998);
    this.addAction(function() {
        g.stopAnim();
        c.start();
        g.visible = !1;
        c.visible = !0
    }, 3E3);
    this.addAction(function() {
        c.visible = !1;
        e.visible = !0;
        e.start();
        feature.ignoreInput = !1;
        feature.currentPick++;
        sendFeaturePickMsg(feature.numPicks)
    }, 3280);
    this.addAction(function() {
        game.playSoundHQ("Fox-CoinDig")
    }, 3520);
    this.addAction(function() {
        p.start()
    }, 3920);
    this.addAction(function() {
        game.account.startOnScreenBalance = game.account.newBalance;
        game.account.targetOnScreenBalance = game.account.newBalance;
        1 == feature.numPicks ? rollupFeatureWin(0, Number(feature.prizes[0].prize)) : rollupFeatureWin(Number(game.winMeterLastAmount), Number(game.winMeterLastAmount) + Number(feature.prizes[feature.numPicks - 1].prize));
        game.api_resetWinMeterTimer()
    }, 4560);
    this.addAction(function() {
        game.playSoundHQ("BonusCoinsRollup")
    }, 5040);
    this.addAction(function() {
        if (feature.ignoreInput) {
            a += 1;
            if (feature.numPicks == feature.pause) {
                if (2 > a) {
                    this.play(5080);
                    return
                }
            } else if (1 > a) {
                this.play(5080);
                return
            }
            a = 0;
            feature.numPicks++;
            feature.numPicks <= feature.numRounds && this.play(3280)
        } else
            this.play(5080)
    }, 5118);
    this.addAction(function() {
        e.end();
        f.start();
        e.visible = !1;
        f.visible = !0
    }, 5280);
    this.addAction(function() {
        k.start();
        f.visible = !1;
        k.visible = !0
    }, 5640);
    this.addAction(function() {
        game.playSoundHQ("Fox-RunOffscreen")
    }, 5920);
    this.addAction(function() {
        this.stop();
        this.visible = !1;
        feature.setState(FS_END);
        this.children = [];
        this.actions = [];
        this.tweens = [];
        feature.clear();
        game.stopSoundHQ("FeatureLoop-FoxFunds");
        game.ambienceSounds.playSound()
    }, 6799);
    b._performDraw = b.performDraw;
    b.performDraw = function(a) {
        var c = gameViewMan.viewScale;
        b.bufferFox.buffer || b.bufferFox.performDraw(a);
        var e = b.bufferFox.buffer.getContext("2d");
        e.clearRect(0, 0, gameAreaWidth * c, gameAreaHeight * c);
        d.draw(e);
        k.draw(e);
        e.globalCompositeOperation = "destination-in";
        var f = e.createLinearGradient(0, 0, gameAreaWidth * c, 0);
        f.addColorStop(0, "rgba(0, 0, 0, 0)");
        f.addColorStop(maskPercentWidth, "rgba(0, 0, 0, 1)");
        f.addColorStop(1 - maskPercentWidth, "rgba(0, 0, 0, 1)");
        f.addColorStop(1, "rgba(0, 0, 0, 0)");
        e.fillStyle = f;
        e.fillRect(0, 0, gameAreaWidth * c, gameAreaHeight * c);
        e.globalCompositeOperation = "source-over";
        b._performDraw(a)
    }
}
FoxFoundSMovieHQ.prototype = new AF.Movie;
function FoxPotInHQ(b, a, d) {
    var c = new TPMovieclip("Fox-A")
      , e = (20 + c.framesCount) * b;
    AF.Movie.call(this, e);
    c.qualityScale = 0.9;
    c.x = 960;
    c.y = d;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0-" + (c.framesCount - 1), e));
    this.addChild(c);
    this.addTween((new AF.Tween(c,"x",c.x)).set(20 * b, a));
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.addAction(function() {
        this.stop()
    }, e - 1)
}
FoxPotInHQ.prototype = new AF.Movie;
function FoxPotHandsUpHQ(b, a, d) {
    b *= 7;
    AF.Movie.call(this, b);
    var c = new TPMovieclip("Fox-B");
    c.qualityScale = 0.9;
    c.x = a;
    c.y = d;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), b));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.addAction(function() {
        this.stop()
    }, b - 1)
}
FoxPotHandsUpHQ.prototype = new AF.Movie;
function FoxPotDigAndThrowUpHQ(b, a, d) {
    b *= 32;
    AF.Movie.call(this, b);
    var c = new TPMovieclip("Fox-C-Loop");
    c.qualityScale = 0.9;
    c.x = a;
    c.y = d;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), b));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.end = function() {
        this.stop()
    }
    ;
    this.addAction(function() {
        this.stop()
    }, b - 1)
}
FoxPotDigAndThrowUpHQ.prototype = new AF.Movie;
function FoxPotHandsDownHQ(b, a, d) {
    b *= 9;
    AF.Movie.call(this, b);
    var c = new TPMovieclip("Fox-D");
    c.qualityScale = 0.9;
    c.x = a;
    c.y = d;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), b));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.addAction(function() {
        this.stop()
    }, b - 1)
}
FoxPotHandsDownHQ.prototype = new AF.Movie;
function FoxPotIdleHQ(b, a, d) {
    b *= 34;
    AF.Movie.call(this, b);
    var c = new TPMovieclip("Fox-E-Loop");
    c.qualityScale = 0.9;
    c.x = a;
    c.y = d;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), b));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.stopAnim = function() {
        this.stop();
        this.visible = !1
    }
    ;
    this.addAction(function() {
        this.stop()
    }, b - 1)
}
FoxPotIdleHQ.prototype = new AF.Movie;
function FoxPotOutHQ(b, a, d) {
    var c = 14 * b;
    AF.Movie.call(this, c);
    var e = new TPMovieclip("Fox-F");
    e.qualityScale = 0.9;
    e.x = a;
    e.y = d;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), c));
    this.addChild(e);
    this.addTween((new AF.Tween(e,"x",e.x)).set(c - 3 * b, e.x).set(c, 960));
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.addAction(function() {
        this.stop()
    }, c - 1)
}
FoxPotOutHQ.prototype = new AF.Movie;
function CoinsStripHQ(b, a, d) {
    b *= 22;
    AF.Movie.call(this, b);
    var c = new TPMovieclip("Coins");
    c.qualityScale = 0.9;
    c.x = a - 310;
    c.y = d - 140;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), b));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, b - 1)
}
CoinsStripHQ.prototype = new AF.Movie;
function LeprechaunCatchMovieHQ() {
    AF.Movie.call(this, 16415);
    AF.Movie.root.addChild(this);
    var b = 0
      , a = new CoinsFallingHQ(35,280,120);
    this.addChild(a);
    var d = new LeprechaunRunLoopHQ(35,-90,120,!0);
    this.addChild(d);
    var c = new LeprechaunStartHQ(35,330,120);
    this.addChild(c);
    var e = new LeprechaunRunLoopHQ(35,330,120);
    this.addChild(e);
    var f = new FoxRunLoopHQ(35,280,120);
    this.addChild(f);
    var g = new FoxDiveHQ(35,280,120);
    this.addChild(g);
    var k = new FoxCatchHQ(35,280,120);
    this.addChild(k);
    var p = new FoxShakeLoopInbetweenHQ(35,280,120);
    this.addChild(p);
    var n = new FoxShakeLoopHQ(35,280,120);
    this.addChild(n);
    var q = new FoxEndHQ(35,280,120);
    this.addChild(q);
    var r = new LeprechaunHitHQ(35,280,120);
    this.addChild(r);
    var l = new FoxWalkLoopHQ(35,280,120);
    this.addChild(l);
    this.visible = !1;
    var j = 0
      , o = -1;
    this.playSwearing = function() {
        for (; o == j; )
            j = Math.floor(4 * Math.random());
        o = j;
        game.playSoundHQ("Leprechaun-swearing" + (j + 1))
    }
    ;
    this.start = function() {
        game.ambienceSounds.stopSound();
        this.play(0);
        this.visible = !0;
        game.preBonusLineWinAmount = 0;
        feature.recover()
    }
    ;
    this.addAction(function() {
        d.visible = !0;
        d.start()
    }, 0);
    this.addAction(function() {
        d.visible = !1;
        d.stop(0);
        c.visible = !0;
        c.start()
    }, 665);
    this.addAction(function() {
        f.visible = !0;
        f.start()
    }, 1260);
    this.addAction(function() {
        game.playSoundHQ("Leprechaun_Pup-Jump")
    }, 2275);
    this.addAction(function() {
        f.visible = !1;
        g.visible = !0;
        g.start()
    }, 2450);
    this.addAction(function() {
        game.playSoundHQ("Fox-Leap")
    }, 3465);
    this.addAction(function() {
        c.visible = !1;
        e.visible = !0;
        e.start()
    }, 3325);
    this.addAction(function() {
        game.messageBar.m_Text = " "
    }, 3955);
    this.addAction(function() {
        e.visible = !1;
        g.visible = !1;
        k.visible = !0;
        k.start()
    }, 3990);
    this.addAction(function() {
        k.visible = !1;
        p.visible = !0;
        p.start()
    }, 6545);
    this.addAction(function() {
        game.featureStarted ? 0 == feature.numRounds - feature.FPM.length && this.play(9485) : this.play(6545);
        game.preBonusLineWinAmount = Number(game.slotResult.winAmount)
    }, 7593);
    this.addAction(function() {
        p.visible = !1;
        n.visible = !0;
        n.start();
        feature.ignoreInput = !1;
        feature.currentPick++;
        sendFeaturePickMsg(feature.numPicks)
    }, 7595);
    this.addAction(function() {
        game.messageBar.m_Text = TXT_PICK_BONUS;
        a.start();
        curPrize = Number(feature.prizes[2 > feature.numPicks ? 0 : feature.numPicks - 1].prize);
        game.account.startOnScreenBalance = game.account.newBalance;
        game.account.targetOnScreenBalance = game.account.newBalance;
        1 == feature.numPicks ? rollupFeatureWin(0, curPrize) : rollupFeatureWin(Number(game.winMeterLastAmount), Number(game.winMeterLastAmount) + curPrize);
        game.api_resetWinMeterTimer()
    }, 7735);
    this.addAction(function() {
        this.playSwearing()
    }, 7840);
    this.addAction(function() {
        game.playSoundHQ("BonusCoinsRollup")
    }, 8015);
    this.addAction(function() {
        n.visible = !1;
        p.visible = !0;
        p.start()
    }, 8435);
    this.addAction(function() {
        feature.ignoreInput ? (b += 1,
        1 > b ? this.play(8435) : (b = 0,
        feature.numPicks++,
        feature.numPicks <= feature.numRounds && this.play(6545))) : this.play(8435)
    }, 9483);
    this.addAction(function() {
        p.stop();
        p.visible = !1;
        n.stop();
        n.visible = !1;
        q.visible = !0;
        q.start()
    }, 9485);
    this.addAction(function() {
        r.start();
        r.visible = !0
    }, 10325);
    this.addAction(function() {
        game.playSoundHQ("Leprechaun-Punt_EscapeBoing")
    }, 10360);
    this.addAction(function() {
        r.stop();
        r.visible = !1;
        q.stop();
        q.visible = !1;
        l.visible = !0;
        l.start()
    }, 13545);
    this.addAction(function() {
        l.visible = !1;
        l.stop();
        this.visible = !1;
        feature.setState(FS_END);
        feature.clear();
        game.slotResult.winType -= WT_PICK_FEATURE_TRIGGER
    }, 15785);
    this.addAction(function() {
        this.stop();
        this.children = [];
        this.actions = [];
        this.tweens = [];
        game.stopSoundHQ("FeatureLoop-FoxFunds");
        game.ambienceSounds.playSound()
    }, 16414)
}
LeprechaunCatchMovieHQ.prototype = new AF.Movie;
function LeprechaunEscapeHQ() {
    AF.Movie.call(this, 8785);
    AF.Movie.root.addChild(this);
    var b = new LeprechaunStartHQ(35,280,120);
    this.addChild(b);
    var a = new LeprechaunRunLoopHQ(35,-140,120,!0);
    this.addChild(a);
    var d = new LeprechaunRunLoopHQ(35,280,120);
    this.addChild(d);
    var c = new LeprechaunEscapeAnimHQ(35,280,120);
    this.addChild(c);
    var e = new FoxRunLoopHQ(35,280,120);
    this.addChild(e);
    var f = new FoxDiveHQ(35,280,120);
    this.addChild(f);
    var g = new FoxMissHQ(35,280,120);
    this.addChild(g);
    this.visible = !1;
    this.start = function() {
        game.ambienceSounds.stopSound();
        this.play(0);
        this.visible = !0;
        game.preBonusLineWinAmount = 0;
        feature.recover()
    }
    ;
    this.addAction(function() {
        a.visible = !0;
        a.start()
    }, 0);
    this.addAction(function() {
        a.visible = !1;
        a.stop(0);
        b.visible = !0;
        b.start()
    }, 665);
    this.addAction(function() {
        e.visible = !0;
        e.start()
    }, 1575);
    this.addAction(function() {
        game.playSoundHQ("Leprechaun_Pup-Jump")
    }, 2275);
    this.addAction(function() {
        e.visible = !1;
        f.visible = !0;
        f.start()
    }, 2765);
    this.addAction(function() {
        b.visible = !1;
        d.visible = !0;
        d.start()
    }, 3325);
    this.addAction(function() {
        game.playSoundHQ("Fox-Leap");
        feature.currentPick++
    }, 3465);
    this.addAction(function() {
        d.visible = !1;
        c.visible = !0;
        c.start()
    }, 3990);
    this.addAction(function() {
        game.playSoundHQ("Leprechaun-Whiskey");
        game.preBonusLineWinAmount = Number(game.slotResult.winAmount)
    }, 4200);
    this.addAction(function() {
        f.visible = !1;
        g.visible = !0;
        g.start()
    }, 4305);
    this.addAction(function() {
        c.visible = !1
    }, 5460);
    this.addAction(function() {
        this.visible = g.visible = !1;
        feature.inFeature = !1;
        feature.triggerFeature = !1;
        game.slotResult.winType -= WT_PICK_FEATURE_TRIGGER;
        SSS = null;
        game.api_postBonusAction();
        feature.clear()
    }, 8609);
    this.addAction(function() {
        this.stop();
        this.children = [];
        this.actions = [];
        this.tweens = [];
        game.stopSoundHQ("FeatureLoop-FoxFunds");
        game.ambienceSounds.playSound()
    }, 8784)
}
LeprechaunEscapeHQ.prototype = new AF.Movie;
function LeprechaunStartHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("LeprechaunStart")
      , f = e.framesCount * b;
    AF.Movie.call(this, f);
    e.qualityScale = 0.9;
    var g = a - 346
      , k = leprechaunSpeedX
      , a = g + 17 * k
      , k = g + k * (e.framesCount - 54);
    this.baseLineY = 220;
    e.x = g;
    e.y = d + this.baseLineY;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), f));
    this.addTween((new AF.Tween(e,"x",g)).set(17 * b, a).set(71 * b, a).set(f, k));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        e.x = g;
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? (e.x = g,
        this.play(0)) : this.stop()
    }, f - 1)
}
LeprechaunStartHQ.prototype = new AF.Movie;
function LeprechaunRunLoopHQ(b, a, d, c) {
    var e = !1
      , f = new TPMovieclip("LeprechaunRunCycle-Loop")
      , g = f.framesCount * b;
    AF.Movie.call(this, g);
    f.qualityScale = 0.9;
    var k = a - 82 + leprechaunSpeedX
      , a = k + leprechaunSpeedX * f.framesCount;
    this.baseLineY = 265;
    f.x = k;
    f.y = d + this.baseLineY;
    this.addTween((new AF.SpriteTween(f,0)).set(0, "0-" + (f.framesCount - 1), g));
    this.addTween((new AF.Tween(f,"x",k)).set(g, a));
    !0 === c && this.addTween((new AF.Tween(f,"alpha",0)).set(10 * b, 1));
    this.addChild(f);
    this.visible = !1;
    this.start = function(a) {
        f.x = k;
        a && (e = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        e ? (f.x = k,
        this.play(0)) : this.stop()
    }, g - 1)
}
LeprechaunRunLoopHQ.prototype = new AF.Movie;
function LeprechaunEscapeAnimHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("LeprechaunEscape")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    var a = a + 60 + leprechaunSpeedX
      , f = a + leprechaunSpeedX * e.framesCount;
    e.x = a;
    e.y = d + 220;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addTween((new AF.Tween(e,"x",a)).set(b, f));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
LeprechaunEscapeAnimHQ.prototype = new AF.Movie;
function FoxDiveHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxDive")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    var a = a - 700
      , f = a + foxSpeedX * e.framesCount;
    e.x = a;
    e.y = d + 20;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addTween((new AF.Tween(e,"x",a)).set(b, f));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
FoxDiveHQ.prototype = new AF.Movie;
function FoxMissHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxMiss")
      , f = e.framesCount * b;
    AF.Movie.call(this, f);
    e.qualityScale = 0.9;
    var a = a - 255
      , g = foxSpeedX
      , k = a + 0 * g
      , g = a + g * (e.framesCount - 90) + 300;
    e.y = d + 20;
    e.x = a;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), f));
    this.addTween((new AF.Tween(e,"x",a)).set(0 * b, k).set(90 * b, k).set(f, g));
    this.addTween((new AF.Tween(e,"alpha",1)).set(f - 10 * b, 1).set(f, 0));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, f - 1)
}
FoxMissHQ.prototype = new AF.Movie;
function FoxRunLoopHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxRunCycle-Loop")
      , f = 2 * e.framesCount * b;
    AF.Movie.call(this, f);
    e.qualityScale = 0.9;
    var a = a - 970
      , g = a + 2 * foxSpeedX * e.framesCount;
    e.x = a;
    e.y = d + 160;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1) + ", 0-" + (e.framesCount - 1), f));
    this.addTween((new AF.Tween(e,"x",a)).set(f, g));
    this.addTween((new AF.Tween(e,"alpha",0)).set(14 * b, 1));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, f - 1)
}
FoxRunLoopHQ.prototype = new AF.Movie;
function FoxCatchHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxCatch")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    e.y = d + 20;
    e.x = a - 100;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
FoxCatchHQ.prototype = new AF.Movie;
function FoxEndHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxEnd")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    e.x = a - 100;
    e.y = d + 20;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
FoxEndHQ.prototype = new AF.Movie;
function FoxShakeLoopInbetweenHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxShake-LoopInbetween")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    e.x = a - 100;
    e.y = d + 20;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
FoxShakeLoopInbetweenHQ.prototype = new AF.Movie;
function FoxShakeLoopHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxShake-Loop")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    e.x = a - 100;
    e.y = d + 20;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, b - 1)
}
FoxShakeLoopHQ.prototype = new AF.Movie;
function FoxWalkLoopHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("FoxWalk-Loop")
      , f = 2 * e.framesCount * b;
    AF.Movie.call(this, f);
    e.qualityScale = 0.9;
    var a = a - 100
      , g = a + 2 * foxSpeedX * e.framesCount;
    e.x = a;
    e.y = d + 20;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1) + ", 0-" + (e.framesCount - 1), f));
    this.addTween((new AF.Tween(e,"x",a)).set(f, g));
    this.addTween((new AF.Tween(e,"alpha",1)).set(54 * b, 1).set(64 * b - 1, 0));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0)
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : this.stop()
    }, f - 1)
}
FoxWalkLoopHQ.prototype = new AF.Movie;
function CoinsFallingHQ(b, a, d) {
    var c = !1
      , e = new TPMovieclip("CoinsFalling")
      , b = e.framesCount * b;
    AF.Movie.call(this, b);
    e.qualityScale = 0.9;
    e.x = a + 120;
    e.y = d + 130;
    this.addTween((new AF.SpriteTween(e,0)).set(0, "0-" + (e.framesCount - 1), b));
    this.addChild(e);
    this.visible = !1;
    this.start = function(a) {
        a && (c = a);
        this.play(0);
        this.visible = !0
    }
    ;
    this.addAction(function() {
        c ? this.play(0) : (this.stop(),
        this.visible = !1)
    }, b - 1)
}
CoinsFallingHQ.prototype = new AF.Movie;
function LeprechaunHitHQ(b, a, d) {
    var c = new TPMovieclip("LeprechaunHit")
      , e = c.framesCount * b;
    AF.Movie.call(this, e);
    c.qualityScale = 0.9;
    var a = a - 290
      , f = a + 20 * c.framesCount;
    c.x = a;
    c.y = d - 10;
    this.addTween((new AF.SpriteTween(c,0)).set(0, "0-" + (c.framesCount - 1), e));
    this.addTween((new AF.Tween(c,"x",a)).set(e, f));
    this.addTween((new AF.Tween(c,"alpha",1)).set(5 * b, 1).set(e, 0));
    this.addChild(c);
    this.visible = !1;
    this.start = function() {
        this.play(0)
    }
    ;
    this.addAction(function() {
        this.stop();
        this.visible = !1
    }, e - 1)
}
LeprechaunHitHQ.prototype = new AF.Movie;
